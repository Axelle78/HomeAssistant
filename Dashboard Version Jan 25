views:
  - title: Home
    type: sections
    sections:
      - type: grid
        cards:
          - type: heading
            icon: mdi:lightbulb
            heading: Lumière et températures
            heading_style: subtitle
            tap_action:
              action: navigate
              navigation_path: /lovelace/1
            badges:
              - type: entity
                show_state: true
                show_icon: true
                entity: sensor.nb_lumieres_allumees
                icon: mdi:lightbulb
                color: primary
          - show_current: true
            show_forecast: falsea
            type: weather-forecast
            entity: weather.mantes_la_jolie
            forecast_type: daily
            secondary_info_attribute: humidity
            grid_options:
              columns: 12
              rows: 2
          - type: horizontal-stack
            cards:
              - entities:
                  - sensor.indoor_exterieur_temperature
                labels: true
                color_thresholds:
                  - color: '#1bc6fd'
                    value: 5
                  - color: '#1bfd1b'
                    value: 15
                  - color: '#fdf31b'
                    value: 20
                  - color: '#fda41b'
                    value: 25
                  - color: '#fd331b'
                    value: 30
                name: Dehors
                font_size: 60
                line_color: green
                points_per_hour: 6
                height: 40
                show:
                  labels: true
                type: custom:mini-graph-card
              - animate: true
                name: Devant
                color_thresholds:
                  - color: '#1bc6fd'
                    value: 5
                  - color: '#1bfd1b'
                    value: 15
                  - color: '#fdf31b'
                    value: 20
                  - color: '#fda41b'
                    value: 25
                  - color: '#fd331b'
                    value: 30
                entities:
                  - sensor.temp4_temperature
                labels: true
                font_size: 60
                line_color: green
                points_per_hour: 6
                height: 40
                show:
                  labels: true
                type: custom:mini-graph-card
          - type: custom:mushroom-light-card
            entity: light.couloir
            name: Couloir
            layout_options:
              grid_columns: 2
              grid_rows: 1
            fill_container: false
            card_mod:
              style: |
                ha-card {
                {% if states('light.couloir')=='on'%}
                --ha-card-box-shadow: 0px 0px 10px 3px rgba(255,252,158)
                {% endif %};
                }
          - type: tile
            entity: input_text.garage
            tap_action:
              action: more-info
            icon_tap_action:
              action: none
            icon: mdi:home-lightbulb-outline
            hide_state: false
            vertical: false
            show_entity_picture: false
            card_mod:
              style: |
                ha-card {
                {% if states('input_text.garage')=='Allumé'%}
                --ha-card-box-shadow: 0px 0px 10px 3px rgba(255,252,158)
                {% endif %};
                }
          - graph: line
            type: sensor
            entity: sensor.salon_temperature
            detail: 1
            name: Salon
            card_mod:
              style: >
                ha-card {

                {% if states('light.salon_3')=='on' or
                states('light.halogene')=='on' %}

                --ha-card-box-shadow: 0px 0px 10px 3px rgba(255,252,158)

                {% endif %};

                }
          - type: custom:mushroom-light-card
            entity: light.salon_3
            name: Salon
            icon: mdi:lightbulb
            layout: vertical
            use_light_color: true
            card_mod:
              style: |
                ha-card {
                {% if states('light.salon_3')=='on'%}
                --ha-card-box-shadow: 0px 0px 10px 3px rgba(255,252,158)
                {% endif %};
                }
            layout_options:
              grid_columns: 1
              grid_rows: 2
          - type: custom:mushroom-light-card
            entity: light.halogene
            name: Halogène
            icon: mdi:ceiling-light
            layout: vertical
            use_light_color: true
            card_mod:
              style: |
                ha-card {
                {% if states('light.halogene')=='on'%}
                --ha-card-box-shadow: 0px 0px 10px 3px rgba(255,252,158)
                {% endif %};
                }
            layout_options:
              grid_columns: 1
              grid_rows: 2
          - graph: line
            type: sensor
            entity: sensor.ble_temperature_temperature_chambre
            detail: 1
            name: Chambre
            card_mod:
              style: |
                ha-card {
                  {% if states('light.chambre_parents')=='on' or states('light.go2')=='on' %}
                  --ha-card-box-shadow: 0px 0px 10px 3px rgba(255,252,158)
                  {% endif %};
                  }
          - entity: light.chambre_parents
            name: Chambre
            layout: vertical
            use_light_color: true
            type: custom:mushroom-light-card
            card_mod:
              style: |
                ha-card {
                  {% if states('light.chambre_parents')=='on'%}
                  --ha-card-box-shadow: 0px 0px 10px 3px rgba(255,252,158)
                  {% endif %};
                  }
            layout_options:
              grid_columns: 1
              grid_rows: 2
          - entity: light.go2
            name: Go
            icon: mdi:ceiling-light
            layout: vertical
            use_light_color: true
            type: custom:mushroom-light-card
            card_mod:
              style: >
                ha-card {
                  {% if states('light.go2')=='on' %}
                --ha-card-box-shadow: 0px 0px 10px 3px rgba{{
                state_attr('light.go2', 'rgb_color') }}

                {% endif %};

                }
            layout_options:
              grid_columns: 1
              grid_rows: 2
          - graph: line
            type: sensor
            entity: sensor.ble_temperature_temperature_chambre_chloe
            detail: 1
            name: Chloé
            card_mod:
              style: >
                ha-card {

                {% if states('light.bureau_chloe')=='on' or
                states('light.led_chloe')=='on'%}
                 --ha-card-box-shadow: 0px 0px 10px 3px rgba(255,252,158)}

                {% endif %};

                }
          - entity: light.bureau_chloe
            name: Bureau
            icon: mdi:desk-lamp
            layout: vertical
            use_light_color: false
            type: custom:mushroom-light-card
            layout_options:
              grid_columns: 1
              grid_rows: 2
            icon_color: primary
            card_mod:
              style: |
                ha-card {
                {% if states('light.bureau_chloe')=='on'%}
                 --ha-card-box-shadow: 0px 0px 10px 3px rgba{{
                state_attr('light.bureau_chloe', 'rgb_color') }}
                {% endif %};
                }
          - entity: light.led_chloe
            name: LED
            icon: mdi:lightbulb
            layout: vertical
            use_light_color: true
            type: custom:mushroom-light-card
            card_mod:
              style: >
                ha-card {
                  {% if states('light.led_chloe')=='on'%}
                --ha-card-box-shadow: 0px 0px 10px 3px rgba{{
                state_attr('light.led_chloe', 'rgb_color') }}

                {% endif %};

                }
            layout_options:
              grid_columns: 1
              grid_rows: 2
          - graph: line
            type: sensor
            entity: sensor.ble_temperature_temperature_chambre_de_lucie
            detail: 1
            name: Lucie
            icon: mdi:thermometer
            card_mod:
              style: |
                ha-card {
                 {% if states('light.lampe')=='on' or states('light.led')=='on' or states('light.led_lucie')=='on' %}
                 --ha-card-box-shadow: 0px 0px 10px 3px rgba(255,252,158)

                 {% endif %};

                 }
          - entity: light.lampe_2
            name: Lampe
            icon: mdi:ceiling-light
            layout: vertical
            use_light_color: true
            type: custom:mushroom-light-card
            layout_options:
              grid_columns: 1
              grid_rows: 2
            card_mod:
              style: |
                ha-card {
                 {% if states('light.lampe')=='on'%}
                 --ha-card-box-shadow: 0px 0px 10px 3px rgba{{
                  state_attr('light.lampe', 'rgb_color') }}

                 {% endif %};

                 }
          - entity: light.lucie
            name: LEDs
            icon: mdi:lightbulb
            layout: vertical
            use_light_color: true
            type: custom:mushroom-light-card
            card_mod:
              style: |
                ha-card { 
                  {% if states('light.lucie')=='on'%}
                     --ha-card-box-shadow: 0px 0px 10px 3px rgba{{ state_attr('light.lucie', 'rgb_color') }} 
                  {% endif %};

                  }
            tap_action:
              action: fire-dom-event
              browser_mod:
                service: browser_mod.popup
                data:
                  browser_id: THIS
                  size: normal
                  title: LEDs Chambre Lucie
                  content:
                    type: horizontal-stack
                    cards:
                      - entity: light.led
                        name: LED
                        icon: mdi:lightbulb
                        layout: vertical
                        use_light_color: true
                        type: custom:mushroom-light-card
                        card_mod:
                          style: |
                            ha-card {
                              {% if states('light.led')=='on'%}
                              --ha-card-box-shadow: 0px 0px 10px 3px rgba{{
                              state_attr('light.led', 'rgb_color') }}

                              {% endif %};

                              }
                      - entity: light.led_lucie
                        name: LED Lit
                        icon: mdi:lightbulb
                        layout: vertical
                        use_light_color: true
                        type: custom:mushroom-light-card
                        card_mod:
                          style: |
                            ha-card {
                              {% if states('light.led_lucie')=='on'%}
                              --ha-card-box-shadow: 0px 0px 10px 3px rgba{{
                              state_attr('light.led_lucie', 'rgb_color') }}

                              {% endif %};

                              }
            layout_options:
              grid_columns: 1
              grid_rows: 2
          - type: heading
            icon: mdi:speaker
            heading: Actions Alexa
            heading_style: subtitle
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                tap_action:
                  action: call-service
                  service: script.la_table
                entity: script.la_table
                size: 30%
                style: |
                  ha-card {
                    margin-bottom: -4px;
                    border-radius: 10px;
                    
                  }
              - type: custom:button-card
                tap_action:
                  action: call-service
                  service: script.lave_vaisselle
                entity: script.lave_vaisselle
                size: 30%
                style: |
                  ha-card {
                    margin-bottom: -4px;
                    border-radius: 10px;
                    
                  }
              - type: custom:button-card
                tap_action:
                  action: call-service
                  service: script.1611826806282
                entity: script.1611826806282
                size: 30%
                style: |
                  ha-card {
                    margin-bottom: -4px;
                    border-radius: 10px;
                    
                  }
      - type: grid
        cards:
          - type: heading
            icon: mdi:account
            heading_style: subtitle
            heading: Présences
            badges:
              - type: entity
                show_state: true
                show_icon: true
                entity: sensor.nb_personnes_presentes
                icon: mdi:home
              - type: entity
                show_state: true
                show_icon: true
                entity: sensor.nb_personne_ecole
                icon: mdi:account-school
              - type: entity
                show_state: true
                show_icon: true
                entity: sensor.nb_personnes_absentes
                icon: mdi:home-export-outline
          - type: horizontal-stack
            cards:
              - type: custom:swipe-card
                parameters:
                  effect: coverflow
                cards:
                  - type: custom:stack-in-card
                    mode: vertical
                    cards:
                      - type: custom:mushroom-person-card
                        entity: person.axelle
                        use_entity_picture: true
                        hide_name: false
                        layout: horizontal
                        card_mod:
                          style: |
                            ha-card {
                                border: none;
                                padding: 0;
                                 }
                            :host {
                                 --mush-icon-size: 80px;  
                                 --chip-box-shadow: none;
                                  --chip-background: none;
                                 } 
                            hui-vertical-stack-card $: |
                              div#root > * {
                              margin: 0px !important;
                            }
                      - type: custom:mushroom-chips-card
                        chips:
                          - type: template
                            icon_color: |2-
                                        {% set state=states('sensor.pixel_7a_battery_state_2') %}
                                        {% if state=='charging' %}
                                        green
                                        {% elif state=='discharging' %}
                                        #6f6f6f
                                       {% endif %}
                            entity: sensor.pixel_7a_battery_state_2
                            icon: mdi:power-plug
                            tap_action:
                              action: more-info
                            card_mod:
                              style: |
                                ha-card {
                                   padding: 0;
                                  --chip-border-width: 0px;
                                  --chip-box-shadow: none;
                                  --chip-background: none;
                                  margin-top: -30px;
                                padding-bottom: 0px;
                                padding-left: 0px;
                                padding-right: 0px;
                                }
                                hui-vertical-stack-card $: |
                                div#root > * {
                                margin: 0px !important;
                                }
                          - type: template
                            entity: sensor.pixel_7a_battery_level_2
                            icon: |2
                                        {% set bl = states('sensor.pixel_7a_battery_level_2') | int %}
                                        {% if bl < 10 %} mdi:battery-outline
                                        {% elif bl < 20 %} mdi:battery-10
                                        {% elif bl < 30 %} mdi:battery-20
                                        {% elif bl < 40 %} mdi:battery-30
                                        {% elif bl < 50 %} mdi:battery-40
                                        {% elif bl < 60 %} mdi:battery-50
                                        {% elif bl < 70 %} mdi:battery-60
                                        {% elif bl < 80 %} mdi:battery-70
                                        {% elif bl < 90 %} mdi:battery-80
                                        {% elif bl < 100 %} mdi:battery-90
                                        {% elif bl == 100 %} mdi:battery
                                        {% else %} mdi:battery-unknown
                                        {% endif %}
                            icon_color: |2-
                                        {% set bl = states('sensor.pixel_7a_battery_level_2') | int %}
                                        {% if bl < 10 %} red
                                        {% elif bl < 20 %} red
                                        {% elif bl < 30 %} red
                                        {% elif bl < 40 %} orange
                                        {% elif bl < 50 %} orange
                                        {% elif bl < 60 %} green
                                        {% elif bl < 70 %} green
                                        {% elif bl < 80 %} green
                                        {% elif bl < 90 %} green
                                        {% elif bl < 100 %} green
                                        {% elif bl == 100 %} green
                                        {% else %} grey
                                        {% endif %}
                            content: >
                              {% set bl =
                              states('sensor.pixel_7a_battery_level_2') | int %}

                              {% if bl < 100 %} 

                              {{ states('sensor.pixel_7a_battery_level_2') | int
                              }}%

                              {% endif %}
                            tap_action:
                              action: more-info
                            card_mod:
                              style: |
                                ha-card {
                                  padding: 0;
                                  --chip-border-width: 0px;
                                  --chip-box-shadow: none;
                                  --chip-background: none;
                                  padding-top: 0px;
                                margin-top: -30px;
                                padding-bottom: 0px;
                                padding-left: 0px;
                                padding-right: 0px;
                                }
                                hui-vertical-stack-card $: |
                                  div#root > * {
                                  margin: 0px !important;
                                }
                        alignment: center
                  - type: custom:stack-in-card
                    mode: vertical
                    cards:
                      - type: custom:button-card
                        entity: person.axelle
                        show_name: false
                        show_icon: false
                        aspect_ratio: 4/2
                        size: 50px
                        styles:
                          card:
                            - padding: 4%
                          custom_fields:
                            name:
                              - font-size: 20px;
                              - position: absolute
                              - left: 4%
                              - top: 12%
                              - color: '#ffffff'
                            steps:
                              - font-size: 15px;
                              - align-self: left
                              - position: absolute
                              - left: 4%
                              - top: 35%
                              - color: '#ffffff'
                            today:
                              - font-size: 15px;
                              - align-self: left
                              - position: absolute
                              - left: 4%
                              - top: 55%
                              - color: '#ffffff'
                            tomorrow:
                              - font-size: 15px;
                              - align-self: left
                              - position: absolute
                              - left: 4%
                              - top: 75%
                              - color: '#ffffff'
                        custom_fields:
                          name: |
                            [[[ return '<span> Axelle </span>'
                            ]]]
                          steps: |
                            [[[
                              return `<ha-icon
                                icon="mdi:shoe-formal"
                                style="width: 20px; height: 20px;"></ha-icon
                                <span> ${states['sensor.total_steps_2'].state}</span>`
                            ]]]
                          today: |
                            [[[
                              if (states['calendar.axelle'].state == "on")
                                return `<ha-icon
                                  icon="mdi:calendar-account-outline"
                                  style="width: 22px; height: 22px;">
                                  </ha-icon>
                                  <span>${states['sensor.today_axelle'].state}  </span>`
                              else 
                                return `<ha-icon
                                  icon="mdi:calendar-account-outline"
                                  style="width: 22px; height: 22px;">
                                  </ha-icon>
                                  <span> A la maison</span>`
                            ]]]
                          tomorrow: |
                            [[[
                              if (states['input_text.agendaax'].state != "")
                                return `<ha-icon
                                  icon="mdi:calendar-clock"
                                  style="width: 22px; height: 22px;">
                                  </ha-icon>
                                  <span>${states['input_text.agendaax'].state}  </span>`
                              else 
                                return `<ha-icon
                                  icon="mdi:calendar-clock"
                                  style="width: 22px; height: 22px;">
                                  </ha-icon>
                                  <span>A la maison</span>`
                            ]]]
                        card_mod:
                          style: |
                            ha-card { 
                              background-color: rgba(0,0,0,0);
                              box-shadow: none;
                              font-color: white;
                              font-size: 15;
                            }
            layout_options:
              grid_columns: 2
              grid_rows: auto
          - type: horizontal-stack
            cards:
              - type: custom:swipe-card
                parameters:
                  effect: coverflow
                cards:
                  - type: custom:stack-in-card
                    mode: vertical
                    cards:
                      - type: custom:mushroom-person-card
                        entity: person.richard
                        use_entity_picture: true
                        hide_name: false
                        layout: horizontal
                        card_mod:
                          style: |
                            ha-card {
                                border: none;
                                padding: 0;
                                 }
                            :host {
                                 --mush-icon-size: 80px;  
                                 --chip-box-shadow: none;
                                  --chip-background: none;
                                 } 
                            hui-vertical-stack-card $: |
                              div#root > * {
                              margin: 0px !important;
                            }
                      - type: custom:mushroom-chips-card
                        chips:
                          - type: template
                            icon_color: |2-
                                        {% set state=states('sensor.samsung_a33_battery_state') %}
                                        {% if state=='charging' %}
                                        green
                                        {% elif state=='discharging' %}
                                        #6f6f6f
                                       {% endif %}
                            entity: sensor.pixel_7a_battery_state
                            icon: mdi:power-plug
                            tap_action:
                              action: more-info
                            card_mod:
                              style: |
                                ha-card {
                                   padding: 0;
                                  --chip-border-width: 0px;
                                  --chip-box-shadow: none;
                                  --chip-background: none;
                                  margin-top: -30px;
                                padding-bottom: 0px;
                                padding-left: 0px;
                                padding-right: 0px;
                                }
                                hui-vertical-stack-card $: |
                                div#root > * {
                                margin: 0px !important;
                                }
                          - type: template
                            entity: sensor.samsung_a33_battery_level
                            icon: |2
                                        {% set bl = states('sensor.samsung_a33_battery_level') | int %}
                                        {% if bl < 10 %} mdi:battery-outline
                                        {% elif bl < 20 %} mdi:battery-10
                                        {% elif bl < 30 %} mdi:battery-20
                                        {% elif bl < 40 %} mdi:battery-30
                                        {% elif bl < 50 %} mdi:battery-40
                                        {% elif bl < 60 %} mdi:battery-50
                                        {% elif bl < 70 %} mdi:battery-60
                                        {% elif bl < 80 %} mdi:battery-70
                                        {% elif bl < 90 %} mdi:battery-80
                                        {% elif bl < 100 %} mdi:battery-90
                                        {% elif bl == 100 %} mdi:battery
                                        {% else %} mdi:battery-unknown
                                        {% endif %}
                            icon_color: |2-
                                        {% set bl = states('sensor.samsung_a33_battery_level') | int %}
                                        {% if bl < 10 %} red
                                        {% elif bl < 20 %} red
                                        {% elif bl < 30 %} red
                                        {% elif bl < 40 %} orange
                                        {% elif bl < 50 %} orange
                                        {% elif bl < 60 %} green
                                        {% elif bl < 70 %} green
                                        {% elif bl < 80 %} green
                                        {% elif bl < 90 %} green
                                        {% elif bl < 100 %} green
                                        {% elif bl == 100 %} green
                                        {% else %} grey
                                        {% endif %}
                            content: >
                              {% set bl =
                              states('sensor.samsung_a33_battery_level') | int
                              %}

                              {% if bl < 100 %} 

                              {{ states('sensor.samsung_a33_battery_level') |
                              int }}%

                              {% endif %}
                            tap_action:
                              action: more-info
                            card_mod:
                              style: |
                                ha-card {
                                  padding: 0;
                                  --chip-border-width: 0px;
                                  --chip-box-shadow: none;
                                  --chip-background: none;
                                  padding-top: 0px;
                                margin-top: -30px;
                                padding-bottom: 0px;
                                padding-left: 0px;
                                padding-right: 0px;
                                }
                                hui-vertical-stack-card $: |
                                  div#root > * {
                                  margin: 0px !important;
                                }
                        alignment: center
                  - type: custom:stack-in-card
                    mode: vertical
                    cards:
                      - type: custom:button-card
                        entity: person.richard
                        show_name: false
                        show_icon: false
                        aspect_ratio: 4/2
                        size: 50px
                        styles:
                          card:
                            - padding: 4%
                          custom_fields:
                            name:
                              - font-size: 20px;
                              - position: absolute
                              - left: 4%
                              - top: 12%
                              - color: '#ffffff'
                            steps:
                              - font-size: 15px;
                              - align-self: left
                              - position: absolute
                              - left: 4%
                              - top: 35%
                              - color: '#ffffff'
                            today:
                              - font-size: 15px;
                              - align-self: left
                              - position: absolute
                              - left: 4%
                              - top: 55%
                              - color: '#ffffff'
                            tomorrow:
                              - font-size: 15px;
                              - align-self: left
                              - position: absolute
                              - left: 4%
                              - top: 75%
                              - color: '#ffffff'
                        custom_fields:
                          name: |
                            [[[ return '<span> Richard </span>'
                            ]]]
                          steps: |
                            [[[
                              return `<ha-icon
                                icon="mdi:shoe-formal"
                                style="width: 20px; height: 20px;"></ha-icon
                                <span> ${states['sensor.total_steps'].state}</span>`
                            ]]]
                          today: |
                            [[[
                              if (states['calendar.richard'].state == "on")
                                return `<ha-icon
                                  icon="mdi:calendar-account-outline"
                                  style="width: 22px; height: 22px;">
                                  </ha-icon>
                                  <span>${states['sensor.today_richard'].state}  </span>`
                              else 
                                return `<ha-icon
                                  icon="mdi:calendar-account-outline"
                                  style="width: 22px; height: 22px;">
                                  </ha-icon>
                                  <span> A la maison</span>`
                            ]]]
                          tomorrow: |
                            [[[
                              if (states['input_text.agendaax'].state != "")
                                return `<ha-icon
                                  icon="mdi:calendar-clock"
                                  style="width: 22px; height: 22px;">
                                  </ha-icon>
                                  <span>${states['input_text.agendari'].state}  </span>`
                              else 
                                return `<ha-icon
                                  icon="mdi:calendar-clock"
                                  style="width: 22px; height: 22px;">
                                  </ha-icon>
                                  <span>A la maison</span>`
                            ]]]
                        card_mod:
                          style: |
                            ha-card { 
                              background-color: rgba(0,0,0,0);
                              box-shadow: none;
                              font-color: white;
                              font-size: 15;
                            }
            layout_options:
              grid_columns: 2
              grid_rows: auto
          - type: horizontal-stack
            cards:
              - type: custom:swipe-card
                parameters:
                  effect: coverflow
                cards:
                  - type: custom:stack-in-card
                    mode: vertical
                    cards:
                      - type: custom:mushroom-person-card
                        entity: person.chloe
                        use_entity_picture: true
                        hide_name: false
                        layout: horizontal
                        card_mod:
                          style: |
                            ha-card {
                                border: none;
                                padding: 0;
                                 }
                            :host {
                                 --mush-icon-size: 80px;  
                                 --chip-box-shadow: none;
                                  --chip-background: none;
                                 } 
                            hui-vertical-stack-card $: |
                              div#root > * {
                              margin: 0px !important;
                            }
                      - type: custom:mushroom-chips-card
                        chips:
                          - type: template
                            icon_color: |2-
                                        {% set state=states('sensor.s24_battery_state') %}
                                        {% if state=='charging' %}
                                        green
                                        {% elif state=='discharging' %}
                                        #6f6f6f
                                       {% endif %}
                            entity: sensor.s24_battery_state
                            icon: mdi:power-plug
                            tap_action:
                              action: more-info
                            card_mod:
                              style: |
                                ha-card {
                                   padding: 0;
                                  --chip-border-width: 0px;
                                  --chip-box-shadow: none;
                                  --chip-background: none;
                                  margin-top: -30px;
                                padding-bottom: 0px;
                                padding-left: 0px;
                                padding-right: 0px;
                                }
                                hui-vertical-stack-card $: |
                                div#root > * {
                                margin: 0px !important;
                                }
                          - type: template
                            entity: sensor.s24_battery_level
                            icon: |2
                                        {% set bl = states('sensor.s24_battery_level') | int %}
                                        {% if bl < 10 %} mdi:battery-outline
                                        {% elif bl < 20 %} mdi:battery-10
                                        {% elif bl < 30 %} mdi:battery-20
                                        {% elif bl < 40 %} mdi:battery-30
                                        {% elif bl < 50 %} mdi:battery-40
                                        {% elif bl < 60 %} mdi:battery-50
                                        {% elif bl < 70 %} mdi:battery-60
                                        {% elif bl < 80 %} mdi:battery-70
                                        {% elif bl < 90 %} mdi:battery-80
                                        {% elif bl < 100 %} mdi:battery-90
                                        {% elif bl == 100 %} mdi:battery
                                        {% else %} mdi:battery-unknown
                                        {% endif %}
                            icon_color: |2-
                                        {% set bl = states('sensor.s24_battery_level') | int %}
                                        {% if bl < 10 %} red
                                        {% elif bl < 20 %} red
                                        {% elif bl < 30 %} red
                                        {% elif bl < 40 %} orange
                                        {% elif bl < 50 %} orange
                                        {% elif bl < 60 %} green
                                        {% elif bl < 70 %} green
                                        {% elif bl < 80 %} green
                                        {% elif bl < 90 %} green
                                        {% elif bl < 100 %} green
                                        {% elif bl == 100 %} green
                                        {% else %} grey
                                        {% endif %}
                            content: >
                              {% set bl = states('sensor.s24_battery_level') |
                              int %}

                              {% if bl < 100 %} 

                              {{ states('sensor.s24_battery_level') | int }}%

                              {% endif %}
                            tap_action:
                              action: more-info
                            card_mod:
                              style: |
                                ha-card {
                                  padding: 0;
                                  --chip-border-width: 0px;
                                  --chip-box-shadow: none;
                                  --chip-background: none;
                                  padding-top: 0px;
                                margin-top: -30px;
                                padding-bottom: 0px;
                                padding-left: 0px;
                                padding-right: 0px;
                                }
                                hui-vertical-stack-card $: |
                                  div#root > * {
                                  margin: 0px !important;
                                }
                        alignment: center
                  - type: custom:stack-in-card
                    mode: vertical
                    cards:
                      - type: custom:button-card
                        entity: person.chloe
                        show_name: false
                        show_icon: false
                        aspect_ratio: 4/2
                        size: 50px
                        styles:
                          card:
                            - padding: 4%
                          custom_fields:
                            name:
                              - font-size: 20px;
                              - position: absolute
                              - left: 4%
                              - top: 12%
                              - color: '#ffffff'
                            steps:
                              - font-size: 15px;
                              - align-self: left
                              - position: absolute
                              - left: 4%
                              - top: 35%
                              - color: '#ffffff'
                            today:
                              - font-size: 15px;
                              - align-self: left
                              - position: absolute
                              - left: 4%
                              - top: 55%
                              - color: '#ffffff'
                            tomorrow:
                              - font-size: 15px;
                              - align-self: left
                              - position: absolute
                              - left: 4%
                              - top: 75%
                              - color: '#ffffff'
                        custom_fields:
                          name: |
                            [[[ return '<span> Chloé </span>'
                            ]]]
                          steps: |
                            [[[
                              return `<ha-icon
                                icon="mdi:school"
                                style="width: 20px; height: 20px;"></ha-icon
                                <span> ${states['sensor.chloe_moyenne'].state}/20</span>`
                            ]]]
                          today: |
                            [[[
                              if (states['sensor.debut_des_cours_de_chloe_aujourd_hui'].state == "Pas cours")
                                return `<ha-icon
                                  icon="mdi:calendar-account-outline"
                                  style="width: 22px; height: 22px;">
                                  </ha-icon>
                                  <span> Pas cours </span>`
                              else 
                                return `<ha-icon
                                  icon="mdi:calendar-account-outline"
                                  style="width: 22px; height: 22px;">
                                  </ha-icon>
                                  <span> ${states['sensor.debut_des_cours_de_chloe_aujourd_hui'].state} - ${states['sensor.fin_des_cours_de_chloe_aujourd_hui'].state}</span>`
                            ]]]
                          tomorrow: |
                            [[[
                              if (states['sensor.debut_des_cours_de_chloe_demain'].state == "Pas cours")
                                return `<ha-icon
                                  icon="mdi:calendar-account-outline"
                                  style="width: 22px; height: 22px;">
                                  </ha-icon>
                                  <span> Pas cours </span>`
                              else 
                                return `<ha-icon
                                  icon="mdi:calendar-account-outline"
                                  style="width: 22px; height: 22px;">
                                  </ha-icon>
                                  <span> ${states['sensor.debut_des_cours_de_chloe_demain'].state} - ${states['sensor.fin_des_cours_de_chloe_demain'].state}</span>`
                            ]]]
                        card_mod:
                          style: |
                            ha-card { 
                              background-color: rgba(0,0,0,0);
                              box-shadow: none;
                              font-color: white;
                              font-size: 15;
                            }
            layout_options:
              grid_columns: 2
              grid_rows: auto
          - type: horizontal-stack
            cards:
              - type: custom:swipe-card
                parameters:
                  effect: coverflow
                cards:
                  - type: custom:stack-in-card
                    mode: vertical
                    cards:
                      - type: custom:mushroom-person-card
                        entity: person.lucie
                        use_entity_picture: true
                        hide_name: false
                        layout: horizontal
                        card_mod:
                          style: |
                            ha-card {
                                border: none;
                                padding: 0;
                                 }
                            :host {
                                 --mush-icon-size: 80px;  
                                 --chip-box-shadow: none;
                                  --chip-background: none;
                                 } 
                            hui-vertical-stack-card $: |
                              div#root > * {
                              margin: 0px !important;
                            }
                      - type: custom:mushroom-chips-card
                        chips:
                          - type: template
                            icon_color: |2-
                                        {% set state=states('sensor.s23_battery_state') %}
                                        {% if state=='charging' %}
                                        green
                                        {% elif state=='discharging' %}
                                        #6f6f6f
                                       {% endif %}
                            entity: sensor.s23_battery_state
                            icon: mdi:power-plug
                            tap_action:
                              action: more-info
                            card_mod:
                              style: |
                                ha-card {
                                   padding: 0;
                                  --chip-border-width: 0px;
                                  --chip-box-shadow: none;
                                  --chip-background: none;
                                  margin-top: -30px;
                                padding-bottom: 0px;
                                padding-left: 0px;
                                padding-right: 0px;
                                }
                                hui-vertical-stack-card $: |
                                div#root > * {
                                margin: 0px !important;
                                }
                          - type: template
                            entity: sensor.s23_battery_level
                            icon: |2
                                        {% set bl = states('sensor.s23_battery_level') | int %}
                                        {% if bl < 10 %} mdi:battery-outline
                                        {% elif bl < 20 %} mdi:battery-10
                                        {% elif bl < 30 %} mdi:battery-20
                                        {% elif bl < 40 %} mdi:battery-30
                                        {% elif bl < 50 %} mdi:battery-40
                                        {% elif bl < 60 %} mdi:battery-50
                                        {% elif bl < 70 %} mdi:battery-60
                                        {% elif bl < 80 %} mdi:battery-70
                                        {% elif bl < 90 %} mdi:battery-80
                                        {% elif bl < 100 %} mdi:battery-90
                                        {% elif bl == 100 %} mdi:battery
                                        {% else %} mdi:battery-unknown
                                        {% endif %}
                            icon_color: |2-
                                        {% set bl = states('sensor.s23_battery_level') | int %}
                                        {% if bl < 10 %} red
                                        {% elif bl < 20 %} red
                                        {% elif bl < 30 %} red
                                        {% elif bl < 40 %} orange
                                        {% elif bl < 50 %} orange
                                        {% elif bl < 60 %} green
                                        {% elif bl < 70 %} green
                                        {% elif bl < 80 %} green
                                        {% elif bl < 90 %} green
                                        {% elif bl < 100 %} green
                                        {% elif bl == 100 %} green
                                        {% else %} grey
                                        {% endif %}
                            content: >
                              {% set bl = states('sensor.s23_battery_level') |
                              int %}

                              {% if bl < 100 %} 

                              {{ states('sensor.s23_battery_level') | int }}%

                              {% endif %}
                            tap_action:
                              action: more-info
                            card_mod:
                              style: |
                                ha-card {
                                  padding: 0;
                                  --chip-border-width: 0px;
                                  --chip-box-shadow: none;
                                  --chip-background: none;
                                  padding-top: 0px;
                                margin-top: -30px;
                                padding-bottom: 0px;
                                padding-left: 0px;
                                padding-right: 0px;
                                }
                                hui-vertical-stack-card $: |
                                  div#root > * {
                                  margin: 0px !important;
                                }
                        alignment: center
                  - type: custom:stack-in-card
                    mode: vertical
                    cards:
                      - type: custom:button-card
                        entity: person.lucie
                        show_name: false
                        show_icon: false
                        aspect_ratio: 4/2
                        size: 50px
                        styles:
                          card:
                            - padding: 4%
                          custom_fields:
                            name:
                              - font-size: 20px;
                              - position: absolute
                              - left: 4%
                              - top: 12%
                              - color: '#ffffff'
                            steps:
                              - font-size: 15px;
                              - align-self: left
                              - position: absolute
                              - left: 4%
                              - top: 35%
                              - color: '#ffffff'
                            today:
                              - font-size: 15px;
                              - align-self: left
                              - position: absolute
                              - left: 4%
                              - top: 55%
                              - color: '#ffffff'
                            tomorrow:
                              - font-size: 15px;
                              - align-self: left
                              - position: absolute
                              - left: 4%
                              - top: 75%
                              - color: '#ffffff'
                        custom_fields:
                          name: |
                            [[[ return '<span> Lucie </span>'
                            ]]]
                          steps: |
                            [[[
                              return `<ha-icon
                                icon="mdi:school"
                                style="width: 20px; height: 20px;"></ha-icon
                                <span> ${states['sensor.moyenne_lucie'].state}/20</span>`
                            ]]]
                          today: |
                            [[[
                              if (states['sensor.debut_des_cours_de_lucie_aujourd_hui'].state == "Pas cours")
                                return `<ha-icon
                                  icon="mdi:calendar-account-outline"
                                  style="width: 22px; height: 22px;">
                                  </ha-icon>
                                  <span> Pas cours </span>`
                              else 
                                return `<ha-icon
                                  icon="mdi:calendar-account-outline"
                                  style="width: 22px; height: 22px;">
                                  </ha-icon>
                                  <span> ${states['sensor.debut_des_cours_de_lucie_aujourd_hui'].state} - ${states['sensor.fin_des_cours_de_lucie_aujourd_hui'].state}</span>`
                            ]]]
                          tomorrow: |
                            [[[
                              if (states['sensor.debut_des_cours_de_lucie_demain'].state == "Pas cours")
                                return `<ha-icon
                                  icon="mdi:calendar-account-outline"
                                  style="width: 22px; height: 22px;">
                                  </ha-icon>
                                  <span> Pas cours </span>`
                              else 
                                return `<ha-icon
                                  icon="mdi:calendar-account-outline"
                                  style="width: 22px; height: 22px;">
                                  </ha-icon>
                                  <span> ${states['sensor.debut_des_cours_de_lucie_demain'].state} - ${states['sensor.fin_des_cours_de_lucie_demain'].state}</span>`
                            ]]]
                        card_mod:
                          style: |
                            ha-card { 
                              background-color: rgba(0,0,0,0);
                              box-shadow: none;
                              font-color: white;
                              font-size: 15;
                            }
            layout_options:
              grid_columns: 2
              grid_rows: auto
          - type: heading
            icon: mdi:solar-power
            heading: Panneaux solaire
            heading_style: subtitle
            tap_action:
              action: navigate
              navigation_path: /lovelace/10
          - type: custom:power-distribution-card
            entities:
              - decimals: '0'
                display_abs: true
                name: solar
                unit_of_display: W
                icon: mdi:solar-power
                producer: true
                entity: sensor.envoy_122250004672_current_power_production
                preset: solar
                icon_color:
                  bigger: green
                  equal: gray
                  smaller: red
              - decimals: '0'
                display_abs: true
                name: Export
                unit_of_display: W
                icon: mdi:lightning-bolt-outline
                producer: true
                entity: sensor.energy_exporting
                preset: producer
                icon_color:
                  bigger: green
                  equal: gray
                  smaller: red
                calc_excluded: true
              - decimals: '0'
                display_abs: true
                name: conso
                unit_of_display: W
                consumer: true
                icon: mdi:home
                entity: sensor.envoy_122250004672_current_power_consumption
                preset: consumer
                icon_color:
                  bigger: red
                  equal: green
                  smaller: red
                invert_value: true
              - decimals: '0'
                display_abs: true
                name: Import
                unit_of_display: W
                icon: mdi:transmission-tower
                entity: sensor.energy_importing
                preset: grid
                icon_color:
                  bigger: red
                  equal: gray
                  smaller: red
                invert_value: true
            center:
              type: bars
              content:
                - preset: ratio
                  name: use
                  bar_color: green
                  bar_bg_color: ''
                  entity: ''
                  invert_value: false
                - preset: autarky
                  name: indep
                  bar_color: blue
            animation: flash
            card_mod:
              style: |
                ha-card .title {
                  font-size: 12px;
                }
          - type: heading
            icon: mdi:lightning-bolt-outline
            heading: Consommation Appareils
            heading_style: subtitle
            tap_action:
              action: navigate
              navigation_path: /lovelace/chauffage
          - type: horizontal-stack
            cards:
              - type: custom:mini-graph-card
                height: 60
                entities:
                  - entity: sensor.garage_mss310_power_w_main_channel
                  - entity: sensor.garage_mss310_energy_kwh_main_channel
                    show_state: true
                    show_graph: false
                font_size: 50
                icon: mdi:fridge
                show:
                  fill: fade
                name: Frigo
                line_width: 2
                lower_bound: 0
                min_bound_range: 100
                points_per_hour: 10
                line_color: '#2592FF'
              - type: custom:mini-graph-card
                height: 60
                entities:
                  - entity: sensor.garage_2_mss310_power_w_main_channel
                  - entity: sensor.garage_2_mss310_energy_kwh_main_channel
                    show_state: true
                    show_graph: false
                font_size: 50
                icon: mdi:nas
                show:
                  fill: fade
                name: NAS
                line_width: 2
                lower_bound: 0
                min_bound_range: 100
                points_per_hour: 10
                line_color: '#2592FF'
          - type: horizontal-stack
            cards:
              - type: custom:mini-graph-card
                height: 60
                entities:
                  - entity: sensor.tablette_mss310_power_w_main_channel
                  - entity: sensor.tablette_mss310_energy_kwh_main_channel
                    show_state: true
                    show_graph: false
                font_size: 50
                icon: mdi:tablet
                show:
                  fill: fade
                name: Tablette
                line_width: 2
                lower_bound: 0
                min_bound_range: 100
                points_per_hour: 10
                line_color: '#2592FF'
              - type: custom:mini-graph-card
                height: 60
                entities:
                  - entity: sensor.tv_mss310_power_w_main_channel
                  - entity: sensor.tv_mss310_energy_kwh_main_channel
                    show_state: true
                    show_graph: false
                font_size: 50
                icon: mdi:television
                show:
                  fill: fade
                name: TV
                line_width: 2
                lower_bound: 0
                min_bound_range: 100
                points_per_hour: 10
                line_color: '#2592FF'
          - type: heading
            icon: mdi:power-plug
            heading_style: subtitle
            heading: Prises bureaux
          - type: horizontal-stack
            cards:
              - type: custom:mini-graph-card
                height: 80
                entities:
                  - entity: sensor.prise_bureau_power
                  - entity: sensor.prise_bureau
                    show_state: true
                    show_graph: false
                font_size: 45
                icon: mdi:desk
                show:
                  fill: fade
                name: Richard
                line_width: 2
                lower_bound: 0
                min_bound_range: 100
                points_per_hour: 10
                line_color: '#2592FF'
              - type: custom:mini-graph-card
                height: 80
                entities:
                  - entity: sensor.bureau_lucie_power
                  - entity: sensor.bureau_lucie
                    show_state: true
                    show_graph: false
                font_size: 45
                icon: mdi:desk
                show:
                  fill: fade
                name: Lucie
                line_width: 3
                lower_bound: 0
                min_bound_range: 100
                points_per_hour: 10
                line_color: '#2592FF'
      - type: grid
        cards:
          - type: heading
            icon: mdi:sun-thermometer
            heading_style: subtitle
            heading: Météo
            badges:
              - type: entity
                show_state: true
                show_icon: true
                entity: sensor.vigilance
                icon: mdi:alarm-light
            tap_action:
              action: navigate
              navigation_path: /lovelace/3
          - show_current: false
            show_forecast: true
            type: weather-forecast
            entity: weather.mantes_la_jolie
            forecast_type: daily
            secondary_info_attribute: humidity
            grid_options:
              columns: 12
              rows: 3
          - type: heading
            heading: Chauffage
            heading_style: subtitle
            icon: mdi:radiator
            visibility:
              - condition: state
                entity: input_boolean.summer_mode
                state: 'off'
          - type: heading
            icon: mdi:camera
            heading: Photos
            heading_style: subtitle
            visibility:
              - condition: state
                entity: input_boolean.summer_mode
                state: 'on'
          - type: conditional
            conditions:
              - condition: state
                entity: input_boolean.summer_mode
                state: 'on'
            card:
              type: custom:gallery-card
              menu_alignment: hidden
              entities:
                - sensor.gallery_chiens
              slideshow_timer: '15'
          - type: thermostat
            entity: climate.chauffage_salon
            features:
              - type: climate-hvac-modes
            name: Salon
            grid_options:
              columns: full
              rows: 5
          - type: thermostat
            entity: climate.chauffage_chloe
            features:
              - type: climate-hvac-modes
            layout_options:
              grid_columns: 2
              grid_rows: 4
            name: Chloé
          - type: thermostat
            entity: climate.chauffage_lucie
            features:
              - type: climate-hvac-modes
            layout_options:
              grid_columns: 2
              grid_rows: 4
            name: Lucie
          - type: horizontal-stack
            cards:
              - type: custom:mini-graph-card
                height: 60
                entities:
                  - entity: sensor.chauffage_chloe_power
                  - entity: sensor.kwh_chloe_quotidien
                    show_state: true
                    show_graph: false
                font_size: 50
                icon: mdi:radiator
                show:
                  fill: fade
                  name: false
                line_width: 2
                lower_bound: 0
                min_bound_range: 100
                points_per_hour: 10
                line_color: '#2592FF'
              - type: custom:mini-graph-card
                height: 60
                entities:
                  - entity: sensor.chauffage_lucie_power
                  - entity: sensor.kwh_lucie_quotidien
                    show_state: true
                    show_graph: false
                font_size: 50
                icon: mdi:radiator
                show:
                  fill: fade
                  name: false
                name: Chauffage Lucie
                line_width: 2
                lower_bound: 0
                min_bound_range: 100
                points_per_hour: 10
                line_color: '#2592FF'
      - type: grid
        cards:
          - type: heading
            icon: mdi:home-lightning-bolt
            heading: Tempo EDF
            heading_style: subtitle
            badges:
              - type: entity
                show_state: true
                show_icon: true
                entity: sensor.rte_tempo_couleur_actuelle_visuel
                icon: mdi:flash
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: sensor.cout_tempo_jour_total
                label: |
                  [[[
                    
                    if(states['sensor.rte_tempo_couleur_actuelle'].state=="Rouge")
                      return '<b>Aujourd hui</b><hr width="400" size="1" align=center color ="#FFFFFF"></hr> <img src="https://raw.githubusercontent.com/Axelle78/test/master/panneau.png" width=10% height=10% > <br/> ' + states['sensor.prix_actuel'].state + ' <br />-'

                    else 
                      return '<b>Aujourd hui</b><hr width="400" size="1" align=center color ="#FFFFFF"></hr> <img src="https://raw.githubusercontent.com/Axelle78/test/master/OK.png" width=10% height=10% > <br/> ' + states['sensor.prix_actuel'].state  + ' <br />-'
                    endif  
                   
                  ]]]
                show_label: true
                show_icon: false
                show_state: false
                show_name: false
                card_mod:
                  style: |
                    ha-card {
                     border-radius:10px; 
                     padding-top: 5px;
                     {%if states('sensor.rte_tempo_couleur_actuelle')=="Rouge" %}
                     background-color: red;
                     {%elif states('sensor.rte_tempo_couleur_actuelle')=="Bleu" %}
                      background-color: blue;
                      {%else%}
                      background-color: white;
                      color: black;
                      {%endif%}
                    } 
              - type: custom:button-card
                entity: sensor.cout_tempo_jour_total
                label: |
                  [[[
                    
                    if(states['sensor.rte_tempo_prochaine_couleur'].state=="Rouge")
                      return '<b>Demain</b><hr width="400" size="1" align=center color ="#FFFFFF"></hr> <img src="https://raw.githubusercontent.com/Axelle78/test/master/panneau.png" width=10% height=10% > <br/> HP ' + states['sensor.tarif_jour_rouge_hp'].state + '<BR>HC ' +states['sensor.tarif_jour_rouge_hc'].state
                    else if(states['sensor.rte_tempo_prochaine_couleur'].state=="Bleu")
                      return '<b>Demain</b><hr width="400" size="1" align=center color ="#FFFFFF"></hr> <img src="https://raw.githubusercontent.com/Axelle78/test/master/OK.png" width=10% height=10% > <br/>HP ' + states['sensor.tarif_jour_bleu_hp'].state + '<BR>HC ' +states['sensor.tarif_jour_bleu_hc'].state
                    else 
                      return '<b>Demain</b><hr width="400" size="1" align=center color ="#00000"></hr> <img src="https://raw.githubusercontent.com/Axelle78/test/master/OK.png" width=10% height=10% > <br/>HP ' + states['sensor.tarif_jour_bleu_hp'].state + '<BR>HC ' +states['sensor.tarif_jour_bleu_hc'].state    
                    endif  
                   
                  ]]]
                show_label: true
                show_icon: false
                show_state: false
                show_name: false
                card_mod:
                  style: |
                    ha-card {
                     border-radius:10px; 
                     padding-top: 5px;
                     {%if states('sensor.rte_tempo_prochaine_couleur')=="Rouge" %}
                     background-color: red;
                     {%elif states('sensor.rte_tempo_prochaine_couleur')=="Bleu" %}
                      background-color: blue;
                      {%else%}
                      background-color: white;
                      color: black;
                      {%endif%}
                    } 
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: sensor.cout_tempo_jour_total
                label: |
                  [[[
                     var label = ""
                      label = '<b>Rouge</b><hr width="400" size="1" align=center color ="#FFFFFF"></hr>' + states['sensor.rte_tempo_cycle_jours_restants_rouge'].state + '/'  + states['sensor.nb_jours_rouge_total'].state + '<br>HP ' + states['sensor.tarif_jour_rouge_hp'].state + '<BR>'+'HC ' + states['sensor.tarif_jour_rouge_hc'].state
                      return label;
                  ]]]
                show_label: true
                show_icon: false
                show_state: false
                show_name: false
                card_mod:
                  style: |
                    ha-card {
                     border-radius:10px; 
                     padding-top: 5px;
                     background-color: red;

                    } 
              - type: custom:button-card
                entity: sensor.cout_tempo_jour_total
                label: |
                  [[[
                     var label = ""
                      label = '<b>Blanc</b><hr width="400" size="1" align=center color ="#00000"></hr>' + states['sensor.rte_tempo_cycle_jours_restants_blanc'].state + '/'  + states['sensor.nb_jours_blanc_total'].state + '<br>HP ' + states['sensor.tarif_jour_blanc_hp'].state + '<BR>'+'HC ' + states['sensor.tarif_jour_blanc_hc'].state
                      return label;
                  ]]]
                show_label: true
                show_icon: false
                show_state: false
                show_name: false
                card_mod:
                  style: |
                    ha-card {
                     border-radius:10px; 
                     padding-top: 5px;
                     color: black;
                     background-color: white;

                    } 
              - type: custom:button-card
                entity: sensor.cout_tempo_jour_total
                label: |
                  [[[
                     var label = ""
                      label = '<b>Bleu</b><hr width="400" size="1" align=center color ="#FFFFFF"></hr>' + states['sensor.rte_tempo_cycle_jours_restants_bleu'].state + '/'  + states['sensor.nb_jours_bleu_total'].state + '<br>HP ' + states['sensor.tarif_jour_bleu_hp'].state + '<BR>'+'HC ' + states['sensor.tarif_jour_bleu_hc'].state
                      return label;
                  ]]]
                show_label: true
                show_icon: false
                show_state: false
                show_name: false
                card_mod:
                  style: |
                    ha-card {
                     border-radius:10px; 
                     padding-top: 5px;
                     background-color: blue;

                    } 
          - type: heading
            icon: mdi:lightning-bolt-circle
            heading: Données ecojoko
            heading_style: subtitle
          - type: horizontal-stack
            cards:
              - type: horizontal-stack
                cards:
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.evol_cout_hier
                        above: 0
                    card:
                      type: custom:button-card
                      entity: sensor.cout_tempo_jour_total
                      label: |
                        [[[
                           var label = ""
                            label = '<b>Coûts</b><hr width="400" size="1" align=center color ="#FFFFFF"></hr>' + states['sensor.cout_tempo_jour_total'].state + ' € <br>' + states['sensor.evol_cout_hier'].state + ' % <br>' + '<img src="https://raw.githubusercontent.com/Axelle78/test/master/fleche_rouge_aug.png" width=20% height=20% >'
                            return label;
                        ]]]
                      show_label: true
                      show_icon: false
                      show_state: false
                      show_name: false
                      tap_action:
                        action: fire-dom-event
                        browser_mod:
                          service: browser_mod.popup
                          data:
                            browser_id: THIS
                            size: normal
                            title: Suivi des coûts sur 24h
                            content:
                              type: custom:config-template-card
                              entities:
                                - sensor.cout_tempo_jour_total
                              card:
                                type: custom:mini-graph-card
                                animate: true
                                name: Côuts EDF
                                entities:
                                  - sensor.cout_tempo_jour_total
                                labels: true
                                font_size: 60
                                line_color: green
                                points_per_hour: 6
                                hours_to_show: >-
                                  ${

                                  var date = new Date();

                                  var curHour = date.getHours() +
                                  (date.getMinutes()/60.0)-1 +
                                  date.getSeconds()/3600.0;

                                  curHour

                                  }
                                height: 100
                                show:
                                  labels: true
                      card_mod:
                        style: |
                          ha-card {
                           border-radius:10px; 
                           padding-top: 5px;
                           box-shadow: 
                           {%- set couleur= states('sensor.rte_tempo_couleur_actuelle') %}
                           {%- if couleur=='Bleu' %} 0px 0px 10px 3px rgba(50,130,246)  
                           {%- elif couleur=='Blanc' %} 0px 0px 10px 3px rgba(246,246,246)
                           {%- elif couleur=='Rouge' %} 0px 0px 10px 3px rgba(246,47,8)
                           {%- else %} 0px 0px 10px 3px rgba(195,195,195)
                           {%- endif %}
                          } 
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.evol_cout_hier
                        below: 0
                    card:
                      type: custom:button-card
                      entity: sensor.cout_tempo_jour_total
                      label: |
                        [[[
                           var label = ""
                            label = '<b>Coûts</b><hr width="400" size="1" align=center color ="#FFFFFF"></hr>' + states['sensor.cout_tempo_jour_total'].state + ' € <br>' + states['sensor.evol_cout_hier'].state + ' % <br>' + '<img src="https://raw.githubusercontent.com/Axelle78/test/master/fleche_vert_dim.png" width=20% height=20% >'
                            return label;
                        ]]]
                      show_label: true
                      show_icon: false
                      show_state: false
                      show_name: false
                      tap_action:
                        action: fire-dom-event
                        browser_mod:
                          service: browser_mod.popup
                          data:
                            browser_id: THIS
                            size: normal
                            title: Suivi des coûts sur 24h
                            content:
                              type: custom:config-template-card
                              entities:
                                - sensor.cout_tempo_jour_total
                              card:
                                type: custom:mini-graph-card
                                animate: true
                                name: Côuts EDF
                                entities:
                                  - sensor.cout_tempo_jour_total
                                labels: true
                                font_size: 60
                                line_color: green
                                points_per_hour: 6
                                hours_to_show: >-
                                  ${

                                  var date = new Date();

                                  var curHour = date.getHours() +
                                  (date.getMinutes()/60.0)-1 +
                                  date.getSeconds()/3600.0;

                                  curHour

                                  }
                                height: 100
                                show:
                                  labels: true
                      card_mod:
                        style: |
                          ha-card {
                           border-radius:10px; 
                           box-shadow: 
                           {%- set couleur= states('sensor.rte_tempo_couleur_actuelle') %}
                           {%- if couleur=='Bleu' %} 0px 0px 10px 3px rgba(50,130,246)  
                           {%- elif couleur=='Blanc' %} 0px 0px 10px 3px rgba(246,246,246)
                           {%- elif couleur=='Rouge' %} 0px 0px 10px 3px rgba(246,47,8)
                           {%- else %} 0px 0px 10px 3px rgba(195,195,195)
                           {%- endif %}
                          } 
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.evol_conso_hier
                        above: 0
                    card:
                      type: custom:button-card
                      entity: sensor.conso_tempo_jour_total
                      label: |
                        [[[
                           var label = ""
                            label = '<b>Conso</b><hr width="400" size="1" align=center color ="#FFFFFF"></hr>' + states['sensor.conso_tempo_jour_total'].state + ' kWh <br>' + states['sensor.evol_conso_hier'].state + ' % <br>' + '<img src="https://raw.githubusercontent.com/Axelle78/test/master/fleche_rouge_aug.png" width=20% height=20% >'
                            return label;
                        ]]]
                      show_label: true
                      show_icon: false
                      show_state: false
                      show_name: false
                      tap_action:
                        action: fire-dom-event
                        browser_mod:
                          service: browser_mod.popup
                          data:
                            browser_id: THIS
                            size: normal
                            title: Suivi de la consommation
                            content:
                              type: custom:config-template-card
                              entities:
                                - sensor.conso_tempo_jour_total
                              card:
                                type: custom:mini-graph-card
                                animate: true
                                name: Conso EDF
                                entities:
                                  - sensor.conso_tempo_jour_total
                                labels: true
                                font_size: 60
                                line_color: green
                                points_per_hour: 6
                                hours_to_show: >-
                                  ${

                                  var date = new Date();

                                  var curHour = date.getHours() +
                                  (date.getMinutes()/60.0)-1 +
                                  date.getSeconds()/3600.0;

                                  curHour

                                  }
                                height: 100
                                show:
                                  labels: true
                      card_mod:
                        style: |
                          ha-card {
                           border-radius:10px; 
                           box-shadow: 
                           {%- set couleur= states('sensor.rte_tempo_couleur_actuelle') %}
                           {%- if couleur=='Bleu' %} 0px 0px 10px 3px rgba(50,130,246)  
                           {%- elif couleur=='Blanc' %} 0px 0px 10px 3px rgba(246,246,246)
                           {%- elif couleur=='Rouge' %} 0px 0px 10px 3px rgba(246,47,8)
                           {%- else %} 0px 0px 10px 3px rgba(195,195,195)
                           {%- endif %}
                          } 
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.evol_conso_hier
                        below: 0
                    card:
                      type: custom:button-card
                      entity: sensor.conso_tempo_jour_total
                      label: |
                        [[[
                           var label = ""
                            label = '<b>Conso</b><hr width="400" size="1" align=center color ="#FFFFFF"></hr>' + states['sensor.conso_tempo_jour_total'].state + ' kWh <br>' + states['sensor.evol_conso_hier'].state + ' % <br>' + '<img src="https://raw.githubusercontent.com/Axelle78/test/master/fleche_vert_dim.png" width=20% height=20% >'
                            return label;
                        ]]]
                      show_label: true
                      show_icon: false
                      show_state: false
                      show_name: false
                      tap_action:
                        action: fire-dom-event
                        browser_mod:
                          service: browser_mod.popup
                          data:
                            browser_id: THIS
                            size: normal
                            title: Suivi de la consommation
                            content:
                              type: custom:config-template-card
                              entities:
                                - sensor.conso_tempo_jour_total
                              card:
                                type: custom:mini-graph-card
                                animate: true
                                name: Conso EDF
                                entities:
                                  - sensor.conso_tempo_jour_total
                                labels: true
                                font_size: 60
                                line_color: green
                                points_per_hour: 6
                                hours_to_show: >-
                                  ${

                                  var date = new Date();

                                  var curHour = date.getHours() +
                                  (date.getMinutes()/60.0)-1 +
                                  date.getSeconds()/3600.0;

                                  curHour

                                  }
                                height: 100
                                show:
                                  labels: true
                      card_mod:
                        style: |
                          ha-card {
                           border-radius:10px; 
                           box-shadow: 
                           {%- set couleur= states('sensor.rte_tempo_couleur_actuelle') %}
                           {%- if couleur=='Bleu' %} 0px 0px 10px 3px rgba(50,130,246)  
                           {%- elif couleur=='Blanc' %} 0px 0px 10px 3px rgba(246,246,246)
                           {%- elif couleur=='Rouge' %} 0px 0px 10px 3px rgba(246,47,8)
                           {%- else %} 0px 0px 10px 3px rgba(195,195,195)
                           {%- endif %}
                          } 
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.evol_production_hier
                        above: 0.01
                    card:
                      type: custom:button-card
                      entity: sensor.prodution_kwh
                      label: |
                        [[[
                           var label = ""
                            label = '<b>Production</b><hr width="400" size="1" align=center color ="#FFFFFF"></hr>' + states['sensor.prodution_kwh'].state + ' kWh <br>' + states['sensor.evol_production_hier'].state + ' % <br>' + '<img src="https://raw.githubusercontent.com/Axelle78/test/master/fleche_vert_aug.png" width=20% height=20% >'
                            return label;
                        ]]]
                      show_label: true
                      show_icon: false
                      show_state: false
                      show_name: false
                      tap_action:
                        action: fire-dom-event
                        browser_mod:
                          service: browser_mod.popup
                          data:
                            browser_id: THIS
                            size: normal
                            title: Suivi de la production
                            content:
                              type: custom:config-template-card
                              entities:
                                - sensor.prodution_kwh
                              card:
                                type: custom:mini-graph-card
                                animate: true
                                name: Production Panneaux
                                entities:
                                  - sensor.prodution_kwh
                                labels: true
                                font_size: 60
                                line_color: green
                                points_per_hour: 6
                                hours_to_show: >-
                                  ${

                                  var date = new Date();

                                  var curHour = date.getHours() +
                                  (date.getMinutes()/60.0)-1 +
                                  date.getSeconds()/3600.0;

                                  curHour

                                  }
                                height: 100
                                show:
                                  labels: true
                      card_mod:
                        style: |
                          ha-card {
                           border-radius:10px; 
                           box-shadow: 
                           {%- set couleur= states('sensor.rte_tempo_couleur_actuelle') %}
                           {%- if couleur=='Bleu' %} 0px 0px 10px 3px rgba(50,130,246)  
                           {%- elif couleur=='Blanc' %} 0px 0px 10px 3px rgba(246,246,246)
                           {%- elif couleur=='Rouge' %} 0px 0px 10px 3px rgba(246,47,8)
                           {%- else %} 0px 0px 10px 3px rgba(195,195,195)
                           {%- endif %}
                          } 
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.evol_production_hier
                        below: 0
                    card:
                      type: custom:button-card
                      entity: sensor.prodution_kwh
                      label: |
                        [[[
                           var label = ""
                            label = '<b>Production</b><hr width="400" size="1" align=center color ="#FFFFFF"></hr>' + states['sensor.prodution_kwh'].state + ' kWh <br>' + states['sensor.evol_production_hier'].state + ' %<br>' + '<img src="https://raw.githubusercontent.com/Axelle78/test/master/fleche_rouge_dim.png" width=20% height=20% >'
                            return label;
                        ]]]
                      show_label: true
                      show_icon: false
                      show_state: false
                      show_name: false
                      tap_action:
                        action: fire-dom-event
                        browser_mod:
                          service: browser_mod.popup
                          data:
                            browser_id: THIS
                            size: normal
                            title: Suivi de la production
                            content:
                              type: custom:config-template-card
                              entities:
                                - sensor.prodution_kwh
                              card:
                                type: custom:mini-graph-card
                                animate: true
                                name: Production Panneaux
                                entities:
                                  - sensor.prodution_kwh
                                labels: true
                                font_size: 60
                                line_color: green
                                points_per_hour: 6
                                hours_to_show: >-
                                  ${

                                  var date = new Date();

                                  var curHour = date.getHours() +
                                  (date.getMinutes()/60.0)-1 +
                                  date.getSeconds()/3600.0;

                                  curHour

                                  }
                                height: 100
                                show:
                                  labels: true
                      card_mod:
                        style: |
                          ha-card {
                           border-radius:10px; 
                           box-shadow: 
                           {%- set couleur= states('sensor.rte_tempo_couleur_actuelle') %}
                           {%- if couleur=='Bleu' %} 0px 0px 10px 3px rgba(50,130,246)  
                           {%- elif couleur=='Blanc' %} 0px 0px 10px 3px rgba(246,246,246)
                           {%- elif couleur=='Rouge' %} 0px 0px 10px 3px rgba(246,47,8)
                           {%- else %} 0px 0px 10px 3px rgba(195,195,195)
                           {%- endif %}
                          } 
                  - type: custom:button-card
                    entity: sensor.ecojoko_surplus_de_production
                    label: |
                      [[[
                         var label = ""
                          label = '<b>Export</b><hr width="400" size="1" align=center color ="#FFFFFF"></hr>' + states['sensor.ecojoko_surplus_de_production'].state + ' kWh <br>' + states['sensor.surplus_edf'].state + ' € <br><br>' 
                          return label;
                      ]]]
                    show_label: true
                    show_icon: false
                    show_state: false
                    show_name: false
                    tap_action:
                      action: fire-dom-event
                      browser_mod:
                        service: browser_mod.popup
                        data:
                          browser_id: THIS
                          size: normal
                          title: Suivi du surplus de production
                          content:
                            type: custom:config-template-card
                            entities:
                              - sensor.ecojoko_surplus_de_production
                            card:
                              type: custom:mini-graph-card
                              animate: true
                              name: Surplus Panneaux
                              entities:
                                - sensor.ecojoko_surplus_de_production
                              labels: true
                              font_size: 60
                              line_color: green
                              points_per_hour: 6
                              hours_to_show: >-
                                ${

                                var date = new Date();

                                var curHour = date.getHours() +
                                (date.getMinutes()/60.0)-1 +
                                date.getSeconds()/3600.0;

                                curHour

                                }
                              height: 100
                              show:
                                labels: true
                    card_mod:
                      style: |
                        ha-card {
                         border-radius:10px; 
                         box-shadow: 
                         {%- set couleur= states('sensor.rte_tempo_couleur_actuelle') %}
                         {%- if couleur=='Bleu' %} 0px 0px 10px 3px rgba(50,130,246)  
                         {%- elif couleur=='Blanc' %} 0px 0px 10px 3px rgba(246,246,246)
                         {%- elif couleur=='Rouge' %} 0px 0px 10px 3px rgba(246,47,8)
                         {%- else %} 0px 0px 10px 3px rgba(195,195,195)
                         {%- endif %}
                        } 
          - type: custom:stack-in-card
            cards:
              - type: horizontal-stack
                cards:
                  - type: custom:mushroom-entity-card
                    entity: sensor.ecojoko_consommation_temps_reel
                    primary_info: state
                    secondary_info: name
                    name: Conso live
                    icon: mdi:flash-outline
                  - type: custom:mushroom-entity-card
                    entity: sensor.ecojoko_consommation_reseau
                    primary_info: state
                    secondary_info: name
                    name: Conso jour
                    icon: mdi:flash-outline
              - type: custom:apexcharts-card
                graph_span: 1d
                span:
                  start: day
                apex_config:
                  chart:
                    height: 230px
                    fontFamily: Raleway,sans-serif
                  legend:
                    show: false
                experimental:
                  color_threshold: true
                  brush: true
                header:
                  show: false
                  title: Server Rack
                  show_states: false
                  colorize_states: true
                yaxis:
                  - id: first
                    decimals: 1
                    apex_config:
                      tickAmount: 2
                      stroke:
                        width: 1
                  - id: second
                    opposite: true
                    decimals: 0
                    apex_config:
                      tickAmount: 2
                      stroke:
                        width: 1
                      fill:
                        type:
                          - gradient
                        gradient:
                          type: vertical
                          opacityFrom: 0.6
                          opacityTo: 0.1
                series:
                  - entity: sensor.ecojoko_consommation_temps_reel
                    name: Power
                    yaxis_id: first
                    show:
                      legend_value: false
                    type: column
                    group_by:
                      func: avg
                      duration: 2min
                    color_threshold:
                      - value: -5000
                        color: blue
                      - value: 0
                        color: rgb(165,255,132)
                      - value: 1000
                        color: green
                      - value: 2000
                        color: rgb(234, 255, 132)
                      - value: 3000
                        color: orange
          - type: custom:apexcharts-card
            stacked: true
            graph_span: 7d
            span:
              end: day
            apex_config:
              legend:
                show: false
              chart:
                height: 200px
            series:
              - entity: sensor.abonnement_edf_journalier
                type: column
                color: rgb(7,142,2)
                group_by:
                  func: last
                  duration: 1d
              - entity: sensor.cout_tempo_jour_blanc_hc
                type: column
                color: rgb(170,170,170)
                group_by:
                  func: last
                  duration: 1d
              - entity: sensor.cout_tempo_jour_blanc_hp
                type: column
                color: rgb(128,128,128)
                group_by:
                  func: last
                  duration: 1d
                show:
                  datalabels: total
              - entity: sensor.cout_tempo_jour_rouge_hp
                type: column
                color: rgb(255,0,0)
                group_by:
                  func: last
                  duration: 1d
                show:
                  datalabels: total
              - entity: sensor.cout_tempo_jour_rouge_hc
                type: column
                color: rgb(255,141,126)
                group_by:
                  func: last
                  duration: 1d
              - entity: sensor.cout_tempo_jour_bleu_hp
                type: column
                color: rgb(63,72,204)
                group_by:
                  func: last
                  duration: 1d
                show:
                  datalabels: total
              - entity: sensor.cout_tempo_jour_bleu_hc
                type: column
                color: rgb(113,155,255)
                group_by:
                  func: last
                  duration: 1d
    badges:
      - type: entity
        show_name: false
        show_state: true
        show_icon: true
        entity: sensor.poubelle_j
        icon: mdi:trash-can-outline
      - type: entity
        show_name: false
        show_state: true
        show_icon: true
        entity: sensor.poubelle_j1
        icon: mdi:trash-can
      - type: entity
        show_name: false
        show_state: true
        show_icon: true
        entity: sensor.anniversaire
        icon: mdi:cake-variant
        color: ''
        visibility:
          - condition: state
            entity: sensor.anniversaire
            state_not: Aucun anniversaire aujourd'hui
      - type: entity
        show_name: false
        show_state: true
        show_icon: true
        entity: input_select.camera
        color: ''
      - type: entity
        show_name: false
        show_state: true
        show_icon: true
        entity: input_boolean.summer_mode
        color: ''
      - type: entity
        show_name: false
        show_state: true
        show_icon: true
        entity: sensor.indoor_pluie_precipitation_aujourd_hui
        color: ''
        visibility:
          - condition: numeric_state
            entity: sensor.indoor_pluie_precipitation_aujourd_hui
            above: 0
        tap_action:
          action: navigate
          navigation_path: /lovelace/3
      - type: custom:mushroom-template-badge
        content: '{{states("sensor.mantes_poissy")}} minutes'
        icon: mdi:car
        color: |-
          {% if states("sensor.mantes_poissy")<"30:00" %}  green 
          {% elif states("sensor.mantes_poissy")<"45:00" %}  orange 
          {%else%} red {%endif%}
        label: Mantes- Poissy
        tap_action:
          action: more-info
        entity: sensor.mantes_poissy
      - type: custom:mushroom-template-badge
        content: '{{states("sensor.poissy_mantes")}} minutes'
        icon: mdi:car
        color: |-
          {% if states("sensor.poissy_mantes")<"30:00" %}  green 
          {% elif states("sensor.poissy_mantes")<"45:00" %}  orange 
          {%else%} red {%endif%}
        label: Poissy-Mantes
        tap_action:
          action: more-info
        entity: sensor.poissy_mantes
    max_columns: 4
    cards: []
    dense_section_placement: true
  - icon: mdi:lightbulb
    cards:
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-light-card
                entity: light.go2
                fill_container: true
                use_light_color: true
                show_brightness_control: true
                show_color_temp_control: true
                show_color_control: true
                collapsible_controls: true
              - type: custom:mushroom-light-card
                entity: light.awtrix_1e818c_matrix
                fill_container: false
                use_light_color: false
                show_brightness_control: false
                show_color_temp_control: false
                show_color_control: false
                collapsible_controls: false
                name: Ecran Awtrix
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-light-card
                entity: light.lampe
                fill_container: true
                show_brightness_control: true
                show_color_control: true
                show_color_temp_control: true
                use_light_color: true
                collapsible_controls: true
              - type: custom:mushroom-light-card
                entity: light.couloir
                fill_container: false
                use_light_color: true
                show_brightness_control: true
                show_color_temp_control: true
                show_color_control: true
                collapsible_controls: true
          - type: custom:mushroom-light-card
            entity: light.bureau_chloe
            fill_container: true
            show_brightness_control: true
            use_light_color: false
            show_color_temp_control: true
      - type: vertical-stack
        cards:
          - type: custom:mushroom-light-card
            fill_container: true
            entity: light.led_chloe
            use_light_color: true
            show_brightness_control: true
            show_color_temp_control: true
            show_color_control: true
            collapsible_controls: true
            name: LED Chloé
          - type: entities
            entities:
              - entity: switch.led_chloe_audio
              - entity: select.led_chloe_audio_effect
              - entity: select.led_chloe_audio_sensitivity
              - entity: input_number.mode_led_chloe
              - entity: number.led_chloe_speed
      - type: horizontal-stack
        cards:
          - type: vertical-stack
            cards:
              - type: custom:mushroom-light-card
                fill_container: true
                entity: light.led
                use_light_color: true
                show_brightness_control: true
                show_color_temp_control: true
                show_color_control: true
                collapsible_controls: true
                name: LED Lucie
              - type: entities
                entities:
                  - entity: switch.led_audio
                  - entity: select.led_audio_effect
                  - entity: select.led_audio_sensitivity
                  - entity: input_number.mode_led_lucie
                  - entity: number.led_speed
      - type: vertical-stack
        cards:
          - type: custom:mushroom-light-card
            fill_container: true
            entity: light.led_lucie
            use_light_color: true
            show_brightness_control: true
            show_color_temp_control: true
            show_color_control: true
            collapsible_controls: true
            name: LED Lit Lucie
          - type: entities
            entities:
              - entity: switch.led_lucie_audio
              - entity: select.led_lucie_audio_effect
              - entity: select.led_lucie_audio_sensitivity
              - entity: input_number.mode_led_lit
              - entity: number.led_lucie_speed
      - type: light
        entity: light.twinkly_621ad1
    type: custom:horizontal-layout
  - title: dqsdq
    path: dqsdq
    cards:
      - type: horizontal-stack
        cards:
          - type: custom:stack-in-card
            cards:
              - type: markdown
                content: <center>Salon</center>
              - type: custom:apexcharts-card
                chart_type: radialBar
                series:
                  - entity: sensor.temp_salon_temperature
                    color: green
                    max: 50
                    show:
                      legend_value: false
                apex_config:
                  plotOptions:
                    radialBar:
                      offsetY: 0
                      startAngle: -90
                      endAngle: 90
                      hollow:
                        size: 80%
                      dataLabels:
                        name:
                          show: false
                        value:
                          show: false
                      track:
                        strokeWidth: 90%
                        margin: 0
                  fill:
                    type: gradient
                    gradient:
                      shade: dark
                      type: horizontal
                      shadeIntensity: 0.5
                      inverseColors: false
                      gradientToColors:
                        - '#DCFE04'
                        - '#FEEF04'
                        - '#FEB204'
                        - '#FE4404'
                      opacityFrom: 1
                      opacityTo: 1
                      stops:
                        - 0
                        - 100
                  legend:
                    show: false
                  chart:
                    height: 220
                card_mod:
                  style: |
                    ha-card {
                    margin-top: -30px;
                     }
              - type: custom:apexcharts-card
                chart_type: radialBar
                series:
                  - entity: sensor.temp_salon_humidity
                    color: '#04FEF3'
                    max: 100
                    show:
                      legend_value: false
                apex_config:
                  plotOptions:
                    radialBar:
                      offsetY: 100
                      startAngle: 90
                      endAngle: 270
                      hollow:
                        size: 80%
                      dataLabels:
                        name:
                          show: false
                        value:
                          show: false
                      track:
                        strokeWidth: 80%
                        margin: 0
                  fill:
                    type: gradient
                    gradient:
                      shade: light
                      type: horizontal
                      shadeIntensity: 0.3
                      inverseColors: true
                      gradientToColors:
                        - '#0408FE'
                      opacityFrom: 1
                      opacityTo: 1
                      stops:
                        - 0
                        - 100
                  legend:
                    show: false
                  chart:
                    height: 220
                card_mod:
                  style: |
                    ha-card {
                    margin-top: -242px;
                     }
              - type: custom:mushroom-entity-card
                entity: sensor.temp_salon_temperature
                primary_info: state
                secondary_info: none
                name: Salon
                icon_color: green
                layout: horizontal
                card_mod:
                  style: |
                    ha-card {
                      position: absolute;
                      top: 35%;
                      left : 25%;
                     }
                    :host {
                     --card-primary-font-size: 16px !important;
                     --mush-icon-size: 25px; 
                    }
              - type: custom:mushroom-entity-card
                entity: sensor.temp_salon_humidity
                primary_info: state
                secondary_info: none
                name: Salon
                icon_color: blue
                layout: horizontal
                card_mod:
                  style: |
                    ha-card {
                      position: absolute;
                      top: 50%;
                      left : 25%;
                       }
                    :host {
                     --card-primary-font-size: 16px !important;
                     --mush-icon-size: 25px; 
                    }
          - type: vertical-stack
            cards:
              - animate: true
                color_thresholds:
                  - color: '#1bc6fd'
                    value: 18
                  - color: '#1bfd1b'
                    value: 20
                  - color: '#fdf31b'
                    value: 22
                  - color: '#fda41b'
                    value: 25
                  - color: '#fd331b'
                    value: 30
                entities:
                  - sensor.temp_salon_temperature
                labels: true
                height: 130
                line_color: green
                points_per_hour: 6
                show:
                  labels: true
                  state: false
                name: °C
                type: custom:mini-graph-card
              - animate: true
                color_thresholds:
                  - color: '#F6FE04'
                    value: 20
                  - color: '#04FEFE'
                    value: 30
                  - color: '#049FFE'
                    value: 50
                  - color: '#0441FE'
                    value: 60
                  - color: '#002FBF'
                    value: 70
                entities:
                  - sensor.temp_salon_humidity
                labels: true
                height: 130
                line_color: blue
                points_per_hour: 6
                show:
                  labels: true
                  state: false
                name: '%'
                type: custom:mini-graph-card
      - type: horizontal-stack
        cards:
          - type: custom:stack-in-card
            cards:
              - type: markdown
                content: <center>Dehors</center>
              - type: custom:apexcharts-card
                chart_type: radialBar
                series:
                  - entity: sensor.indoor_exterieur_temperature
                    color: green
                    max: 50
                    show:
                      legend_value: false
                apex_config:
                  plotOptions:
                    radialBar:
                      offsetY: 0
                      startAngle: -90
                      endAngle: 90
                      hollow:
                        size: 80%
                      dataLabels:
                        name:
                          show: false
                        value:
                          show: false
                      track:
                        strokeWidth: 90%
                        margin: 0
                  fill:
                    type: gradient
                    gradient:
                      shade: dark
                      type: horizontal
                      shadeIntensity: 0.5
                      inverseColors: false
                      gradientToColors:
                        - '#DCFE04'
                        - '#FEEF04'
                        - '#FEB204'
                        - '#FE4404'
                      opacityFrom: 1
                      opacityTo: 1
                      stops:
                        - 0
                        - 100
                  legend:
                    show: false
                  chart:
                    height: 220
                card_mod:
                  style: |
                    ha-card {
                    margin-top: -30px;
                     }
              - type: custom:apexcharts-card
                chart_type: radialBar
                series:
                  - entity: sensor.indoor_exterieur_humidite
                    color: '#04FEF3'
                    max: 100
                    show:
                      legend_value: false
                apex_config:
                  plotOptions:
                    radialBar:
                      offsetY: 100
                      startAngle: 90
                      endAngle: 270
                      hollow:
                        size: 80%
                      dataLabels:
                        name:
                          show: false
                        value:
                          show: false
                      track:
                        strokeWidth: 80%
                        margin: 0
                  fill:
                    type: gradient
                    gradient:
                      shade: light
                      type: horizontal
                      shadeIntensity: 0.3
                      inverseColors: true
                      gradientToColors:
                        - '#0408FE'
                      opacityFrom: 1
                      opacityTo: 1
                      stops:
                        - 0
                        - 100
                  legend:
                    show: false
                  chart:
                    height: 220
                card_mod:
                  style: |
                    ha-card {
                    margin-top: -242px;
                     }
              - type: custom:mushroom-entity-card
                entity: sensor.indoor_exterieur_temperature
                primary_info: state
                secondary_info: none
                name: Salon
                icon_color: green
                layout: horizontal
                card_mod:
                  style: |
                    ha-card {
                      position: absolute;
                      top: 35%;
                      left : 25%;
                     }
                    :host {
                     --card-primary-font-size: 16px !important;
                     --mush-icon-size: 25px; 
                    }
              - type: custom:mushroom-entity-card
                entity: sensor.indoor_exterieur_humidite
                primary_info: state
                secondary_info: none
                name: Salon
                icon_color: blue
                layout: horizontal
                card_mod:
                  style: |
                    ha-card {
                      position: absolute;
                      top: 50%;
                      left : 25%;
                       }
                    :host {
                     --card-primary-font-size: 16px !important;
                     --mush-icon-size: 25px; 
                    }
          - type: vertical-stack
            cards:
              - animate: true
                color_thresholds:
                  - color: '#1bc6fd'
                    value: 5
                  - color: '#1bfd1b'
                    value: 10
                  - color: '#fdf31b'
                    value: 15
                  - color: '#fda41b'
                    value: 20
                  - color: '#fd331b'
                    value: 25
                entities:
                  - sensor.indoor_exterieur_temperature
                labels: true
                height: 130
                line_color: green
                points_per_hour: 6
                show:
                  labels: true
                  state: false
                name: °C
                type: custom:mini-graph-card
              - animate: true
                color_thresholds:
                  - color: '#F6FE04'
                    value: 20
                  - color: '#04FEFE'
                    value: 30
                  - color: '#049FFE'
                    value: 50
                  - color: '#0441FE'
                    value: 60
                  - color: '#002FBF'
                    value: 70
                entities:
                  - sensor.indoor_exterieur_humidite
                labels: true
                height: 130
                line_color: blue
                points_per_hour: 6
                show:
                  labels: true
                  state: false
                name: '%'
                type: custom:mini-graph-card
      - type: horizontal-stack
        cards:
          - type: custom:stack-in-card
            cards:
              - type: markdown
                content: <center>Terrasse</center>
              - type: custom:apexcharts-card
                chart_type: radialBar
                series:
                  - entity: sensor.temp_terrasse_temperature
                    color: green
                    max: 50
                    show:
                      legend_value: false
                apex_config:
                  plotOptions:
                    radialBar:
                      offsetY: 0
                      startAngle: -90
                      endAngle: 90
                      hollow:
                        size: 80%
                      dataLabels:
                        name:
                          show: false
                        value:
                          show: false
                      track:
                        strokeWidth: 90%
                        margin: 0
                  fill:
                    type: gradient
                    gradient:
                      shade: dark
                      type: horizontal
                      shadeIntensity: 0.5
                      inverseColors: false
                      gradientToColors:
                        - '#DCFE04'
                        - '#FEEF04'
                        - '#FEB204'
                        - '#FE4404'
                      opacityFrom: 1
                      opacityTo: 1
                      stops:
                        - 0
                        - 100
                  legend:
                    show: false
                  chart:
                    height: 220
                card_mod:
                  style: |
                    ha-card {
                    margin-top: -30px;
                     }
              - type: custom:apexcharts-card
                chart_type: radialBar
                series:
                  - entity: sensor.temp_terrasse_humidity
                    color: '#04FEF3'
                    max: 100
                    show:
                      legend_value: false
                apex_config:
                  plotOptions:
                    radialBar:
                      offsetY: 100
                      startAngle: 90
                      endAngle: 270
                      hollow:
                        size: 80%
                      dataLabels:
                        name:
                          show: false
                        value:
                          show: false
                      track:
                        strokeWidth: 80%
                        margin: 0
                  fill:
                    type: gradient
                    gradient:
                      shade: light
                      type: horizontal
                      shadeIntensity: 0.3
                      inverseColors: true
                      gradientToColors:
                        - '#0408FE'
                      opacityFrom: 1
                      opacityTo: 1
                      stops:
                        - 0
                        - 100
                  legend:
                    show: false
                  chart:
                    height: 220
                card_mod:
                  style: |
                    ha-card {
                    margin-top: -242px;
                     }
              - type: custom:mushroom-entity-card
                entity: sensor.temp_terrasse_temperature
                primary_info: state
                secondary_info: none
                name: Salon
                icon_color: green
                layout: horizontal
                card_mod:
                  style: |
                    ha-card {
                      position: absolute;
                      top: 35%;
                      left : 25%;
                     }
                    :host {
                     --card-primary-font-size: 18px !important;
                     --mush-icon-size: 25px; 
                    }
              - type: custom:mushroom-entity-card
                entity: sensor.temp_terrasse_humidity
                primary_info: state
                secondary_info: none
                name: Salon
                icon_color: blue
                layout: horizontal
                card_mod:
                  style: |
                    ha-card {
                      position: absolute;
                      top: 50%;
                      left : 25%;
                       }
                    :host {
                     --card-primary-font-size: 18px !important;
                     --mush-icon-size: 25px; 
                    }
          - type: vertical-stack
            cards:
              - animate: true
                color_thresholds:
                  - color: '#1bc6fd'
                    value: 5
                  - color: '#1bfd1b'
                    value: 10
                  - color: '#fdf31b'
                    value: 15
                  - color: '#fda41b'
                    value: 20
                  - color: '#fd331b'
                    value: 25
                entities:
                  - sensor.temp_terrasse_temperature
                labels: true
                height: 130
                line_color: green
                points_per_hour: 6
                show:
                  labels: true
                  state: false
                name: °C
                type: custom:mini-graph-card
              - animate: true
                color_thresholds:
                  - color: '#F6FE04'
                    value: 20
                  - color: '#04FEFE'
                    value: 30
                  - color: '#049FFE'
                    value: 50
                  - color: '#0441FE'
                    value: 60
                  - color: '#002FBF'
                    value: 70
                entities:
                  - sensor.temp_terrasse_humidity
                labels: true
                height: 130
                line_color: blue
                points_per_hour: 6
                show:
                  labels: true
                  state: false
                name: '%'
                type: custom:mini-graph-card
      - type: horizontal-stack
        cards:
          - type: custom:stack-in-card
            cards:
              - type: markdown
                content: <center>Salle de bain</center>
              - type: custom:apexcharts-card
                chart_type: radialBar
                series:
                  - entity: sensor.ble_temperature_temperature_sdb
                    color: green
                    max: 50
                    show:
                      legend_value: false
                apex_config:
                  plotOptions:
                    radialBar:
                      offsetY: 0
                      startAngle: -90
                      endAngle: 90
                      hollow:
                        size: 80%
                      dataLabels:
                        name:
                          show: false
                        value:
                          show: false
                      track:
                        strokeWidth: 90%
                        margin: 0
                  fill:
                    type: gradient
                    gradient:
                      shade: dark
                      type: horizontal
                      shadeIntensity: 0.5
                      inverseColors: false
                      gradientToColors:
                        - '#DCFE04'
                        - '#FEEF04'
                        - '#FEB204'
                        - '#FE4404'
                      opacityFrom: 1
                      opacityTo: 1
                      stops:
                        - 0
                        - 100
                  legend:
                    show: false
                  chart:
                    height: 220
                card_mod:
                  style: |
                    ha-card {
                    margin-top: -30px;
                     }
              - type: custom:apexcharts-card
                chart_type: radialBar
                series:
                  - entity: sensor.ble_humidity_temperature_sdb
                    color: '#04FEF3'
                    max: 100
                    show:
                      legend_value: false
                apex_config:
                  plotOptions:
                    radialBar:
                      offsetY: 100
                      startAngle: 90
                      endAngle: 270
                      hollow:
                        size: 80%
                      dataLabels:
                        name:
                          show: false
                        value:
                          show: false
                      track:
                        strokeWidth: 80%
                        margin: 0
                  fill:
                    type: gradient
                    gradient:
                      shade: light
                      type: horizontal
                      shadeIntensity: 0.3
                      inverseColors: true
                      gradientToColors:
                        - '#0408FE'
                      opacityFrom: 1
                      opacityTo: 1
                      stops:
                        - 0
                        - 100
                  legend:
                    show: false
                  chart:
                    height: 220
                card_mod:
                  style: |
                    ha-card {
                    margin-top: -242px;
                     }
              - type: custom:mushroom-entity-card
                entity: sensor.ble_temperature_temperature_sdb
                primary_info: state
                secondary_info: none
                name: Salon
                icon_color: green
                layout: horizontal
                card_mod:
                  style: |
                    ha-card {
                      position: absolute;
                      top: 35%;
                      left : 25%;
                     }
                    :host {
                     --card-primary-font-size: 16px !important;
                     --mush-icon-size: 25px; 
                    }
              - type: custom:mushroom-entity-card
                entity: sensor.ble_humidity_temperature_sdb
                primary_info: state
                secondary_info: none
                name: Salon
                icon_color: blue
                layout: horizontal
                card_mod:
                  style: |
                    ha-card {
                      position: absolute;
                      top: 50%;
                      left : 25%;
                       }
                    :host {
                     --card-primary-font-size: 16px !important;
                     --mush-icon-size: 25px; 
                    }
          - type: vertical-stack
            cards:
              - animate: true
                color_thresholds:
                  - color: '#1bc6fd'
                    value: 18
                  - color: '#1bfd1b'
                    value: 20
                  - color: '#fdf31b'
                    value: 22
                  - color: '#fda41b'
                    value: 25
                  - color: '#fd331b'
                    value: 30
                entities:
                  - sensor.ble_temperature_temperature_sdb
                labels: true
                height: 130
                line_color: green
                points_per_hour: 6
                show:
                  labels: true
                  state: false
                name: °C
                type: custom:mini-graph-card
              - animate: true
                color_thresholds:
                  - color: '#F6FE04'
                    value: 20
                  - color: '#04FEFE'
                    value: 30
                  - color: '#049FFE'
                    value: 50
                  - color: '#0441FE'
                    value: 60
                  - color: '#002FBF'
                    value: 70
                entities:
                  - sensor.ble_humidity_temperature_sdb
                labels: true
                height: 130
                line_color: blue
                points_per_hour: 6
                show:
                  labels: true
                  state: false
                name: '%'
                type: custom:mini-graph-card
      - type: horizontal-stack
        cards:
          - type: custom:stack-in-card
            cards:
              - type: markdown
                content: <center>Chambre</center>
              - type: custom:apexcharts-card
                chart_type: radialBar
                series:
                  - entity: sensor.ble_temperature_temperature_chambre
                    color: green
                    max: 50
                    show:
                      legend_value: false
                apex_config:
                  plotOptions:
                    radialBar:
                      offsetY: 0
                      startAngle: -90
                      endAngle: 90
                      hollow:
                        size: 80%
                      dataLabels:
                        name:
                          show: false
                        value:
                          show: false
                      track:
                        strokeWidth: 90%
                        margin: 0
                  fill:
                    type: gradient
                    gradient:
                      shade: dark
                      type: horizontal
                      shadeIntensity: 0.5
                      inverseColors: false
                      gradientToColors:
                        - '#DCFE04'
                        - '#FEEF04'
                        - '#FEB204'
                        - '#FE4404'
                      opacityFrom: 1
                      opacityTo: 1
                      stops:
                        - 0
                        - 100
                  legend:
                    show: false
                  chart:
                    height: 220
                card_mod:
                  style: |
                    ha-card {
                    margin-top: -30px;
                     }
              - type: custom:apexcharts-card
                chart_type: radialBar
                series:
                  - entity: sensor.ble_humidity_temperature_chambre
                    color: '#04FEF3'
                    max: 100
                    show:
                      legend_value: false
                apex_config:
                  plotOptions:
                    radialBar:
                      offsetY: 100
                      startAngle: 90
                      endAngle: 270
                      hollow:
                        size: 80%
                      dataLabels:
                        name:
                          show: false
                        value:
                          show: false
                      track:
                        strokeWidth: 80%
                        margin: 0
                  fill:
                    type: gradient
                    gradient:
                      shade: light
                      type: horizontal
                      shadeIntensity: 0.3
                      inverseColors: true
                      gradientToColors:
                        - '#0408FE'
                      opacityFrom: 1
                      opacityTo: 1
                      stops:
                        - 0
                        - 100
                  legend:
                    show: false
                  chart:
                    height: 220
                card_mod:
                  style: |
                    ha-card {
                    margin-top: -242px;
                     }
              - type: custom:mushroom-entity-card
                entity: sensor.ble_temperature_temperature_chambre
                primary_info: state
                secondary_info: none
                name: Salon
                icon_color: green
                layout: horizontal
                card_mod:
                  style: |
                    ha-card {
                      position: absolute;
                      top: 35%;
                      left : 25%;
                     }
                    :host {
                     --card-primary-font-size: 16px !important;
                     --mush-icon-size: 25px; 
                    }
              - type: custom:mushroom-entity-card
                entity: sensor.ble_humidity_temperature_chambre
                primary_info: state
                secondary_info: none
                name: Salon
                icon_color: blue
                layout: horizontal
                card_mod:
                  style: |
                    ha-card {
                      position: absolute;
                      top: 50%;
                      left : 25%;
                       }
                    :host {
                     --card-primary-font-size: 16px !important;
                     --mush-icon-size: 25px; 
                    }
          - type: vertical-stack
            cards:
              - animate: true
                color_thresholds:
                  - color: '#1bc6fd'
                    value: 18
                  - color: '#1bfd1b'
                    value: 20
                  - color: '#fdf31b'
                    value: 22
                  - color: '#fda41b'
                    value: 25
                  - color: '#fd331b'
                    value: 30
                entities:
                  - sensor.ble_temperature_temperature_chambre
                labels: true
                height: 130
                line_color: green
                points_per_hour: 6
                show:
                  labels: true
                  state: false
                name: °C
                type: custom:mini-graph-card
              - animate: true
                color_thresholds:
                  - color: '#F6FE04'
                    value: 20
                  - color: '#04FEFE'
                    value: 30
                  - color: '#049FFE'
                    value: 50
                  - color: '#0441FE'
                    value: 60
                  - color: '#002FBF'
                    value: 70
                entities:
                  - sensor.ble_humidity_temperature_chambre
                labels: true
                height: 130
                line_color: blue
                points_per_hour: 6
                show:
                  labels: true
                  state: false
                name: '%'
                type: custom:mini-graph-card
      - type: horizontal-stack
        cards:
          - type: custom:stack-in-card
            cards:
              - type: markdown
                content: <center>Lucie</center>
              - type: custom:apexcharts-card
                chart_type: radialBar
                series:
                  - entity: sensor.ble_temperature_temperature_chambre_de_lucie
                    color: green
                    max: 50
                    show:
                      legend_value: false
                apex_config:
                  plotOptions:
                    radialBar:
                      offsetY: 0
                      startAngle: -90
                      endAngle: 90
                      hollow:
                        size: 80%
                      dataLabels:
                        name:
                          show: false
                        value:
                          show: false
                      track:
                        strokeWidth: 90%
                        margin: 0
                  fill:
                    type: gradient
                    gradient:
                      shade: dark
                      type: horizontal
                      shadeIntensity: 0.5
                      inverseColors: false
                      gradientToColors:
                        - '#DCFE04'
                        - '#FEEF04'
                        - '#FEB204'
                        - '#FE4404'
                      opacityFrom: 1
                      opacityTo: 1
                      stops:
                        - 0
                        - 100
                  legend:
                    show: false
                  chart:
                    height: 220
                card_mod:
                  style: |
                    ha-card {
                    margin-top: -30px;
                     }
              - type: custom:apexcharts-card
                chart_type: radialBar
                series:
                  - entity: sensor.ble_humidity_temperature_chambre_de_lucie
                    color: '#04FEF3'
                    max: 100
                    show:
                      legend_value: false
                apex_config:
                  plotOptions:
                    radialBar:
                      offsetY: 100
                      startAngle: 90
                      endAngle: 270
                      hollow:
                        size: 80%
                      dataLabels:
                        name:
                          show: false
                        value:
                          show: false
                      track:
                        strokeWidth: 80%
                        margin: 0
                  fill:
                    type: gradient
                    gradient:
                      shade: light
                      type: horizontal
                      shadeIntensity: 0.3
                      inverseColors: true
                      gradientToColors:
                        - '#0408FE'
                      opacityFrom: 1
                      opacityTo: 1
                      stops:
                        - 0
                        - 100
                  legend:
                    show: false
                  chart:
                    height: 220
                card_mod:
                  style: |
                    ha-card {
                    margin-top: -242px;
                     }
              - type: custom:mushroom-entity-card
                entity: sensor.ble_temperature_temperature_chambre_de_lucie
                primary_info: state
                secondary_info: none
                name: Salon
                icon_color: green
                layout: horizontal
                card_mod:
                  style: |
                    ha-card {
                      position: absolute;
                      top: 35%;
                      left : 25%;
                     }
                    :host {
                     --card-primary-font-size: 16px !important;
                     --mush-icon-size: 25px; 
                    }
              - type: custom:mushroom-entity-card
                entity: sensor.ble_humidity_temperature_chambre_de_lucie
                primary_info: state
                secondary_info: none
                name: Salon
                icon_color: blue
                layout: horizontal
                card_mod:
                  style: |
                    ha-card {
                      position: absolute;
                      top: 50%;
                      left : 25%;
                       }
                    :host {
                     --card-primary-font-size: 16px !important;
                     --mush-icon-size: 25px; 
                    }
          - type: vertical-stack
            cards:
              - animate: true
                color_thresholds:
                  - color: '#1bc6fd'
                    value: 18
                  - color: '#1bfd1b'
                    value: 20
                  - color: '#fdf31b'
                    value: 22
                  - color: '#fda41b'
                    value: 25
                  - color: '#fd331b'
                    value: 30
                entities:
                  - sensor.ble_temperature_temperature_chambre_de_lucie
                labels: true
                height: 130
                line_color: green
                points_per_hour: 6
                show:
                  labels: true
                  state: false
                name: °C
                type: custom:mini-graph-card
              - animate: true
                color_thresholds:
                  - color: '#F6FE04'
                    value: 20
                  - color: '#04FEFE'
                    value: 30
                  - color: '#049FFE'
                    value: 50
                  - color: '#0441FE'
                    value: 60
                  - color: '#002FBF'
                    value: 70
                entities:
                  - sensor.ble_humidity_temperature_chambre_de_lucie
                labels: true
                height: 130
                line_color: blue
                points_per_hour: 6
                show:
                  labels: true
                  state: false
                name: '%'
                type: custom:mini-graph-card
      - type: horizontal-stack
        cards:
          - type: custom:stack-in-card
            cards:
              - type: markdown
                content: <center>Chloé</center>
              - type: custom:apexcharts-card
                chart_type: radialBar
                series:
                  - entity: sensor.ble_temperature_temperature_chambre_chloe
                    color: green
                    max: 50
                    show:
                      legend_value: false
                apex_config:
                  plotOptions:
                    radialBar:
                      offsetY: 0
                      startAngle: -90
                      endAngle: 90
                      hollow:
                        size: 80%
                      dataLabels:
                        name:
                          show: false
                        value:
                          show: false
                      track:
                        strokeWidth: 90%
                        margin: 0
                  fill:
                    type: gradient
                    gradient:
                      shade: dark
                      type: horizontal
                      shadeIntensity: 0.5
                      inverseColors: false
                      gradientToColors:
                        - '#DCFE04'
                        - '#FEEF04'
                        - '#FEB204'
                        - '#FE4404'
                      opacityFrom: 1
                      opacityTo: 1
                      stops:
                        - 0
                        - 100
                  legend:
                    show: false
                  chart:
                    height: 220
                card_mod:
                  style: |
                    ha-card {
                    margin-top: -30px;
                     }
              - type: custom:apexcharts-card
                chart_type: radialBar
                series:
                  - entity: sensor.ble_humidity_temperature_chambre_chloe
                    color: '#04FEF3'
                    max: 100
                    show:
                      legend_value: false
                apex_config:
                  plotOptions:
                    radialBar:
                      offsetY: 100
                      startAngle: 90
                      endAngle: 270
                      hollow:
                        size: 80%
                      dataLabels:
                        name:
                          show: false
                        value:
                          show: false
                      track:
                        strokeWidth: 80%
                        margin: 0
                  fill:
                    type: gradient
                    gradient:
                      shade: light
                      type: horizontal
                      shadeIntensity: 0.3
                      inverseColors: true
                      gradientToColors:
                        - '#0408FE'
                      opacityFrom: 1
                      opacityTo: 1
                      stops:
                        - 0
                        - 100
                  legend:
                    show: false
                  chart:
                    height: 220
                card_mod:
                  style: |
                    ha-card {
                    margin-top: -242px;
                     }
              - type: custom:mushroom-entity-card
                entity: sensor.ble_temperature_temperature_chambre_chloe
                primary_info: state
                secondary_info: none
                name: Salon
                icon_color: green
                layout: horizontal
                card_mod:
                  style: |
                    ha-card {
                      position: absolute;
                      top: 35%;
                      left : 25%;
                     }
                    :host {
                     --card-primary-font-size: 16px !important;
                     --mush-icon-size: 25px; 
                    }
              - type: custom:mushroom-entity-card
                entity: sensor.ble_humidity_temperature_chambre_chloe
                primary_info: state
                secondary_info: none
                name: Salon
                icon_color: blue
                layout: horizontal
                card_mod:
                  style: |
                    ha-card {
                      position: absolute;
                      top: 50%;
                      left : 25%;
                       }
                    :host {
                     --card-primary-font-size: 16px !important;
                     --mush-icon-size: 25px; 
                    }
          - type: vertical-stack
            cards:
              - animate: true
                color_thresholds:
                  - color: '#1bc6fd'
                    value: 18
                  - color: '#1bfd1b'
                    value: 20
                  - color: '#fdf31b'
                    value: 22
                  - color: '#fda41b'
                    value: 25
                  - color: '#fd331b'
                    value: 30
                entities:
                  - sensor.ble_temperature_temperature_chambre_chloe
                labels: true
                height: 130
                line_color: green
                points_per_hour: 6
                show:
                  labels: true
                  state: false
                name: °C
                type: custom:mini-graph-card
              - animate: true
                color_thresholds:
                  - color: '#F6FE04'
                    value: 20
                  - color: '#04FEFE'
                    value: 30
                  - color: '#049FFE'
                    value: 50
                  - color: '#0441FE'
                    value: 60
                  - color: '#002FBF'
                    value: 70
                entities:
                  - sensor.ble_humidity_temperature_chambre_chloe
                labels: true
                height: 130
                line_color: blue
                points_per_hour: 6
                show:
                  labels: true
                  state: false
                name: '%'
                type: custom:mini-graph-card
      - type: horizontal-stack
        cards:
          - type: custom:stack-in-card
            cards:
              - type: markdown
                content: <center>Garage</center>
              - type: custom:apexcharts-card
                chart_type: radialBar
                series:
                  - entity: sensor.temp1_temperature
                    color: green
                    max: 50
                    show:
                      legend_value: false
                apex_config:
                  plotOptions:
                    radialBar:
                      offsetY: 0
                      startAngle: -90
                      endAngle: 90
                      hollow:
                        size: 80%
                      dataLabels:
                        name:
                          show: false
                        value:
                          show: false
                      track:
                        strokeWidth: 90%
                        margin: 0
                  fill:
                    type: gradient
                    gradient:
                      shade: dark
                      type: horizontal
                      shadeIntensity: 0.5
                      inverseColors: false
                      gradientToColors:
                        - '#DCFE04'
                        - '#FEEF04'
                        - '#FEB204'
                        - '#FE4404'
                      opacityFrom: 1
                      opacityTo: 1
                      stops:
                        - 0
                        - 100
                  legend:
                    show: false
                  chart:
                    height: 220
                card_mod:
                  style: |
                    ha-card {
                    margin-top: -30px;
                     }
              - type: custom:apexcharts-card
                chart_type: radialBar
                series:
                  - entity: sensor.temp1_humidity
                    color: '#04FEF3'
                    max: 100
                    show:
                      legend_value: false
                apex_config:
                  plotOptions:
                    radialBar:
                      offsetY: 100
                      startAngle: 90
                      endAngle: 270
                      hollow:
                        size: 80%
                      dataLabels:
                        name:
                          show: false
                        value:
                          show: false
                      track:
                        strokeWidth: 80%
                        margin: 0
                  fill:
                    type: gradient
                    gradient:
                      shade: light
                      type: horizontal
                      shadeIntensity: 0.3
                      inverseColors: true
                      gradientToColors:
                        - '#0408FE'
                      opacityFrom: 1
                      opacityTo: 1
                      stops:
                        - 0
                        - 100
                  legend:
                    show: false
                  chart:
                    height: 220
                card_mod:
                  style: |
                    ha-card {
                    margin-top: -242px;
                     }
              - type: custom:mushroom-entity-card
                entity: sensor.temp1_temperature
                primary_info: state
                secondary_info: none
                name: Salon
                icon_color: green
                layout: horizontal
                card_mod:
                  style: |
                    ha-card {
                      position: absolute;
                      top: 35%;
                      left : 25%;
                     }
                    :host {
                     --card-primary-font-size: 16px !important;
                     --mush-icon-size: 25px; 
                    }
              - type: custom:mushroom-entity-card
                entity: sensor.temp1_humidity
                primary_info: state
                secondary_info: none
                name: Salon
                icon_color: blue
                layout: horizontal
                card_mod:
                  style: |
                    ha-card {
                      position: absolute;
                      top: 50%;
                      left : 25%;
                       }
                    :host {
                     --card-primary-font-size: 16px !important;
                     --mush-icon-size: 25px; 
                    }
          - type: vertical-stack
            cards:
              - animate: true
                color_thresholds:
                  - color: '#1bc6fd'
                    value: 18
                  - color: '#1bfd1b'
                    value: 20
                  - color: '#fdf31b'
                    value: 22
                  - color: '#fda41b'
                    value: 25
                  - color: '#fd331b'
                    value: 30
                entities:
                  - sensor.temp1_temperature
                labels: true
                height: 130
                line_color: green
                points_per_hour: 6
                show:
                  labels: true
                  state: false
                name: °C
                type: custom:mini-graph-card
              - animate: true
                color_thresholds:
                  - color: '#F6FE04'
                    value: 20
                  - color: '#04FEFE'
                    value: 30
                  - color: '#049FFE'
                    value: 50
                  - color: '#0441FE'
                    value: 60
                  - color: '#002FBF'
                    value: 70
                entities:
                  - sensor.temp1_humidity
                labels: true
                height: 130
                line_color: blue
                points_per_hour: 6
                show:
                  labels: true
                  state: false
                name: '%'
                type: custom:mini-graph-card
      - type: horizontal-stack
        cards:
          - type: custom:stack-in-card
            cards:
              - type: markdown
                content: <center>Tortue</center>
              - type: custom:apexcharts-card
                chart_type: radialBar
                series:
                  - entity: sensor.tortue_temperature
                    color: green
                    max: 50
                    show:
                      legend_value: false
                apex_config:
                  plotOptions:
                    radialBar:
                      offsetY: 0
                      startAngle: -90
                      endAngle: 90
                      hollow:
                        size: 80%
                      dataLabels:
                        name:
                          show: false
                        value:
                          show: false
                      track:
                        strokeWidth: 90%
                        margin: 0
                  fill:
                    type: gradient
                    gradient:
                      shade: dark
                      type: horizontal
                      shadeIntensity: 0.5
                      inverseColors: false
                      gradientToColors:
                        - '#DCFE04'
                        - '#FEEF04'
                        - '#FEB204'
                        - '#FE4404'
                      opacityFrom: 1
                      opacityTo: 1
                      stops:
                        - 0
                        - 100
                  legend:
                    show: false
                  chart:
                    height: 220
                card_mod:
                  style: |
                    ha-card {
                    margin-top: -30px;
                     }
              - type: custom:apexcharts-card
                chart_type: radialBar
                series:
                  - entity: sensor.tortue_humidity
                    color: '#04FEF3'
                    max: 100
                    show:
                      legend_value: false
                apex_config:
                  plotOptions:
                    radialBar:
                      offsetY: 100
                      startAngle: 90
                      endAngle: 270
                      hollow:
                        size: 80%
                      dataLabels:
                        name:
                          show: false
                        value:
                          show: false
                      track:
                        strokeWidth: 80%
                        margin: 0
                  fill:
                    type: gradient
                    gradient:
                      shade: light
                      type: horizontal
                      shadeIntensity: 0.3
                      inverseColors: true
                      gradientToColors:
                        - '#0408FE'
                      opacityFrom: 1
                      opacityTo: 1
                      stops:
                        - 0
                        - 100
                  legend:
                    show: false
                  chart:
                    height: 220
                card_mod:
                  style: |
                    ha-card {
                    margin-top: -242px;
                     }
              - type: custom:mushroom-entity-card
                entity: sensor.tortue_temperature
                primary_info: state
                secondary_info: none
                name: Salon
                icon_color: green
                layout: horizontal
                card_mod:
                  style: |
                    ha-card {
                      position: absolute;
                      top: 35%;
                      left : 25%;
                     }
                    :host {
                     --card-primary-font-size: 16px !important;
                     --mush-icon-size: 25px; 
                    }
              - type: custom:mushroom-entity-card
                entity: sensor.tortue_humidity
                primary_info: state
                secondary_info: none
                name: Salon
                icon_color: blue
                layout: horizontal
                card_mod:
                  style: |
                    ha-card {
                      position: absolute;
                      top: 50%;
                      left : 25%;
                       }
                    :host {
                     --card-primary-font-size: 16px !important;
                     --mush-icon-size: 25px; 
                    }
          - type: vertical-stack
            cards:
              - animate: true
                color_thresholds:
                  - color: '#1bc6fd'
                    value: 5
                  - color: '#1bfd1b'
                    value: 10
                  - color: '#fdf31b'
                    value: 15
                  - color: '#fda41b'
                    value: 20
                  - color: '#fd331b'
                    value: 25
                entities:
                  - sensor.tortue_temperature
                labels: true
                height: 130
                line_color: green
                points_per_hour: 6
                show:
                  labels: true
                  state: false
                name: °C
                type: custom:mini-graph-card
              - animate: true
                color_thresholds:
                  - color: '#F6FE04'
                    value: 20
                  - color: '#04FEFE'
                    value: 30
                  - color: '#049FFE'
                    value: 50
                  - color: '#0441FE'
                    value: 60
                  - color: '#002FBF'
                    value: 70
                entities:
                  - sensor.tortue_humidity
                labels: true
                height: 130
                line_color: blue
                points_per_hour: 6
                show:
                  labels: true
                  state: false
                name: '%'
                type: custom:mini-graph-card
      - type: horizontal-stack
        cards:
          - type: custom:stack-in-card
            cards:
              - type: markdown
                content: <center>Grenier</center>
              - type: custom:apexcharts-card
                chart_type: radialBar
                series:
                  - entity: sensor.temp3_temperature
                    color: green
                    max: 50
                    show:
                      legend_value: false
                apex_config:
                  plotOptions:
                    radialBar:
                      offsetY: 0
                      startAngle: -90
                      endAngle: 90
                      hollow:
                        size: 80%
                      dataLabels:
                        name:
                          show: false
                        value:
                          show: false
                      track:
                        strokeWidth: 90%
                        margin: 0
                  fill:
                    type: gradient
                    gradient:
                      shade: dark
                      type: horizontal
                      shadeIntensity: 0.5
                      inverseColors: false
                      gradientToColors:
                        - '#DCFE04'
                        - '#FEEF04'
                        - '#FEB204'
                        - '#FE4404'
                      opacityFrom: 1
                      opacityTo: 1
                      stops:
                        - 0
                        - 100
                  legend:
                    show: false
                  chart:
                    height: 220
                card_mod:
                  style: |
                    ha-card {
                    margin-top: -30px;
                     }
              - type: custom:apexcharts-card
                chart_type: radialBar
                series:
                  - entity: sensor.temp3_humidity
                    color: '#04FEF3'
                    max: 100
                    show:
                      legend_value: false
                apex_config:
                  plotOptions:
                    radialBar:
                      offsetY: 100
                      startAngle: 90
                      endAngle: 270
                      hollow:
                        size: 80%
                      dataLabels:
                        name:
                          show: false
                        value:
                          show: false
                      track:
                        strokeWidth: 80%
                        margin: 0
                  fill:
                    type: gradient
                    gradient:
                      shade: light
                      type: horizontal
                      shadeIntensity: 0.3
                      inverseColors: true
                      gradientToColors:
                        - '#0408FE'
                      opacityFrom: 1
                      opacityTo: 1
                      stops:
                        - 0
                        - 100
                  legend:
                    show: false
                  chart:
                    height: 220
                card_mod:
                  style: |
                    ha-card {
                    margin-top: -242px;
                     }
              - type: custom:mushroom-entity-card
                entity: sensor.temp3_temperature
                primary_info: state
                secondary_info: none
                name: Salon
                icon_color: green
                layout: horizontal
                card_mod:
                  style: |
                    ha-card {
                      position: absolute;
                      top: 35%;
                      left : 25%;
                     }
                    :host {
                     --card-primary-font-size: 16px !important;
                     --mush-icon-size: 25px; 
                    }
              - type: custom:mushroom-entity-card
                entity: sensor.temp3_humidity
                primary_info: state
                secondary_info: none
                name: Salon
                icon_color: blue
                layout: horizontal
                card_mod:
                  style: |
                    ha-card {
                      position: absolute;
                      top: 50%;
                      left : 25%;
                       }
                    :host {
                     --card-primary-font-size: 16px !important;
                     --mush-icon-size: 25px; 
                    }
          - type: vertical-stack
            cards:
              - animate: true
                color_thresholds:
                  - color: '#1bc6fd'
                    value: 18
                  - color: '#1bfd1b'
                    value: 20
                  - color: '#fdf31b'
                    value: 22
                  - color: '#fda41b'
                    value: 25
                  - color: '#fd331b'
                    value: 30
                entities:
                  - sensor.temp3_temperature
                labels: true
                height: 130
                line_color: green
                points_per_hour: 6
                show:
                  labels: true
                  state: false
                name: °C
                type: custom:mini-graph-card
              - animate: true
                color_thresholds:
                  - color: '#F6FE04'
                    value: 20
                  - color: '#04FEFE'
                    value: 30
                  - color: '#049FFE'
                    value: 50
                  - color: '#0441FE'
                    value: 60
                  - color: '#002FBF'
                    value: 70
                entities:
                  - sensor.temp3_humidity
                labels: true
                height: 130
                line_color: blue
                points_per_hour: 6
                show:
                  labels: true
                  state: false
                name: '%'
                type: custom:mini-graph-card
    type: custom:masonry-layout
    icon: mdi:thermometer
  - icon: mdi:weather-partly-cloudy
    path: ''
    cards: []
    type: sections
    sections:
      - type: grid
        cards:
          - type: custom:hourly-weather
            entity: weather.mantes_la_jolie
            num_segments: 18
            name: Next 18 hours
          - type: custom:clock-weather-card
            entity: weather.mantes_la_ville
          - type: custom:meteoalarm-card
            integration: meteoalarm
            entities: binary_sensor.meteoalarm
            override_headline: false
      - type: grid
        cards:
          - type: iframe
            url: >-
              https://embed.windy.com/embed.html?type=map&location=coordinates&metricRain=default&metricTemp=default&metricWind=default&zoom=8&overlay=wind&product=ecmwf&level=surface&lat=49.214&lon=1.906
            aspect_ratio: 100%
            layout_options:
              grid_columns: full
              grid_rows: 7
          - type: custom:mini-graph-card
            name: Débit de la Seine (Poissy)
            height: 120
            hours_to_show: 48
            points_per_hour: 4
            hour24: true
            line_width: 2
            line_color: rgb(68, 115, 158)
            decimals: 1
            entities:
              - entity: sensor.debit_seine_limay
                name: Débit
                show_line: true
                show_points: true
                show_legend: true
                y_axis: secondary
              - entity: sensor.hauteur_seine_limay
                name: Hauteur
                show_legend: true
                show_state: true
            show:
              fill: true
              graph: line
              icon: true
              name: true
              state: true
              labels: true
              extrema: true
              average: true
              icon_adaptive_color: false
              labels_secondary: true
            align_icon: right
            align_state: left
      - type: grid
        cards:
          - type: glance
            entities:
              - entity: sensor.lune
              - entity: sun.sun
              - entity: sensor.season
          - type: custom:list2bars-card
            entity: sensor.alertepollens
            title: Alerte Pollens
            attribute: risks
            oject_key: pollenNam
            oject_value: level
            object_key: pollenName
            object_value: level
            severity:
              - from: '0'
                to: '0'
                hide: true
              - from: '1'
                to: '1'
                color: '#DBDF00'
              - from: '2'
                to: '2'
                color: orange
              - from: '3'
                to: '3'
                color: red
            background: true
            color_background: true
            limit_value: false
            positions:
              name: 'on'
              value: 'on'
              icon: 'on'
            icon: mdi:flower-pollen
            complementary: false
            max: '3'
          - type: custom:rain-gauge-card
            entity: sensor.indoor_pluie_precipitation_aujourd_hui
            hourly_rate_entity: sensor.indoor_pluie_precipitation_last_hour
            max_level: '80'
            name: Pluie
          - type: custom:apexcharts-card
            stacked: true
            graph_span: 7d
            span:
              end: day
            header:
              show: true
              title: Suivi des précipitations
            apex_config:
              legend:
                show: false
              chart:
                height: 200px
            series:
              - entity: sensor.indoor_pluie_precipitation_aujourd_hui
                type: column
                color: blue
                group_by:
                  func: last
                  duration: 1d
                show:
                  datalabels: total
    max_columns: 3
  - type: sections
    path: ''
    max_columns: 4
    icon: mdi:webcam
    sections:
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - camera_view: live
                aspect_ratio: 0%
                entities: []
                image: https://demo.home-assistant.io/stub_config/kitchen.png
                title: Jardin
                type: picture-glance
                camera_image: camera.jardin_hd_stream
            layout_options:
              grid_columns: 8
              grid_rows: 7
        column_span: 2
      - type: grid
        cards:
          - type: vertical-stack
            cards:
              - camera_view: live
                aspect_ratio: 0%
                camera_image: camera.terrasse_hd_stream
                entities: []
                image: https://demo.home-assistant.io/stub_config/kitchen.png
                title: Terrasse
                type: picture-glance
            layout_options:
              grid_columns: 8
              grid_rows: 8
        column_span: 2
    cards: []
  - title: Lucie
    path: lucie
    type: sections
    sections:
      - type: grid
        cards:
          - type: heading
            heading: Emploi du temps
            heading_style: title
            icon: mdi:clock-outline
          - type: custom:pronote-timetable-card
            entity: sensor.pronote_jeanne_lucie_timetable_period
            display_header: false
            display_lunch_break: true
            display_classroom: true
            display_teacher: true
            display_day_hours: true
            dim_ended_lessons: true
            max_days: null
            current_week_only: false
            enable_slider: true
      - type: grid
        cards:
          - type: heading
            heading: Devoirs
            heading_style: title
            icon: mdi:notebook
          - type: custom:pronote-homework-card
            entity: sensor.pronote_jeanne_lucie_homework
            display_header: false
            display_done_homework: true
            reduce_done_homework: true
            current_week_only: false
          - type: heading
            icon: mdi:account-arrow-right
            heading: Absences
            heading_style: title
          - type: custom:pronote-absences-card
            entity: sensor.pronote_jeanne_lucie_absences
            max_absences: null
            child_name: null
      - type: grid
        cards:
          - type: heading
            heading: Dernières notes
            heading_style: title
            icon: mdi:check-decagram
          - type: custom:pronote-grades-card
            entity: sensor.pronote_jeanne_lucie_grades
            grade_format: full
            display_header: false
            display_date: true
            display_comment: true
            display_class_average: true
            compare_with_class_average: true
            compare_with_ratio: null
            display_coefficient: true
            display_class_min: true
            display_class_max: true
            display_new_grade_notice: true
            max_grades: null
      - type: grid
        cards:
          - type: heading
            heading: Moyenne
            heading_style: title
            badges:
              - type: entity
                entity: sensor.moyenne_lucie_sur_20
          - type: custom:pronote-averages-card
            entity: sensor.pronote_jeanne_lucie_averages
            average_format: full
            display_header: false
            compare_with_class_average: true
            compare_with_ratio: null
            display_class_average: true
            display_class_min: true
            display_class_max: true
  - title: Chloé
    path: chloe
    type: sections
    sections:
      - type: grid
        cards:
          - type: heading
            heading: Emploi du temps
            heading_style: title
            icon: mdi:clock-outline
          - type: custom:pronote-timetable-card
            entity: sensor.pronote_jeanne_chlo_timetable_period
            display_header: false
            display_lunch_break: true
            display_classroom: true
            display_teacher: true
            display_day_hours: true
            dim_ended_lessons: true
            max_days: null
            current_week_only: false
            enable_slider: true
      - type: grid
        cards:
          - type: heading
            heading: Devoirs
            heading_style: title
            icon: mdi:notebook
          - type: custom:pronote-homework-card
            entity: sensor.pronote_jeanne_chlo_homework
            display_header: false
            display_done_homework: true
            reduce_done_homework: true
            current_week_only: false
          - type: heading
            icon: mdi:account-arrow-right
            heading: Absences
            heading_style: title
          - type: custom:pronote-absences-card
            entity: sensor.pronote_jeanne_chlo_absences
            max_absences: null
            child_name: null
      - type: grid
        cards:
          - type: heading
            heading: Dernières notes
            heading_style: title
            icon: mdi:check-decagram
          - type: custom:pronote-grades-card
            entity: sensor.pronote_jeanne_chlo_grades
            grade_format: full
            display_header: false
            display_date: true
            display_comment: true
            display_class_average: true
            compare_with_class_average: true
            compare_with_ratio: null
            display_coefficient: true
            display_class_min: true
            display_class_max: true
            display_new_grade_notice: true
            max_grades: null
      - type: grid
        cards:
          - type: heading
            heading: Moyenne
            heading_style: title
            badges:
              - type: entity
                entity: sensor.moyenne_chloe_sur_20
          - type: custom:pronote-averages-card
            entity: sensor.pronote_jeanne_chlo_averages
            average_format: full
            display_header: false
            compare_with_class_average: true
            compare_with_ratio: null
            display_class_average: true
            display_class_min: true
            display_class_max: true
    cards: []
  - icon: mdi:account
    path: ''
    type: sections
    sections:
      - type: grid
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:stack-in-card
                mode: vertical
                cards:
                  - type: custom:mushroom-person-card
                    entity: person.axelle
                    use_entity_picture: true
                    hide_name: false
                    layout: vertical
                    card_mod:
                      style: |
                        ha-card {
                            border: none;
                            padding: 0;
                             }
                        :host {
                             --mush-icon-size: 75px;  
                             --chip-box-shadow: none;
                              --chip-background: none;
                             } 
                        hui-vertical-stack-card $: |
                          div#root > * {
                          margin: 0px !important;
                        }
                  - type: custom:mushroom-chips-card
                    chips:
                      - type: template
                        entity: calendar.axelle
                        icon: mdi:calendar-arrow-right
                        content: >
                          {{ (states('sensor.maison_distance_axelle') |float /
                          1000) | round(2) }} km
                    alignment: center
                    card_mod:
                      style: |
                        ha-card {
                          padding: 0;
                          --chip-border-width: 0px;
                          background:none;
                          --chip-box-shadow: none;
                          --chip-background: none;
                          padding-top: 0px;
                          margin-top: -15px;
                          padding-bottom: 0px;
                          padding-left: 0px;
                          padding-right: 0px;

                        }
                        hui-vertical-stack-card $: |
                              div#root > * {
                              margin: 0px !important;
                            }
              - type: custom:stack-in-card
                mode: vertical
                cards:
                  - type: custom:mushroom-person-card
                    entity: person.richard
                    use_entity_picture: true
                    hide_name: false
                    layout: vertical
                    card_mod:
                      style: |
                        ha-card {
                            padding: 0;
                            border: none;
                             }
                        :host {
                             --mush-icon-size: 75px;  
                             --chip-box-shadow: none;
                              --chip-background: none;
                             } 
                  - type: custom:mushroom-chips-card
                    chips:
                      - type: template
                        entity: calendar.richard
                        icon: mdi:calendar-arrow-right
                        content: >

                          {{ (states('sensor.maison_distance_richard') |float /
                          1000) | round(2) }} km
                    alignment: center
                    card_mod:
                      style: |
                        ha-card {
                          --chip-border-width: 0px;
                          --chip-box-shadow: none;
                          --chip-background: none;
                          padding-top: 0px;
                          margin-top: -15px;
                          padding-bottom: 0px;
                          padding-left: 0px;
                          padding-right: 0px;

                        }
              - type: custom:stack-in-card
                mode: vertical
                cards:
                  - type: custom:mushroom-person-card
                    entity: person.chloe
                    use_entity_picture: true
                    hide_name: false
                    layout: vertical
                    card_mod:
                      style: |
                        ha-card {
                            border: none;
                             }
                        :host {
                             --mush-icon-size: 75px;  
                             --chip-box-shadow: none;
                              --chip-background: none;
                             } 
                  - type: custom:mushroom-chips-card
                    chips:
                      - type: template
                        entity: sensor.fin_des_cours_de_chloe_demain
                        icon: mdi:calendar-arrow-right
                        content: >
                          {{ (states('sensor.maison_distance_chloe') |float /
                          1000) | round(2) }} km
                        tap_action:
                          action: navigate
                          navigation_path: /lovelace/chloe
                    alignment: center
                    card_mod:
                      style: |
                        ha-card {
                          --chip-border-width: 0px;
                          --chip-box-shadow: none;
                              --chip-background: none;
                            padding-top: 0px;
                          margin-top: -15px;
                          padding-bottom: 0px;
                          padding-left: 0px;
                          padding-right: 0px;

                        }
              - type: custom:stack-in-card
                mode: vertical
                cards:
                  - type: custom:mushroom-person-card
                    entity: person.lucie
                    use_entity_picture: true
                    hide_name: false
                    layout: vertical
                    card_mod:
                      style: |
                        ha-card {
                            border: none;
                             }
                        :host {
                             --mush-icon-size: 75px;  
                             --chip-box-shadow: none;
                              --chip-background: none;
                             } 
                           
                  - type: custom:mushroom-chips-card
                    chips:
                      - type: template
                        entity: sensor.fin_des_cours_de_lucie_demain
                        icon: mdi:calendar-arrow-right
                        content: >
                          {{ (states('sensor.maison_distance_lucie') |float /
                          1000) | round(2) }} km
                        tap_action:
                          action: navigate
                          navigation_path: /lovelace/lucie
                    alignment: center
                    card_mod:
                      style: |
                        ha-card {
                          --chip-border-width: 0px;
                          --chip-box-shadow: none;
                              --chip-background: none;
                          padding-top: 0px;
                          margin-top: -15px;
                          padding-bottom: 0px;
                          padding-left: 0px;
                          padding-right: 0px;

                        }
      - type: grid
        cards:
          - type: map
            entities:
              - entity: person.chloe
              - entity: person.lucie
              - entity: person.axelle
              - entity: person.richard
            hours_to_show: 0
            theme_mode: auto
            layout_options:
              grid_columns: full
              grid_rows: 8
        column_span: 4
  - icon: mdi:flag-checkered
    path: ''
    type: sections
    sections:
      - type: grid
        cards:
          - type: heading
            heading_style: title
            heading: Prochain Grand Prix
            icon: mdi:flag-checkered
          - type: custom:formulaone-card
            card_type: countdown
            f1_font: true
            show_raceinfo: false
            show_weather: false
            weather_options: {}
      - type: grid
        cards:
          - type: custom:formulaone-card
            card_type: next_race
            f1_font: true
            show_carnumber: false
            show_raceinfo: true
            show_lastyears_result: true
      - type: grid
        cards:
          - type: heading
            heading: Classement pilotes
            heading_style: title
            icon: mdi:trophy
          - type: custom:formulaone-card
            card_type: driver_standings
            f1_font: true
            show_lastyears_result: false
            standings:
              show_flag: true
              show_team: true
              show_teamlogo: true
      - type: grid
        cards:
          - type: heading
            heading: Classement constructeur
            heading_style: title
            icon: mdi:trophy-outline
          - type: custom:formulaone-card
            card_type: constructor_standings
            standings:
              show_team: true
              show_flag: false
            f1_font: true
  - title: Chauffage
    path: chauffage
    cards:
      - type: custom:mini-graph-card
        entities:
          - entity: sensor.garage_mss310_power_w_main_channel
          - entity: sensor.garage_mss310_energy_kwh_main_channel
            show_state: true
            show_graph: false
        icon: mdi:fridge
        show:
          extrema: true
          legend: false
          average: true
          fill: fade
        name: Frigo/Congel
        line_width: 2
        lower_bound: 0
        min_bound_range: 100
        points_per_hour: 10
        line_color: '#fefefe'
      - type: custom:mini-graph-card
        entities:
          - entity: sensor.garage_2_mss310_power_w_main_channel
          - entity: sensor.garage_2_mss310_energy_kwh_main_channel
            show_state: true
            show_graph: false
        icon: mdi:nas
        show:
          extrema: true
          legend: false
          average: true
          fill: fade
        name: NAS/BOX
        line_width: 2
        lower_bound: 0
        min_bound_range: 100
        points_per_hour: 10
        line_color: '#fefefe'
      - type: custom:mini-graph-card
        entities:
          - entity: sensor.tablette_mss310_power_w_main_channel
          - entity: sensor.tablette_mss310_energy_kwh_main_channel
            show_state: true
            show_graph: false
        icon: mdi:tablet
        show:
          extrema: true
          legend: false
          average: true
          fill: fade
        name: Tablette
        line_width: 2
        lower_bound: 0
        min_bound_range: 100
        points_per_hour: 10
        line_color: '#fefefe'
      - type: custom:mini-graph-card
        entities:
          - entity: sensor.tv_mss310_power_w_main_channel
          - entity: sensor.tv_mss310_energy_kwh_main_channel
            show_state: true
            show_graph: false
        icon: mdi:television
        show:
          extrema: true
          legend: false
          average: true
          fill: fade
        name: TV
        line_width: 2
        lower_bound: 0
        min_bound_range: 100
        points_per_hour: 10
        line_color: '#fefefe'
      - type: custom:mini-graph-card
        entities:
          - entity: sensor.chauffage_chloe_power
          - entity: sensor.chauffage_chloe_energy
            show_state: true
            show_graph: false
        icon: mdi:radiator
        show:
          extrema: true
          legend: false
          average: true
          fill: fade
        name: Chauffage Chloé
        line_width: 2
        lower_bound: 0
        min_bound_range: 100
        points_per_hour: 10
        line_color: '#fefefe'
      - type: custom:mini-graph-card
        entities:
          - entity: sensor.chauffage_lucie_power
          - entity: sensor.chauffage_lucie_energy
            show_state: true
            show_graph: false
        icon: mdi:radiator
        show:
          extrema: true
          legend: false
          average: true
          fill: fade
        name: Chauffage Lucie
        line_width: 2
        lower_bound: 0
        min_bound_range: 100
        points_per_hour: 10
        line_color: '#fefefe'
      - type: custom:mini-graph-card
        entities:
          - entity: sensor.prise_bureau_power
          - entity: sensor.prise_bureau
            show_state: true
            show_graph: false
        icon: mdi:nas
        show:
          extrema: true
          legend: false
          average: true
          fill: fade
        name: Bureau Richard
        line_width: 2
        lower_bound: 0
        min_bound_range: 100
        points_per_hour: 10
        line_color: '#fefefe'
    icon: mdi:home-lightning-bolt
  - icon: mdi:solar-power-variant
    path: ''
    cards: []
    type: sections
    sections:
      - type: grid
        cards:
          - type: custom:apexcharts-card
            stacked: true
            graph_span: 7d
            span:
              end: day
            header:
              show: true
              title: Suivi Couts électricité (abonnement non inclus)
            apex_config:
              legend:
                show: false
              chart:
                height: 280px
            series:
              - entity: sensor.abonnement_edf_journalier
                type: column
                color: rgb(7,142,2)
                group_by:
                  func: last
                  duration: 1d
              - entity: sensor.cout_tempo_jour_blanc_hc
                type: column
                color: rgb(170,170,170)
                group_by:
                  func: last
                  duration: 1d
              - entity: sensor.cout_tempo_jour_blanc_hp
                type: column
                color: rgb(128,128,128)
                group_by:
                  func: last
                  duration: 1d
                show:
                  datalabels: total
              - entity: sensor.cout_tempo_jour_rouge_hp
                type: column
                color: rgb(255,0,0)
                group_by:
                  func: last
                  duration: 1d
                show:
                  datalabels: total
              - entity: sensor.cout_tempo_jour_rouge_hc
                type: column
                color: rgb(255,141,126)
                group_by:
                  func: last
                  duration: 1d
              - entity: sensor.cout_tempo_jour_bleu_hp
                type: column
                color: rgb(63,72,204)
                group_by:
                  func: last
                  duration: 1d
                show:
                  datalabels: total
              - entity: sensor.cout_tempo_jour_bleu_hc
                type: column
                color: rgb(113,155,255)
                group_by:
                  func: last
                  duration: 1d
          - type: custom:power-distribution-card
            entities:
              - decimals: '1'
                display_abs: true
                name: solar
                unit_of_display: kWh
                icon: mdi:solar-power
                producer: true
                entity: sensor.envoy_122250004672_today_s_energy_production
                preset: solar
                icon_color:
                  bigger: green
                  equal: gray
                  smaller: red
                invert_value: false
                hide_arrows: true
              - decimals: '1'
                display_abs: true
                name: Export
                unit_of_display: kWh
                icon: mdi:lightning-bolt-outline
                producer: true
                entity: sensor.daily_energy_export
                preset: producer
                icon_color:
                  bigger: green
                  equal: gray
                  smaller: red
                calc_excluded: true
                invert_value: false
                hide_arrows: true
              - decimals: '1'
                display_abs: true
                name: conso
                unit_of_display: kWh
                consumer: true
                icon: mdi:home
                entity: sensor.envoy_122250004672_today_s_energy_consumption
                preset: consumer
                icon_color:
                  bigger: red
                  equal: green
                  smaller: red
                invert_value: true
                hide_arrows: true
              - decimals: '1'
                display_abs: true
                name: Import
                unit_of_display: kWh
                icon: mdi:transmission-tower
                entity: sensor.daily_energy_import
                preset: grid
                icon_color:
                  bigger: red
                  equal: gray
                  smaller: green
                invert_value: true
                hide_arrows: true
            center:
              type: bars
              content:
                - preset: ratio
                  name: use
                  bar_color: green
                  bar_bg_color: ''
                  entity: ''
                  invert_value: false
                - preset: autarky
                  name: indep
                  bar_color: yellow
            animation: flash
          - layout: vertical
            height: 150
            unit_prefix: k
            round: 1
            convert_units_to: ''
            co2_intensity_entity: sensor.co2_signal_co2_intensity
            gas_co2_intensity: 2351.6459999999997
            min_box_size: 3
            min_box_distance: 5
            show_states: true
            show_units: true
            energy_date_selection: false
            sections: []
            type: custom:sankey-chart
            autoconfig: true
            time_period_from: now/d
            min_state: 0
            show_names: true
            show_icons: false
            wide: true
            layout_options:
              grid_columns: full
              grid_rows: 8
      - type: grid
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:pie-chart-card
                title: Répartition production Electricité France
                total_amount: 100
                entities:
                  - entity: sensor.eco2mix_pourcentage_nucleaire
                    name: Nucléaire
                  - entity: sensor.eco2mix_pourcentage_charbon
                    name: Charbon
                  - entity: sensor.eco2mix_pourcentage_fioul
                    name: Fioul
                  - entity: sensor.eco2mix_pourcentage_gaz
                    name: Gaz
                  - entity: sensor.eco2mix_pourcentage_renouvelable
                    name: Renouvelable
              - type: custom:pie-chart-card
                title: Répartition production Renouvelable
                entities:
                  - entity: sensor.eco2mix_pourcentage_hydraulique
                    name: Hydrolique
                  - entity: sensor.eco2mix_pourcentage_bioenergies
                    name: Bio-Energies
                  - entity: sensor.eco2mix_pourcentage_solaire
                    name: Solaire
                  - entity: sensor.eco2mix_pourcentage_eolien
                    name: Eolien
            grid_options:
              columns: 24
              rows: auto
          - type: horizontal-stack
            cards:
              - type: custom:apexcharts-card
                header:
                  show: true
                  title: Electricité en France
                  show_states: true
                  colorize_states: true
                apex_config:
                  legend:
                    show: false
                  chart:
                    height: 350px
                series:
                  - entity: sensor.eco2mix_consommation
                    name: Consommation
                  - entity: sensor.eco2mix_exportation
                    name: Exportation
                  - entity: sensor.eco2mix_importation
                    name: Importation
            grid_options:
              columns: 24
              rows: 7
        column_span: 2
      - type: grid
        cards:
          - type: heading
            heading: Nouvelle section
          - type: entities
            entities:
              - entity: sensor.envoy_122250004672_inverter_122234041671
                name: Panneau 1
                icon: mdi:solar-power-variant-outline
              - entity: sensor.envoy_122250004672_inverter_122234049187
                icon: mdi:solar-power-variant-outline
                name: Panneau 2
              - entity: sensor.envoy_122250004672_inverter_122234052078
                icon: mdi:solar-power-variant-outline
                name: Panneau 3
              - entity: sensor.envoy_122250004672_inverter_122234052220
                name: Panneau 4
                icon: mdi:solar-power-variant-outline
              - entity: sensor.envoy_122250004672_inverter_122234052276
                name: Panneau 5
                icon: mdi:solar-power-variant-outline
              - entity: sensor.envoy_122250004672_inverter_122234052322
                name: Panneau 6
                icon: mdi:solar-power-variant-outline
              - entity: sensor.envoy_122250004672_inverter_122234052738
                name: Panneau 7
                icon: mdi:solar-power-variant-outline
              - entity: sensor.envoy_122250004672_inverter_122234053029
                name: Panneau 8
                icon: mdi:solar-power-variant-outline
              - entity: sensor.envoy_122250004672_inverter_122234053616
                name: Panneau 9
                icon: mdi:solar-power-variant-outline
              - entity: sensor.envoy_122250004672_inverter_122234054747
                name: Panneau 10
                icon: mdi:solar-power-variant-outline
              - entity: sensor.envoy_122250004672_inverter_122234055200
                name: Panneau 11
                icon: mdi:solar-power-variant-outline
              - entity: sensor.envoy_122250004672_inverter_122234055260
                name: Panneau 12
                icon: mdi:solar-power-variant-outline
  - type: sections
    max_columns: 3
    icon: mdi:car
    path: trajet
    sections:
      - type: grid
        cards:
          - type: heading
            heading: Temps de trajets
            heading_style: title
          - type: custom:travel-time-card
            entities:
              - sensor.mantes_poissy
              - sensor.poissy_mantes
            show_header: false
            grid_options:
              columns: 24
              rows: 2
        column_span: 2
      - type: grid
        cards:
          - type: heading
            heading: Transport en commun
            heading_style: title
          - type: custom:idf-mobilite-card
            lineType: BUS
            entity: sensor.prim_lignem
            show_screen: true
            show_bus_stop_label: true
            second_entity: sensor.prim_lignee
            show_train_ref: false
            exclude_second_lines: bus-21
      - type: grid
        cards:
          - type: iframe
            url: https://embed.waze.com/fr/iframe?zoom=12.5&lat=48.966671&lon=1.8
            aspect_ratio: 50%
            grid_options:
              columns: full
              rows: 8
          - type: heading
            heading: Waze
            heading_style: title
        column_span: 2
      - type: grid
        cards:
          - type: custom:idf-mobilite-card
            lineType: RER
            entity: sensor.prim_mantes
            show_screen: true
            messages: sensor.prim_mantesmessage
            exclude_lines: train-N
            nb_departure_first_line: '3'
            nb_departure_second_line: '2'
            show_train_ref: false
            second_entity: sensor.prim_mantesstation
            exclude_second_lines_ref: 41150;41287
            exclude_lines_ref: 41287;411364;87411017:LO;
    cards: []
  - type: sections
    max_columns: 1
    title: test
    path: test
    sections:
      - type: grid
        cards:
          - type: heading
            heading: Alexa
            heading_style: title
            icon: mdi:speaker
          - type: custom:card-alexa-alarms-timers
            entities_alarm:
              - sensor.cuisine_next_alarm
              - sensor.salon_next_alarm
              - sensor.lucie_next_alarm
              - sensor.chloe_next_alarm
              - sensor.axelle_next_alarm
            entities_timer:
              - sensor.cuisine_next_timer
              - sensor.salon_next_timer
              - sensor.lucie_next_timer
              - sensor.chloe_next_timer
              - sensor.axelle_next_timer
            entities_reminder:
              - sensor.cuisine_next_reminder
              - sensor.salon_next_reminder
              - sensor.lucie_next_reminder
              - sensor.chloe_next_reminder
              - sensor.axelle_next_reminder
            remaining_time_bold: true
            show_cancel_button: false
            cancel_entity: media_player.salon
            hide_card_on_empty: false
            card_title: Alexa Rappels, alarmes et minuteurs
            show_device_name: true
            show_empty_hours: true
            show_alarm_name_seconds: true
            display_style: table
        column_span: 3
    cards: []
    icon: mdi:timer-alert
  - type: sections
    max_columns: 1
    path: essai
    sections:
      - type: grid
        cards:
          - type: heading
            heading: Nouvelle section
          - type: custom:vacuum-card
            entity: vacuum.r2d2_2
            actions:
              start:
                service: xiaomi_miio.vacuum_clean_segment
                service_data:
                  entity_id: vacuum.vacuum_cleaner
                  segments:
                    - 16
                    - 20
    icon: mdi:robot-vacuum
  - type: sections
    icon: mdi:access-point-network
    path: ''
    sections:
      - type: grid
        cards:
          - type: heading
            heading: Nouvelle section
          - type: horizontal-stack
            cards:
              - type: custom:flex-table-card
                entities:
                  include: sensor.network_scanner
                sort_by: x.ip+
                columns:
                  - name: IP Address
                    data: devices
                    modify: x.ip
                  - name: MAC Address
                    data: devices
                    modify: x.mac
                  - name: Custom Name
                    data: devices
                    modify: x.name
                  - name: Custom Description
                    data: devices
                    modify: x.type
                  - name: Hostname
                    data: devices
                    modify: x.hostname
                  - name: Vendor
                    data: devices
                    modify: x.vendor
            grid_options:
              columns: 33
              rows: auto
        column_span: 3
    cards: []
    max_columns: 3
  - type: sections
    max_columns: 4
    icon: mdi:home
    path: ''
    sections:
      - type: grid
        cards:
          - type: picture-elements
            elements:
              - type: state-badge
                entity: sensor.temp_salon_temperature
                name: false
                title: null
                style:
                  top: 60%
                  left: 25%
                  font-size: 10px
                  '--ha-label-badge-size': 40px
                  color: transparent
              - type: state-badge
                entity: sensor.ble_temperature_temperature_chambre
                name: false
                title: null
                style:
                  top: 25%
                  left: 20%
                  font-size: 10px
                  '--ha-label-badge-size': 40px
                  color: transparent
              - type: state-badge
                entity: sensor.ble_temperature_temperature_chambre_chloe
                name: false
                title: null
                style:
                  top: 26%
                  left: 50%
                  font-size: 10px
                  '--ha-label-badge-size': 40px
                  color: transparent
              - type: state-badge
                entity: sensor.ble_temperature_temperature_chambre_de_lucie
                name: false
                title: null
                style:
                  top: 60%
                  left: 55%
                  font-size: 8px
                  '--ha-label-badge-size': 30px
                  color: transparent
              - type: state-badge
                entity: sensor.ble_temperature_temperature_sdb
                name: false
                title: null
                style:
                  top: 26%
                  left: 80%
                  font-size: 10px
                  '--ha-label-badge-size': 40px
                  color: transparent
              - type: state-badge
                entity: sensor.temp1_temperature
                name: false
                title: null
                style:
                  top: 80%
                  left: 85%
                  font-size: 12px
                  '--ha-label-badge-size': 40px
                  color: transparent
              - type: state-icon
                entity: switch.garage
                name: false
                title: null
                style:
                  top: 60%
                  left: 95%
              - type: state-icon
                entity: light.halogene
                name: false
                title: null
                style:
                  top: 75%
                  left: 6%
              - type: state-icon
                entity: light.salon_3
                name: false
                title: null
                style:
                  top: 75%
                  left: 43%
              - type: state-icon
                entity: light.chambre_parents
                name: false
                title: null
                style:
                  top: 28%
                  left: 20%
              - type: state-icon
                entity: light.go2
                name: false
                title: null
                style:
                  top: 25%
                  left: 6%
              - type: state-icon
                entity: light.led_chloe
                name: false
                icon: mdi:led-strip-variant
                title: null
                style:
                  top: 28%
                  left: 50%
              - type: state-icon
                entity: light.led
                name: false
                icon: mdi:led-strip-variant
                title: null
                style:
                  top: 28%
                  left: 85%
              - type: state-icon
                entity: light.led_lucie
                name: false
                icon: mdi:led-strip-variant
                title: null
                style:
                  top: 23%
                  left: 94%
              - type: state-icon
                entity: light.led_lucie
                name: false
                title: null
                style:
                  top: 18%
                  left: 72%
              - type: state-icon
                entity: light.bureau_chloe
                name: false
                title: null
                style:
                  top: 6%
                  left: 40%
              - type: state-icon
                entity: light.twinkly_621ad1
                icon: mdi:string-lights
                name: false
                title: null
                style:
                  top: 75%
                  left: 25%
              - type: state-icon
                entity: light.couloir
                name: false
                title: null
                style:
                  top: 37%
                  left: 50%
            image: >-
              https://raw.githubusercontent.com/Axelle78/test/refs/heads/master/MAISON.png
            grid_options:
              rows: 14
              columns: 21
        column_span: 2
  - type: sections
    max_columns: 4
    title: dqsdsq
    path: dqsdsq
    sections:
      - type: grid
        cards:
          - type: heading
            heading: Nouvelle section
          - type: custom:button-card
            entity: sensor.cout_tempo_jour_total
            label: |
              [[[
                 var label = ""
                  label = '<b>Rouge</b><hr width="400" size="1" align=center color ="#FFFFFF"></hr>' + states['sensor.rte_tempo_cycle_jours_restants_rouge'].state + '/'  + states['sensor.nb_jours_rouge_total'].state + '<br>HP ' + states['sensor.tarif_jour_rouge_hp'].state + '<BR>'+'HC ' + states['sensor.tarif_jour_rouge_hc'].state
                  return label;
              ]]]
            show_label: true
            show_icon: false
            show_state: false
            show_name: false
            card_mod:
              style: |
                ha-card {
                 border-radius:10px; 
                 padding-top: 5px;
                 background-color: red;

                } 
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: sensor.cout_tempo_jour_total
                label: |
                  [[[
                     var label = ""
                      label = '<b>Rouge</b><hr width="400" size="1" align=center color ="#FFFFFF"></hr>' + states['sensor.rte_tempo_cycle_jours_restants_rouge'].state + '/'  + states['sensor.nb_jours_rouge_total'].state + '<br>HP ' + states['sensor.tarif_jour_rouge_hp'].state + '<BR>'+'HC ' + states['sensor.tarif_jour_rouge_hc'].state
                      return label;
                  ]]]
                show_label: true
                show_icon: false
                show_state: false
                show_name: false
                card_mod:
                  style: |
                    ha-card {
                     border-radius:10px; 
                     padding-top: 5px;
                     background-color: red;

                    } 
              - type: custom:button-card
                entity: sensor.cout_tempo_jour_total
                label: |
                  [[[
                     var label = ""
                      label = '<b>Blanc</b><hr width="400" size="1" align=center color ="#00000"></hr>' + states['sensor.rte_tempo_cycle_jours_restants_blanc'].state + '/'  + states['sensor.nb_jours_blanc_total'].state + '<br>HP ' + states['sensor.tarif_jour_blanc_hp'].state + '<BR>'+'HC ' + states['sensor.tarif_jour_blanc_hc'].state
                      return label;
                  ]]]
                show_label: true
                show_icon: false
                show_state: false
                show_name: false
                card_mod:
                  style: |
                    ha-card {
                     border-radius:10px; 
                     padding-top: 5px;
                     color: black;
                     background-color: white;

                    } 
              - type: custom:button-card
                entity: sensor.cout_tempo_jour_total
                label: |
                  [[[
                     var label = ""
                      label = '<b>Bleu</b><hr width="400" size="1" align=center color ="#FFFFFF"></hr>' + states['sensor.rte_tempo_cycle_jours_restants_bleu'].state + '/'  + states['sensor.nb_jours_bleu_total'].state + '<br>HP ' + states['sensor.tarif_jour_bleu_hp'].state + '<BR>'+'HC ' + states['sensor.tarif_jour_bleu_hc'].state
                      return label;
                  ]]]
                show_label: true
                show_icon: false
                show_state: false
                show_name: false
                card_mod:
                  style: |
                    ha-card {
                     border-radius:10px; 
                     padding-top: 5px;
                     background-color: blue;

                    } 
      - type: grid
        cards:
          - type: heading
            heading: Nouvelle section
          - type: horizontal-stack
            cards:
              - type: horizontal-stack
                cards:
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: sensor.rte_tempo_couleur_actuelle
                        state: Rouge
                    card:
                      type: markdown
                      content: >-
                        Aujourd'hui  <br/> <img
                        src="https://raw.githubusercontent.com/Axelle78/test/master/panneau.png"
                        width=15% height=10% > <br/> {{
                        (states('sensor.edf_tempo_prix_actuel')| float / 100
                        )|round(3)}} € <br/><br/>
                      card_mod:
                        style: |
                          ha-markdown {
                           padding: 10 0 0 0 !important;
                          }
                          ha-card {
                           margin-bottom: 0px;
                           font-size: 15px;
                           color : #E7E7E7;
                           text-align: center;
                           --mdc-icon-size: 20px;
                           background: url('https://raw.githubusercontent.com/Axelle78/test/master/rouge.png');
                           background-size: 100% 400px;
                           border-radius:10px;
                          }
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: sensor.rte_tempo_couleur_actuelle
                        state: Blanc
                    card:
                      type: markdown
                      content: >-
                        Aujourd'hui  <br/> <img
                        src="https://raw.githubusercontent.com/Axelle78/test/master/OK.png"
                        width=15% height=10% > <br/> {{
                        (states('sensor.edf_tempo_prix_actuel')| float / 100
                        )|round(3)}} €<br/><br/>
                      card_mod:
                        style: |
                          ha-markdown {
                           padding: 10 0 0 0 !important;
                          }
                          ha-card {
                           margin-bottom: 0px;
                           font-size: 15px;
                           color : #000000;
                           text-align: center;
                           --mdc-icon-size: 20px;
                           background: url('https://raw.githubusercontent.com/Axelle78/test/master/blanc.png');
                           background-size: 100% 400px;
                           border-radius:10px;
                          }
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: sensor.rte_tempo_couleur_actuelle
                        state: Bleu
                    card:
                      type: markdown
                      content: >-
                        Aujourd'hui  <br/> <img
                        src="https://raw.githubusercontent.com/Axelle78/test/master/OK.png"
                        width=15% height=10% > <br/> {{
                        (states('sensor.edf_tempo_prix_actuel')| float / 100
                        )|round(3)}} €<br/><br/>
                      card_mod:
                        style: |
                          ha-markdown {
                           padding: 10 0 0 0 !important;
                          }
                          ha-card {
                           margin-bottom: 0px;
                           font-size: 15px;
                           color : #E7E7E7;
                           text-align: center;
                           --mdc-icon-size: 20px;
                           background: url('https://raw.githubusercontent.com/Axelle78/test/master/bleu.png');
                           background-size: 100% 400px;
                           border-radius:10px;
                          }
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: sensor.rte_tempo_couleur_actuelle
                        state: inconnu
                    card:
                      type: markdown
                      content: >-
                        Aujourd'hui  <br/> <img
                        src="https://raw.githubusercontent.com/Axelle78/test/master/interrog.png"
                        width=15% height=10% > <br/> {{
                        (states('sensor.edf_tempo_prix_actuel')| float / 100
                        )|round(3)}} €
                      card_mod:
                        style: |
                          ha-markdown {
                           padding: 10 0 0 0 !important;
                          }
                          ha-card {
                           margin-bottom: 0px;
                           font-size: 15px;
                           color : #E7E7E7;
                           text-align: center;
                           --mdc-icon-size: 20px;
                           background-size: 100% 400px;
                           border-radius:10px;
                          }
              - type: horizontal-stack
                cards:
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: sensor.rte_tempo_prochaine_couleur
                        state: Rouge
                    card:
                      type: markdown
                      content: >-
                        Demain  <br/> <img
                        src="https://raw.githubusercontent.com/Axelle78/test/master/panneau.png"
                        width=15% height=10% > <br/> HP  {{
                        (states('input_number.tarif_edf_tempo_rouge_hp')| float
                        / 1 )|round(3)}} € <br/> HC {{
                        (states('input_number.tarif_edf_tempo_rouge_hc')| float
                        / 1 )|round(3)}} €
                      card_mod:
                        style: |
                          ha-markdown {
                           padding: 10 0 0 0 !important;
                          }
                          ha-card {
                           margin-bottom: -15px;
                           font-size: 15px;
                           color : #E7E7E7;
                           text-align: center;
                           --mdc-icon-size: 20px;
                           background: url('https://raw.githubusercontent.com/Axelle78/test/master/rouge.png');
                           background-size: 100% 400px;
                           border-radius:8px;
                          }
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: sensor.rte_tempo_prochaine_couleur
                        state: Blanc
                    card:
                      type: markdown
                      content: >-
                        Demain  <br/> <img
                        src="https://raw.githubusercontent.com/Axelle78/test/master/OK.png"
                        width=15% height=10% > <br/> HP  {{
                        (states('input_number.tarif_edf_tempo_blanc_hp')| float
                        / 1 )|round(3)}} € <br/> HC {{
                        (states('input_number.tarif_edf_tempo_blanc_hc')| float
                        / 1 )|round(3)}} €
                      card_mod:
                        style: |
                          ha-markdown {
                           padding: 10 0 0 0 !important;
                          }
                          ha-card {
                           margin-bottom: -15px;
                           font-size: 15px;
                           color : #000000;
                           text-align: center;
                           --mdc-icon-size: 20px;
                           background: url('https://raw.githubusercontent.com/Axelle78/test/master/blanc.png');
                           background-size: 100% 400px;
                           border-radius:8px;
                          }
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: sensor.rte_tempo_prochaine_couleur
                        state: Bleu
                    card:
                      type: markdown
                      content: >-
                        Demain  <br/> <img
                        src="https://raw.githubusercontent.com/Axelle78/test/master/OK.png"
                        width=15% height=10% > <br/> HP  {{
                        (states('input_number.tarif_edf_tempo_bleu_hp')| float /
                        1 )|round(3)}} € <br/> HC {{
                        (states('input_number.tarif_edf_tempo_bleu_hc')| float /
                        1 )|round(3)}} €
                      card_mod:
                        style: |
                          ha-markdown {
                           padding: 10 0 0 0 !important;
                          }
                          ha-card {
                           margin-bottom: -15px;
                           font-size: 15px;
                           color : #E7E7E7;
                           text-align: center;
                           --mdc-icon-size: 20px;
                           background: url('https://raw.githubusercontent.com/Axelle78/test/master/bleu.png');
                           background-size: 100% 400px;
                           border-radius:8px;
                          }
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: sensor.rte_tempo_prochaine_couleur
                        state: inconnu
                    card:
                      type: markdown
                      content: >-
                        Demain  <br/> <img
                        src="https://raw.githubusercontent.com/Axelle78/test/master/interrog.png"
                        width=15% height=10% > <br/> 
                      card_mod:
                        style: |
                          ha-card {
                           margin-bottom: 0px;
                           font-size: 15px;
                           color : #000000;
                           text-align: center;
                           --mdc-icon-size: 20px;
                           background-size: 100% 400px;
                           border-radius:8px;
                          }
            layout_options:
              grid_columns: 4
              grid_rows: 2
      - type: grid
        cards:
          - type: heading
            heading: Nouvelle section
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                entity: sensor.cout_tempo_jour_total
                label: |
                  [[[
                    
                    if(states['sensor.rte_tempo_couleur_actuelle'].state=="Rouge")
                      return '<b>Aujourd hui</b><hr width="400" size="1" align=center color ="#FFFFFF"></hr> <img src="https://raw.githubusercontent.com/Axelle78/test/master/panneau.png" width=10% height=10% > <br/><br/> ' + states['sensor.prix_actuel'].state + ' <br>'

                    else 
                      return '<b>Aujourd hui</b><hr width="400" size="1" align=center color ="#FFFFFF"></hr> <img src="https://raw.githubusercontent.com/Axelle78/test/master/OK.png" width=10% height=10% > <br/><br/> ' + states['sensor.prix_actuel'].state 
                    endif  
                   
                  ]]]
                show_label: true
                show_icon: false
                show_state: false
                show_name: false
                card_mod:
                  style: |
                    ha-card {
                     border-radius:10px; 
                     padding-top: 5px;
                     {%if states('sensor.rte_tempo_couleur_actuelle')=="Rouge" %}
                     background-color: red;
                     {%elif states('sensor.rte_tempo_couleur_actuelle')=="Bleu" %}
                      background-color: blue;
                      {%else%}
                      background-color: white;
                      color: black;
                      {%endif%}
                    } 
              - type: custom:button-card
                entity: sensor.cout_tempo_jour_total
                label: |
                  [[[
                    
                    if(states['sensor.rte_tempo_prochaine_couleur'].state=="Rouge")
                      return '<b>Demain</b><hr width="400" size="1" align=center color ="#FFFFFF"></hr> <img src="https://raw.githubusercontent.com/Axelle78/test/master/panneau.png" width=10% height=10% > <br/> '  + '<br>HP ' + states['sensor.tarif_jour_rouge_hp'].state + '<BR>HC ' +states['sensor.tarif_jour_rouge_hc'].state
                    else if(states['sensor.rte_tempo_prochaine_couleur'].state=="Bleu")
                      return '<b>Demain</b><hr width="400" size="1" align=center color ="#FFFFFF"></hr> <img src="https://raw.githubusercontent.com/Axelle78/test/master/OK.png" width=10% height=10% > <br/> '  + '<br>HP ' + states['sensor.tarif_jour_bleu_hp'].state + '<BR>HC ' +states['sensor.tarif_jour_bleu_hc'].state
                    else 
                      return '<b>Demain</b><hr width="400" size="1" align=center color ="#00000"></hr> <img src="https://raw.githubusercontent.com/Axelle78/test/master/OK.png" width=10% height=10% > <br/>HP ' + states['sensor.tarif_jour_bleu_hp'].state + '<BR>HC ' +states['sensor.tarif_jour_bleu_hc'].state    
                    endif  
                   
                  ]]]
                show_label: true
                show_icon: false
                show_state: false
                show_name: false
                card_mod:
                  style: |
                    ha-card {
                     border-radius:10px; 
                     padding-top: 5px;
                     {%if states('sensor.rte_tempo_prochaine_couleur')=="Rouge" %}
                     background-color: red;
                     {%elif states('sensor.rte_tempo_prochaine_couleur')=="Bleu" %}
                      background-color: blue;
                      {%else%}
                      background-color: white;
                      color: black;
                      {%endif%}
                    } 

custom_header:
  compact_mode: true
title: Maison
header_cards:
  cards:
    - type: custom:mushroom-chips-card
      chips:
        - type: weather
          entity: weather.mantes_la_jolie
          show_conditions: true
          show_temperature: true
        - type: entity
          entity: input_select.camera
          icon_color: blue-grey
        - type: entity
          entity: sensor.indoor_temperature
          icon_color: blue-grey
        - type: entity
          icon: mdi:trash-can
          entity: input_text.poubelle
          icon_color: blue-grey
        - type: entity
          icon: mdi:trash-can
          entity: input_text.recyclable
          icon_color: blue-grey
        - type: entity
          icon: mdi:cake-variant
          entity: input_text.anniversaire
          icon_color: blue-grey
        - type: entity
          icon: mdi:weather-sunny
          entity: input_boolean.summer_mode
          icon_color: |-
            {% if is_state('input_boolean.summer_mode', 'on') %}
            yellow
            {% else %}
            grey
            {% endif %}
layout: horizontal
button_card_templates:
  custom_card_httpedo13_thermostat:
    template:
      - ulm_translation_engine
    tap_action:
      action: toggle
    icon: |
      [[[
          if (entity.attributes.hvac_action == 'heating') {
            return "mdi:radiator";
          }
          return "mdi:radiator-off";
      ]]]
    label: '[[[ return variables.ulm_translation_state ]]]'
    state:
      - operator: template
        value: |
          [[[
            return entity.state != 'off';
          ]]]
        styles:
          label:
            - color: |
                [[[
                  if (entity.attributes.hvac_action == 'heating'){
                    return "var(--card-background-color)";
                  }
                  return "rgba(var(--color-theme),0.9)";
                ]]]
          name:
            - font-weight: bold
            - color: |
                [[[
                  if (entity.attributes.hvac_action == 'heating'){
                    return "var(--card-background-color)";
                  }
                  return "rgba(var(--color-theme),0.9)";
                ]]]
          icon:
            - color: rgba(var(--color-red),1)
          img_cell:
            - background-color: |
                [[[
                  if (entity.attributes.hvac_action == 'heating'){
                    return 'var(--card-background-color)';
                  }
                  return 'rgba(var(--color-red),0.2)';
                ]]]
          card:
            - background-color: |
                [[[
                  if (entity.attributes.hvac_action == 'heating'){
                    return '#ff8100';
                  }
                  return 'var(--card-background-color)';
                ]]]
  custom_card_httpedo13_thermostat_with_buttons:
    triggers_update: all
    styles:
      grid:
        - grid-template-areas: '''item1'' ''item2'''
        - grid-template-columns: 1fr
        - grid-template-rows: min-content  min-content
        - row-gap: 12px
      card:
        - border-radius: var(--border-radius)
        - box-shadow: var(--box-shadow)
        - padding: 12px
        - background-color: |
            [[[
              if (states[variables.entity].attributes.hvac_action == 'heating'){
                return '#ff8100';
              }
              return 'var(--card-background-color)';
            ]]]
    tap_action:
      action: call-service
      service: climate.set_hvac_mode
      service_data:
        entity_id: '[[[ return variables.entity ]]]'
        hvac_mode: |
          [[[
            if (states[variables.entity].state == "off"){
              return 'heat';
            } else if (states[variables.entity].state == "heat"){
              return 'off';
            }
          ]]]
    custom_fields:
      item1:
        card:
          type: custom:button-card
          template: list_items_favorite
          styles:
            card:
              - background-color: |
                  [[[
                    if (states[variables.entity].attributes.hvac_action == 'heating'){
                      return '#ff8100';
                    }
                    return 'var(--card-background-color)';
                  ]]]
          custom_fields:
            item1:
              card:
                type: custom:button-card
                template:
                  - icon_info
                  - custom_card_httpedo13_thermostat
                tap_action:
                  action: call-service
                  service: climate.set_hvac_mode
                  service_data:
                    entity_id: '[[[ return variables.entity ]]]'
                    hvac_mode: |
                      [[[
                        if (states[variables.entity].state == "off"){
                          return 'heat';
                        } else if (states[variables.entity].state == "heat"){
                          return 'off';
                        }
                      ]]]
                name: |
                  [[[
                      if (variables.name == null) {
                        return variables.entity;
                      }
                      return variables.name;
                  ]]]
                entity: '[[[ return variables.entity ]]]'
            item2:
              card:
                type: custom:button-card
                template: widget_current_temperature
                tap_action:
                  action: toggle
                entity: '[[[ return variables.entity ]]]'
                icon: mdi:temperature-celsius
      item2:
        card:
          type: custom:button-card
          template: list_3_items
          styles:
            card:
              - background-color: |
                  [[[
                    if (states[variables.entity].attributes.hvac_action == 'heating'){
                      return '#ff8100';
                    }
                    return 'var(--card-background-color)';
                  ]]]
          custom_fields:
            item1:
              card:
                type: custom:button-card
                template: widget_icon_for_thermostat
                entity: '[[[ return variables.entity ]]]'
                tap_action:
                  action: call-service
                  service: climate.set_temperature
                  service_data:
                    temperature: >-
                      [[[ return
                      (parseFloat(states[variables.entity].attributes.temperature)
                      - 0.5)  ]]]
                    entity_id: '[[[ return variables.entity ]]]'
                icon: mdi:minus
            item2:
              card:
                type: custom:button-card
                template: widget_temperature
                tap_action:
                  action: toggle
                entity: '[[[ return variables.entity ]]]'
                icon: mdi:temperature-celsius
            item3:
              card:
                type: custom:button-card
                template: widget_icon_for_thermostat
                entity: '[[[ return variables.entity ]]]'
                tap_action:
                  action: call-service
                  service: climate.set_temperature
                  service_data:
                    temperature: >-
                      [[[ return
                      (parseFloat(states[variables.entity].attributes.temperature)
                      + 0.5)  ]]]
                    entity_id: '[[[ return variables.entity ]]]'
                icon: mdi:plus
  custom_card_httpedo13_thermostat_with_buttons_collapse:
    triggers_update: all
    styles:
      grid:
        - grid-template-areas: '''item1'' ''item2'''
        - grid-template-columns: 1fr
        - grid-template-rows: min-content  min-content
        - row-gap: 12px
      card:
        - border-radius: var(--border-radius)
        - box-shadow: var(--box-shadow)
        - padding: 12px
        - background-color: |
            [[[
              if (states[variables.entity].attributes.hvac_action == 'heating'){
                return '#ff8100';
              }
              return 'var(--card-background-color)';
            ]]]
    tap_action:
      action: call-service
      service: climate.set_hvac_mode
      service_data:
        entity_id: '[[[ return variables.entity ]]]'
        hvac_mode: |
          [[[
            if (states[variables.entity].state == "off"){
              return 'heat';
            } else if (states[variables.entity].state == "heat"){
              return 'off';
            }
          ]]]
    custom_fields:
      item1:
        card:
          type: custom:button-card
          template: list_items_favorite
          styles:
            card:
              - background-color: |
                  [[[
                    if (states[variables.entity].attributes.hvac_action == 'heating'){
                      return '#ff8100';
                    }
                    return 'var(--card-background-color)';
                  ]]]
          custom_fields:
            item1:
              card:
                type: custom:button-card
                template:
                  - icon_info
                  - custom_card_httpedo13_thermostat
                tap_action:
                  action: call-service
                  service: climate.set_hvac_mode
                  service_data:
                    entity_id: '[[[ return variables.entity ]]]'
                    hvac_mode: |
                      [[[
                        if (states[variables.entity].state == "off"){
                          return 'heat';
                        } else if (states[variables.entity].state == "heat"){
                          return 'off';
                        }
                      ]]]
                name: |
                  [[[
                      if (variables.name == null) {
                        return variables.entity;
                      }
                      return variables.name;
                  ]]]
                entity: '[[[ return variables.entity ]]]'
            item2:
              card:
                type: custom:button-card
                template: widget_current_temperature
                tap_action:
                  action: toggle
                entity: '[[[ return variables.entity ]]]'
                icon: mdi:temperature-celsius
      item2:
        card:
          type: conditional
          conditions:
            - entity: '[[[ return states[variables.entity].entity_id ]]]'
              state: heat
          card:
            type: custom:button-card
            template: list_3_items
            styles:
              card:
                - background-color: |
                    [[[
                      if (states[variables.entity].attributes.hvac_action == 'heating'){
                        return '#ff8100';
                      }
                      return 'var(--card-background-color)';
                    ]]]
            custom_fields:
              item1:
                card:
                  type: custom:button-card
                  template: widget_icon_for_thermostat
                  entity: '[[[ return variables.entity ]]]'
                  tap_action:
                    action: call-service
                    service: climate.set_temperature
                    service_data:
                      temperature: >-
                        [[[ return
                        (parseFloat(states[variables.entity].attributes.temperature)
                        - 0.5)  ]]]
                      entity_id: '[[[ return variables.entity ]]]'
                  icon: mdi:minus
              item2:
                card:
                  type: custom:button-card
                  template: widget_temperature
                  tap_action:
                    action: toggle
                  entity: '[[[ return variables.entity ]]]'
                  icon: mdi:temperature-celsius
              item3:
                card:
                  type: custom:button-card
                  template: widget_icon_for_thermostat
                  entity: '[[[ return variables.entity ]]]'
                  tap_action:
                    action: call-service
                    service: climate.set_temperature
                    service_data:
                      temperature: >-
                        [[[ return
                        (parseFloat(states[variables.entity].attributes.temperature)
                        + 0.5)  ]]]
                      entity_id: '[[[ return variables.entity ]]]'
                  icon: mdi:plus
  widget_current_temperature:
    color: var(--google-grey-500)
    show_icon: false
    show_name: false
    show_label: true
    size: 20px
    label: |-
      [[[
          var temperature = entity.attributes.current_temperature;
          if (temperature == null) {
            var temperature = '-';
          }
          return temperature + '°C'
      ]]]
    styles:
      label:
        - font-weight: bold
        - color: |
            [[[
              if (entity.attributes.hvac_action == 'heating'){
                return 'var(--card-background-color)';
              }
              return 'rgb(var(--color-theme),0.9)';
            ]]]
      grid:
        - grid-template-areas: '''l'''
      card:
        - box-shadow: none
        - padding: 0px
        - border-radius: 14px
        - place-self: center
        - height: 42px
        - background-color: |
            [[[
              if (entity.attributes.hvac_action == 'heating'){
                return '#ff8100';
              }
              return 'var(--card-background-color)';
            ]]]
  widget_temperature:
    color: var(--google-grey-500)
    show_icon: false
    show_name: false
    show_label: true
    size: 20px
    label: |-
      [[[
          var temperature = entity.attributes.temperature;
          if (temperature == null) {
            var temperature = '-';
          }
          return temperature + '°C'
      ]]]
    styles:
      label:
        - color: |
            [[[
              if (entity.attributes.hvac_action == 'heating'){
                return 'var(--card-background-color)';
              }
              return 'rgb(var(--color-theme),0.9)';
            ]]]
      grid:
        - grid-template-areas: '''l'''
      card:
        - box-shadow: none
        - padding: 0px
        - border-radius: 14px
        - place-self: center
        - height: 42px
        - background-color: |
            [[[
              if (entity.attributes.hvac_action == 'heating'){
                return '#ff8100';
              }
              return 'var(--card-background-color)';
            ]]]
  widget_icon_for_thermostat:
    tap_action:
      action: toggle
    show_icon: true
    show_name: false
    styles:
      grid:
        - grid-template-areas: '''i'''
      card:
        - box-shadow: none
        - padding: 0px
        - background-color: |
            [[[
              if (entity.attributes.hvac_action == 'heating'){
                return 'var(--card-background-color)';
              }
              return 'rgba(var(--color-theme),0.05)';
            ]]]
        - border-radius: 14px
        - place-self: center
        - height: 42px
      icon:
        - color: rgba(var(--color-theme),0.9)
    size: 20px
    color: var(--google-grey)
  list_items_favorite:
    styles:
      grid:
        - grid-template-areas: '''item1 item1 item2'''
        - grid-template-columns: 1fr 1fr 1fr
        - grid-template-rows: min-content
        - column-gap: 7px
      card:
        - box-shadow: none
        - padding: 0px
  container:
    color_type: label-card
    color: dimgray
    styles:
      card:
        - padding: 0
      name:
        - border-radius: 0.4em 0.4em 0 0
        - padding: 0.1em
        - width: 90%
        - height: 90%
        - font-weight: bold
      grid:
        - grid-template-areas: '"i" "n" "buttons"'
        - grid-template-columns: 1fr
        - grid-template-rows: 1fr min-content min-content
      custom_fields:
        buttons:
          - background-color: rgba(0,0,0,0.3)
          - margin: 0
          - padding: 0.3em
  standard:
    color_type: card
    size: 80%
    hold_action:
      action: more-info
    styles:
      card:
        - padding: 0.2em
        - '--mdc-ripple-color': yellow
        - '--mdc-ripple-press-opacity': 0.5
      icon:
        - opacity: 0.5
      name:
        - font-size: 0.65em
        - white-space: normal
      state:
        - font-size: 0.65em
        - white-space: normal
      label:
        - font-size: 0.4em
        - white-space: normal
  wide:
    template: standard
    styles:
      grid:
        - position: relative
        - grid-template-areas: '"i n"'
        - grid-template-columns: 1fr 1fr
        - grid-template-rows: 1fr
views:
  - theme: ''
    title: ''
    icon: mdi:monitor-dashboard
    layout:
      height: auto
    type: custom:horizontal-layout
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: markdown
            content: >-
              <ha-icon icon="mdi:thermometer"></ha-icon> <ha-icon
              icon="mdi:lightbulb"></ha-icon>  Lumières et Températures  </hr>
            card_mod:
              style: |
                ha-card {
                  margin-bottom: -3px;
                  text-shadow: 0px 5px 5px rgba(0,0,0,1);
                  font-size: 20px;
                  color : #E7E7E7;
                  text-align: left;
                  --mdc-icon-size: 20px;
                  'background: url('https://raw.githubusercontent.com/Axelle78/test/master/test_fond5.jpg');
                  'background-size: 100% 400px;
                  'border-radius: 0px;
                  border-width: 0px !important;
                  background: none
                }
          - animate: true
            name: Température extérieure
            color_thresholds:
              - color: '#1bc6fd'
                value: 5
              - color: '#1bfd1b'
                value: 15
              - color: '#fdf31b'
                value: 20
              - color: '#fda41b'
                value: 25
              - color: '#fd331b'
                value: 30
            entities:
              - sensor.indoor_exterieur_temperature
            labels: true
            font_size: 60
            line_color: green
            points_per_hour: 6
            height: 55
            show:
              labels: true
            style: |
              ha-card {
                margin-bottom: -4px;
                border-radius: 10px;
                
              }
            type: custom:mini-graph-card
          - type: vertical-stack
            cards:
              - type: custom:button-card
                template: container
                color: '#212F6F'
                name: Salon
                custom_fields:
                  buttons:
                    card:
                      type: horizontal-stack
                      cards:
                        - entity: sensor.indoor_temperature
                          name: Salon
                          icon: mdi:thermometer
                          type: entity
                        - entity: light.halogene
                          name: Halogène
                          icon: mdi:ceiling-light
                          layout: vertical
                          use_light_color: true
                          type: custom:mushroom-light-card
                          card_mod:
                            style: >
                              ha-card {

                              {% if states('light.halogene')=='on'%}

                              --ha-card-box-shadow: 0px 0px 10px 3px
                              rgba(255,252,158)

                              {% endif %};

                              }
                        - entity: light.salon_3
                          name: Salon
                          icon: mdi:lightbulb
                          layout: vertical
                          use_light_color: true
                          type: custom:mushroom-light-card
                          card_mod:
                            style: >
                              ha-card {

                              {% if states('light.salon_3')=='on'%}

                              --ha-card-box-shadow: 0px 0px 10px 3px
                              rgba(255,252,158)

                              {% endif %};

                              }
              - type: custom:button-card
                template: container
                color: '#212F6F'
                name: Chambre
                custom_fields:
                  buttons:
                    card:
                      type: horizontal-stack
                      cards:
                        - entity: sensor.ble_temperature_temperature_chambre
                          name: Chambre
                          icon: mdi:thermometer
                          type: entity
                        - entity: light.chambre_2
                          name: Chambre
                          icon: mdi:lightbulb
                          layout: vertical
                          use_light_color: true
                          type: custom:mushroom-light-card
                          card_mod:
                            style: >
                              ha-card {

                              {% if states('light.chambre_2')=='on'%}

                              --ha-card-box-shadow: 0px 0px 10px 3px
                              rgba(255,252,158)

                              {% endif %};

                              }
                        - entity: light.0x0017880106f8a2fa
                          name: Go
                          icon: mdi:ceiling-light
                          layout: vertical
                          use_light_color: true
                          type: custom:mushroom-light-card
                          card_mod:
                            style: >
                              ha-card {
                               {% if states('light.0x0017880106f8a2fa')=='on' %}
                              --ha-card-box-shadow: 0px 0px 10px 3px rgba{{
                              state_attr('light.0x0017880106f8a2fa',
                              'rgb_color') }}

                              {% endif %};

                              }
              - type: custom:button-card
                template: container
                color: '#212F6F'
                name: Chambre de Chloé et couloir
                custom_fields:
                  buttons:
                    card:
                      type: horizontal-stack
                      cards:
                        - entity: sensor.ble_temperature_temperature_chambre_chloe
                          name: Chloé
                          icon: mdi:thermometer
                          type: entity
                        - entity: light.0x54ef4410008c07f2
                          name: LED
                          icon: mdi:lightbulb
                          layout: vertical
                          use_light_color: true
                          type: custom:mushroom-light-card
                          card_mod:
                            style: >
                              ha-card {
                               {% if states('light.0x54ef4410008c07f2')=='on'%}
                              --ha-card-box-shadow: 0px 0px 10px 3px rgba{{
                              state_attr('light.0x54ef4410008c07f2',
                              'rgb_color') }}

                              {% endif %};

                              }
                        - entity: light.couloir
                          name: couloir
                          icon: mdi:ceiling-light
                          layout: vertical
                          use_light_color: true
                          type: custom:mushroom-light-card
                          card_mod:
                            style: >
                              ha-card {

                              {% if states('light.couloir')=='on'%}

                              --ha-card-box-shadow: 0px 0px 10px 3px
                              rgba(255,252,158)

                              {% endif %};

                              }
              - type: custom:button-card
                template: container
                color: '#212F6F'
                name: Chambre de Lucie
                custom_fields:
                  buttons:
                    card:
                      type: horizontal-stack
                      cards:
                        - entity: sensor.temp_lucie_2
                          name: Lucie
                          icon: mdi:thermometer
                          type: entity
                        - entity: light.lampe
                          name: Lampe
                          icon: mdi:ceiling-light
                          layout: vertical
                          use_light_color: true
                          type: custom:mushroom-light-card
                          card_mod:
                            style: >
                              ha-card {
                               {% if states('light.lampe')=='on'%}
                              --ha-card-box-shadow: 0px 0px 10px 3px rgba{{
                              state_attr('light.lampe', 'rgb_color') }}

                              {% endif %};

                              }
                        - entity: light.lucie
                          name: LEDs
                          icon: mdi:lightbulb
                          layout: vertical
                          use_light_color: true
                          type: custom:mushroom-light-card
                          card_mod:
                            style: |
                              ha-card { 
                                {% if states('light.lucie')=='on'%}
                                  --ha-card-box-shadow: 0px 0px 10px 3px rgba{{ state_attr('light.lucie', 'rgb_color') }} 
                                {% endif %};

                              }
                          tap_action:
                            action: fire-dom-event
                            browser_mod:
                              service: browser_mod.popup
                              data:
                                browser_id: THIS
                                size: normal
                                title: LEDs Chambre Lucie
                                content:
                                  type: horizontal-stack
                                  cards:
                                    - entity: light.led
                                      name: LED
                                      icon: mdi:lightbulb
                                      layout: vertical
                                      use_light_color: true
                                      type: custom:mushroom-light-card
                                      card_mod:
                                        style: >
                                          ha-card {
                                           {% if states('light.led')=='on'%}
                                          --ha-card-box-shadow: 0px 0px 10px 3px
                                          rgba{{ state_attr('light.led',
                                          'rgb_color') }}

                                          {% endif %};

                                          }
                                    - entity: light.led_lucie
                                      name: LED Lit
                                      icon: mdi:lightbulb
                                      layout: vertical
                                      use_light_color: true
                                      type: custom:mushroom-light-card
                                      card_mod:
                                        style: >
                                          ha-card {
                                           {% if states('light.led_lucie')=='on'%}
                                          --ha-card-box-shadow: 0px 0px 10px 3px
                                          rgba{{ state_attr('light.led_lucie',
                                          'rgb_color') }}

                                          {% endif %};

                                          }
          - type: markdown
            content: '<ha-icon icon="mdi:lightbulb-on"></ha-icon> Actions Alexa '
            card_mod:
              style: |
                ha-card {
                  margin-bottom: -3px; 
                  text-shadow: 0px 5px 5px rgba(0,0,0,1);
                  font-size: 20px;
                  color : #E7E7E7;
                  text-align: left;
                  --mdc-icon-size: 20px;
                  'background: url('https://raw.githubusercontent.com/Axelle78/test/master/test_fond5.jpg');
                  'background-size: 100% 400px;
                  'border-radius: 0px;
                  border-width: 0px !important;
                  background: none
                }
          - type: horizontal-stack
            cards:
              - type: custom:button-card
                tap_action:
                  action: call-service
                  service: script.la_table
                entity: script.la_table
                size: 30%
                style: |
                  ha-card {
                    margin-bottom: -4px;
                    border-radius: 10px;
                    
                  }
              - type: custom:button-card
                tap_action:
                  action: call-service
                  service: script.lave_vaisselle
                entity: script.lave_vaisselle
                size: 30%
                style: |
                  ha-card {
                    margin-bottom: -4px;
                    border-radius: 10px;
                    
                  }
              - type: custom:button-card
                tap_action:
                  action: call-service
                  service: script.1611826806282
                entity: script.1611826806282
                size: 30%
                style: |
                  ha-card {
                    margin-bottom: -4px;
                    border-radius: 10px;
                    
                  }
      - type: vertical-stack
        cards:
          - type: markdown
            content: <ha-icon icon="mdi:account-check"></ha-icon> Présences
            card_mod:
              style: |
                ha-card {
                  margin-bottom: -3px;
                  text-shadow: 0px 5px 5px rgba(0,0,0,1);
                  font-size: 20px;
                  color : #E7E7E7;
                  text-align: left;
                  --mdc-icon-size: 20px;
                  'background: url('https://raw.githubusercontent.com/Axelle78/test/master/test_fond5.jpg');
                  'background-size: 100% 400px;
                  'border-radius: 0px;
                  border-width: 0px !important;
                  background: none
                }
          - type: vertical-stack
            cards:
              - type: horizontal-stack
                cards:
                  - type: custom:swipe-card
                    parameters:
                      effect: coverflow
                    cards:
                      - type: custom:stack-in-card
                        mode: vertical
                        cards:
                          - type: custom:mushroom-person-card
                            entity: person.axelle
                            use_entity_picture: true
                            hide_name: false
                            layout: horizontal
                            card_mod:
                              style: |
                                ha-card {
                                    border: none;
                                    padding: 0;
                                     }
                                :host {
                                     --mush-icon-size: 80px;  
                                     --chip-box-shadow: none;
                                      --chip-background: none;
                                     } 
                                hui-vertical-stack-card $: |
                                  div#root > * {
                                  margin: 0px !important;
                                }
                          - type: custom:mushroom-chips-card
                            chips:
                              - type: template
                                icon_color: |2-
                                            {% set state=states('sensor.pixel_7a_battery_state') %}
                                            {% if state=='charging' %}
                                            green
                                            {% elif state=='discharging' %}
                                            #6f6f6f
                                           {% endif %}
                                entity: sensor.pixel_7a_battery_state
                                icon: mdi:power-plug
                                tap_action:
                                  action: more-info
                                card_mod:
                                  style: |
                                    ha-card {
                                       padding: 0;
                                      --chip-border-width: 0px;
                                      --chip-box-shadow: none;
                                      --chip-background: none;
                                      margin-top: -30px;
                                    padding-bottom: 0px;
                                    padding-left: 0px;
                                    padding-right: 0px;
                                    }
                                    hui-vertical-stack-card $: |
                                    div#root > * {
                                    margin: 0px !important;
                                    }
                              - type: template
                                entity: sensor.pixel_7a_battery_level
                                icon: |2
                                            {% set bl = states('sensor.pixel_7a_battery_level') | int %}
                                            {% if bl < 10 %} mdi:battery-outline
                                            {% elif bl < 20 %} mdi:battery-10
                                            {% elif bl < 30 %} mdi:battery-20
                                            {% elif bl < 40 %} mdi:battery-30
                                            {% elif bl < 50 %} mdi:battery-40
                                            {% elif bl < 60 %} mdi:battery-50
                                            {% elif bl < 70 %} mdi:battery-60
                                            {% elif bl < 80 %} mdi:battery-70
                                            {% elif bl < 90 %} mdi:battery-80
                                            {% elif bl < 100 %} mdi:battery-90
                                            {% elif bl == 100 %} mdi:battery
                                            {% else %} mdi:battery-unknown
                                            {% endif %}
                                icon_color: |2-
                                            {% set bl = states('sensor.pixel_7a_battery_level') | int %}
                                            {% if bl < 10 %} red
                                            {% elif bl < 20 %} red
                                            {% elif bl < 30 %} red
                                            {% elif bl < 40 %} orange
                                            {% elif bl < 50 %} orange
                                            {% elif bl < 60 %} green
                                            {% elif bl < 70 %} green
                                            {% elif bl < 80 %} green
                                            {% elif bl < 90 %} green
                                            {% elif bl < 100 %} green
                                            {% elif bl == 100 %} green
                                            {% else %} grey
                                            {% endif %}
                                content: >
                                  {% set bl =
                                  states('sensor.pixel_7a_battery_level') | int
                                  %}

                                  {% if bl < 100 %} 

                                  {{ states('sensor.pixel_7a_battery_level') |
                                  int }}%

                                  {% endif %}
                                tap_action:
                                  action: more-info
                                card_mod:
                                  style: |
                                    ha-card {
                                      padding: 0;
                                      --chip-border-width: 0px;
                                      --chip-box-shadow: none;
                                      --chip-background: none;
                                      padding-top: 0px;
                                    margin-top: -30px;
                                    padding-bottom: 0px;
                                    padding-left: 0px;
                                    padding-right: 0px;
                                    }
                                    hui-vertical-stack-card $: |
                                      div#root > * {
                                      margin: 0px !important;
                                    }
                            alignment: center
                      - type: custom:stack-in-card
                        mode: vertical
                        cards:
                          - type: custom:button-card
                            entity: person.axelle
                            show_name: false
                            show_icon: false
                            aspect_ratio: 4/2
                            size: 50px
                            styles:
                              card:
                                - padding: 4%
                              custom_fields:
                                name:
                                  - font-size: 20px;
                                  - position: absolute
                                  - left: 4%
                                  - top: 12%
                                  - color: '#ffffff'
                                steps:
                                  - font-size: 15px;
                                  - align-self: left
                                  - position: absolute
                                  - left: 4%
                                  - top: 35%
                                  - color: '#ffffff'
                                today:
                                  - font-size: 15px;
                                  - align-self: left
                                  - position: absolute
                                  - left: 4%
                                  - top: 55%
                                  - color: '#ffffff'
                                tomorrow:
                                  - font-size: 15px;
                                  - align-self: left
                                  - position: absolute
                                  - left: 4%
                                  - top: 75%
                                  - color: '#ffffff'
                            custom_fields:
                              name: |
                                [[[ return '<span> Axelle </span>'
                                ]]]
                              steps: |
                                [[[
                                  return `<ha-icon
                                    icon="mdi:shoe-formal"
                                    style="width: 20px; height: 20px;"></ha-icon
                                    <span> ${states['sensor.total_steps_2'].state}</span>`
                                ]]]
                              today: |
                                [[[
                                  if (states['calendar.axelle'].state == "on")
                                    return `<ha-icon
                                      icon="mdi:calendar-account-outline"
                                      style="width: 22px; height: 22px;">
                                      </ha-icon>
                                      <span>${states['sensor.today_axelle'].state}  </span>`
                                  else 
                                    return `<ha-icon
                                      icon="mdi:calendar-account-outline"
                                      style="width: 22px; height: 22px;">
                                      </ha-icon>
                                      <span> A la maison</span>`
                                ]]]
                              tomorrow: |
                                [[[
                                  if (states['input_text.agendaax'].state != "")
                                    return `<ha-icon
                                      icon="mdi:calendar-clock"
                                      style="width: 22px; height: 22px;">
                                      </ha-icon>
                                      <span>${states['input_text.agendaax'].state}  </span>`
                                  else 
                                    return `<ha-icon
                                      icon="mdi:calendar-clock"
                                      style="width: 22px; height: 22px;">
                                      </ha-icon>
                                      <span>A la maison</span>`
                                ]]]
                            card_mod:
                              style: |
                                ha-card { 
                                  background-color: rgba(0,0,0,0);
                                  box-shadow: none;
                                  font-color: white;
                                  font-size: 15;
                                }
                  - type: custom:swipe-card
                    parameters:
                      effect: coverflow
                    cards:
                      - type: custom:stack-in-card
                        mode: vertical
                        cards:
                          - type: custom:mushroom-person-card
                            entity: person.richard
                            use_entity_picture: true
                            hide_name: false
                            layout: horizontal
                            card_mod:
                              style: |
                                ha-card {
                                    border: none;
                                    padding: 0;
                                     }
                                :host {
                                     --mush-icon-size: 80px;  
                                     --chip-box-shadow: none;
                                      --chip-background: none;
                                     } 
                                hui-vertical-stack-card $: |
                                  div#root > * {
                                  margin: 0px !important;
                                }
                          - type: custom:mushroom-chips-card
                            chips:
                              - type: template
                                icon_color: |2-
                                            {% set state=states('sensor.samsung_a33_battery_state') %}
                                            {% if state=='charging' %}
                                            green
                                            {% elif state=='discharging' %}
                                            #6f6f6f
                                           {% endif %}
                                entity: sensor.pixel_7a_battery_state
                                icon: mdi:power-plug
                                tap_action:
                                  action: more-info
                                card_mod:
                                  style: |
                                    ha-card {
                                       padding: 0;
                                      --chip-border-width: 0px;
                                      --chip-box-shadow: none;
                                      --chip-background: none;
                                      margin-top: -30px;
                                    padding-bottom: 0px;
                                    padding-left: 0px;
                                    padding-right: 0px;
                                    }
                                    hui-vertical-stack-card $: |
                                    div#root > * {
                                    margin: 0px !important;
                                    }
                              - type: template
                                entity: sensor.samsung_a33_battery_level
                                icon: |2
                                            {% set bl = states('sensor.samsung_a33_battery_level') | int %}
                                            {% if bl < 10 %} mdi:battery-outline
                                            {% elif bl < 20 %} mdi:battery-10
                                            {% elif bl < 30 %} mdi:battery-20
                                            {% elif bl < 40 %} mdi:battery-30
                                            {% elif bl < 50 %} mdi:battery-40
                                            {% elif bl < 60 %} mdi:battery-50
                                            {% elif bl < 70 %} mdi:battery-60
                                            {% elif bl < 80 %} mdi:battery-70
                                            {% elif bl < 90 %} mdi:battery-80
                                            {% elif bl < 100 %} mdi:battery-90
                                            {% elif bl == 100 %} mdi:battery
                                            {% else %} mdi:battery-unknown
                                            {% endif %}
                                icon_color: |2-
                                            {% set bl = states('sensor.samsung_a33_battery_level') | int %}
                                            {% if bl < 10 %} red
                                            {% elif bl < 20 %} red
                                            {% elif bl < 30 %} red
                                            {% elif bl < 40 %} orange
                                            {% elif bl < 50 %} orange
                                            {% elif bl < 60 %} green
                                            {% elif bl < 70 %} green
                                            {% elif bl < 80 %} green
                                            {% elif bl < 90 %} green
                                            {% elif bl < 100 %} green
                                            {% elif bl == 100 %} green
                                            {% else %} grey
                                            {% endif %}
                                content: >
                                  {% set bl =
                                  states('sensor.samsung_a33_battery_level') |
                                  int %}

                                  {% if bl < 100 %} 

                                  {{ states('sensor.samsung_a33_battery_level')
                                  | int }}%

                                  {% endif %}
                                tap_action:
                                  action: more-info
                                card_mod:
                                  style: |
                                    ha-card {
                                      padding: 0;
                                      --chip-border-width: 0px;
                                      --chip-box-shadow: none;
                                      --chip-background: none;
                                      padding-top: 0px;
                                    margin-top: -30px;
                                    padding-bottom: 0px;
                                    padding-left: 0px;
                                    padding-right: 0px;
                                    }
                                    hui-vertical-stack-card $: |
                                      div#root > * {
                                      margin: 0px !important;
                                    }
                            alignment: center
                      - type: custom:stack-in-card
                        mode: vertical
                        cards:
                          - type: custom:button-card
                            entity: person.richard
                            show_name: false
                            show_icon: false
                            aspect_ratio: 4/2
                            size: 50px
                            styles:
                              card:
                                - padding: 4%
                              custom_fields:
                                name:
                                  - font-size: 20px;
                                  - position: absolute
                                  - left: 4%
                                  - top: 12%
                                  - color: '#ffffff'
                                steps:
                                  - font-size: 15px;
                                  - align-self: left
                                  - position: absolute
                                  - left: 4%
                                  - top: 35%
                                  - color: '#ffffff'
                                today:
                                  - font-size: 15px;
                                  - align-self: left
                                  - position: absolute
                                  - left: 4%
                                  - top: 55%
                                  - color: '#ffffff'
                                tomorrow:
                                  - font-size: 15px;
                                  - align-self: left
                                  - position: absolute
                                  - left: 4%
                                  - top: 75%
                                  - color: '#ffffff'
                            custom_fields:
                              name: |
                                [[[ return '<span> Richard </span>'
                                ]]]
                              steps: |
                                [[[
                                  return `<ha-icon
                                    icon="mdi:shoe-formal"
                                    style="width: 20px; height: 20px;"></ha-icon
                                    <span> ${states['sensor.total_steps'].state}</span>`
                                ]]]
                              today: |
                                [[[
                                  if (states['calendar.richard'].state == "on")
                                    return `<ha-icon
                                      icon="mdi:calendar-account-outline"
                                      style="width: 22px; height: 22px;">
                                      </ha-icon>
                                      <span>${states['sensor.today_richard'].state}  </span>`
                                  else 
                                    return `<ha-icon
                                      icon="mdi:calendar-account-outline"
                                      style="width: 22px; height: 22px;">
                                      </ha-icon>
                                      <span> A la maison</span>`
                                ]]]
                              tomorrow: |
                                [[[
                                  if (states['input_text.agendaax'].state != "")
                                    return `<ha-icon
                                      icon="mdi:calendar-clock"
                                      style="width: 22px; height: 22px;">
                                      </ha-icon>
                                      <span>${states['input_text.agendari'].state}  </span>`
                                  else 
                                    return `<ha-icon
                                      icon="mdi:calendar-clock"
                                      style="width: 22px; height: 22px;">
                                      </ha-icon>
                                      <span>A la maison</span>`
                                ]]]
                            card_mod:
                              style: |
                                ha-card { 
                                  background-color: rgba(0,0,0,0);
                                  box-shadow: none;
                                  font-color: white;
                                  font-size: 15;
                                }
              - type: horizontal-stack
                cards:
                  - type: custom:swipe-card
                    parameters:
                      effect: coverflow
                    cards:
                      - type: custom:stack-in-card
                        mode: vertical
                        cards:
                          - type: custom:mushroom-person-card
                            entity: person.chloe
                            use_entity_picture: true
                            hide_name: false
                            layout: horizontal
                            card_mod:
                              style: |
                                ha-card {
                                    border: none;
                                    padding: 0;
                                     }
                                :host {
                                     --mush-icon-size: 80px;  
                                     --chip-box-shadow: none;
                                      --chip-background: none;
                                     } 
                                hui-vertical-stack-card $: |
                                  div#root > * {
                                  margin: 0px !important;
                                }
                          - type: custom:mushroom-chips-card
                            chips:
                              - type: template
                                icon_color: |2-
                                            {% set state=states('sensor.sm_a528b_battery_state') %}
                                            {% if state=='charging' %}
                                            green
                                            {% elif state=='discharging' %}
                                            #6f6f6f
                                           {% endif %}
                                entity: sensor.pixel_7a_battery_state
                                icon: mdi:power-plug
                                tap_action:
                                  action: more-info
                                card_mod:
                                  style: |
                                    ha-card {
                                       padding: 0;
                                      --chip-border-width: 0px;
                                      --chip-box-shadow: none;
                                      --chip-background: none;
                                      margin-top: -30px;
                                    padding-bottom: 0px;
                                    padding-left: 0px;
                                    padding-right: 0px;
                                    }
                                    hui-vertical-stack-card $: |
                                    div#root > * {
                                    margin: 0px !important;
                                    }
                              - type: template
                                entity: sensor.sm_a528b_battery_level
                                icon: |2
                                            {% set bl = states('sensor.sm_a528b_battery_level') | int %}
                                            {% if bl < 10 %} mdi:battery-outline
                                            {% elif bl < 20 %} mdi:battery-10
                                            {% elif bl < 30 %} mdi:battery-20
                                            {% elif bl < 40 %} mdi:battery-30
                                            {% elif bl < 50 %} mdi:battery-40
                                            {% elif bl < 60 %} mdi:battery-50
                                            {% elif bl < 70 %} mdi:battery-60
                                            {% elif bl < 80 %} mdi:battery-70
                                            {% elif bl < 90 %} mdi:battery-80
                                            {% elif bl < 100 %} mdi:battery-90
                                            {% elif bl == 100 %} mdi:battery
                                            {% else %} mdi:battery-unknown
                                            {% endif %}
                                icon_color: |2-
                                            {% set bl = states('sensor.sm_a528b_battery_level') | int %}
                                            {% if bl < 10 %} red
                                            {% elif bl < 20 %} red
                                            {% elif bl < 30 %} red
                                            {% elif bl < 40 %} orange
                                            {% elif bl < 50 %} orange
                                            {% elif bl < 60 %} green
                                            {% elif bl < 70 %} green
                                            {% elif bl < 80 %} green
                                            {% elif bl < 90 %} green
                                            {% elif bl < 100 %} green
                                            {% elif bl == 100 %} green
                                            {% else %} grey
                                            {% endif %}
                                content: >
                                  {% set bl =
                                  states('sensor.sm_a528b_battery_level') | int
                                  %}

                                  {% if bl < 100 %} 

                                  {{ states('sensor.sm_a528b_battery_level') |
                                  int }}%

                                  {% endif %}
                                tap_action:
                                  action: more-info
                                card_mod:
                                  style: |
                                    ha-card {
                                      padding: 0;
                                      --chip-border-width: 0px;
                                      --chip-box-shadow: none;
                                      --chip-background: none;
                                      padding-top: 0px;
                                    margin-top: -30px;
                                    padding-bottom: 0px;
                                    padding-left: 0px;
                                    padding-right: 0px;
                                    }
                                    hui-vertical-stack-card $: |
                                      div#root > * {
                                      margin: 0px !important;
                                    }
                            alignment: center
                      - type: custom:stack-in-card
                        mode: vertical
                        cards:
                          - type: custom:button-card
                            entity: person.axelle
                            show_name: false
                            show_icon: false
                            aspect_ratio: 4/2
                            size: 50px
                            styles:
                              card:
                                - padding: 4%
                              custom_fields:
                                name:
                                  - font-size: 20px;
                                  - position: absolute
                                  - left: 4%
                                  - top: 12%
                                  - color: '#ffffff'
                                steps:
                                  - font-size: 15px;
                                  - align-self: left
                                  - position: absolute
                                  - left: 4%
                                  - top: 35%
                                  - color: '#ffffff'
                                today:
                                  - font-size: 15px;
                                  - align-self: left
                                  - position: absolute
                                  - left: 4%
                                  - top: 55%
                                  - color: '#ffffff'
                                tomorrow:
                                  - font-size: 15px;
                                  - align-self: left
                                  - position: absolute
                                  - left: 4%
                                  - top: 75%
                                  - color: '#ffffff'
                            custom_fields:
                              name: |
                                [[[ return '<span> Chloé </span>'
                                ]]]
                              steps: |
                                [[[
                                  return `<ha-icon
                                    icon="mdi:school"
                                    style="width: 20px; height: 20px;"></ha-icon
                                    <span> ${states['sensor.chloe_moyenne'].state}/20</span>`
                                ]]]
                              today: |
                                [[[
                                  if (states['sensor.debut_des_cours_de_chloe_aujourd_hui'].state == "Pas cours")
                                    return `<ha-icon
                                      icon="mdi:calendar-account-outline"
                                      style="width: 22px; height: 22px;">
                                      </ha-icon>
                                      <span> Pas cours </span>`
                                  else 
                                    return `<ha-icon
                                      icon="mdi:calendar-account-outline"
                                      style="width: 22px; height: 22px;">
                                      </ha-icon>
                                      <span> ${states['sensor.debut_des_cours_de_chloe_aujourd_hui'].state} - ${states['sensor.fin_des_cours_de_chloe_aujourd_hui'].state}</span>`
                                ]]]
                              tomorrow: |
                                [[[
                                  if (states['sensor.debut_des_cours_de_chloe_demain'].state == "Pas cours")
                                    return `<ha-icon
                                      icon="mdi:calendar-account-outline"
                                      style="width: 22px; height: 22px;">
                                      </ha-icon>
                                      <span> Pas cours </span>`
                                  else 
                                    return `<ha-icon
                                      icon="mdi:calendar-account-outline"
                                      style="width: 22px; height: 22px;">
                                      </ha-icon>
                                      <span> ${states['sensor.debut_des_cours_de_chloe_demain'].state} - ${states['sensor.fin_des_cours_de_chloe_demain'].state}</span>`
                                ]]]
                            card_mod:
                              style: |
                                ha-card { 
                                  background-color: rgba(0,0,0,0);
                                  box-shadow: none;
                                  font-color: white;
                                  font-size: 15;
                                }
                  - type: custom:swipe-card
                    parameters:
                      effect: coverflow
                    cards:
                      - type: custom:stack-in-card
                        mode: vertical
                        cards:
                          - type: custom:mushroom-person-card
                            entity: person.lucie
                            use_entity_picture: true
                            hide_name: false
                            layout: horizontal
                            card_mod:
                              style: |
                                ha-card {
                                    border: none;
                                    padding: 0;
                                     }
                                :host {
                                     --mush-icon-size: 80px;  
                                     --chip-box-shadow: none;
                                      --chip-background: none;
                                     } 
                                hui-vertical-stack-card $: |
                                  div#root > * {
                                  margin: 0px !important;
                                }
                          - type: custom:mushroom-chips-card
                            chips:
                              - type: template
                                icon_color: |2-
                                            {% set state=states('sensor.rmo_nx1_battery_state') %}
                                            {% if state=='charging' %}
                                            green
                                            {% elif state=='discharging' %}
                                            #6f6f6f
                                           {% endif %}
                                entity: sensor.pixel_7a_battery_state
                                icon: mdi:power-plug
                                tap_action:
                                  action: more-info
                                card_mod:
                                  style: |
                                    ha-card {
                                       padding: 0;
                                      --chip-border-width: 0px;
                                      --chip-box-shadow: none;
                                      --chip-background: none;
                                      margin-top: -30px;
                                    padding-bottom: 0px;
                                    padding-left: 0px;
                                    padding-right: 0px;
                                    }
                                    hui-vertical-stack-card $: |
                                    div#root > * {
                                    margin: 0px !important;
                                    }
                              - type: template
                                entity: sensor.rmo_nx1_battery_level
                                icon: |2
                                            {% set bl = states('sensor.rmo_nx1_battery_level') | int %}
                                            {% if bl < 10 %} mdi:battery-outline
                                            {% elif bl < 20 %} mdi:battery-10
                                            {% elif bl < 30 %} mdi:battery-20
                                            {% elif bl < 40 %} mdi:battery-30
                                            {% elif bl < 50 %} mdi:battery-40
                                            {% elif bl < 60 %} mdi:battery-50
                                            {% elif bl < 70 %} mdi:battery-60
                                            {% elif bl < 80 %} mdi:battery-70
                                            {% elif bl < 90 %} mdi:battery-80
                                            {% elif bl < 100 %} mdi:battery-90
                                            {% elif bl == 100 %} mdi:battery
                                            {% else %} mdi:battery-unknown
                                            {% endif %}
                                icon_color: |2-
                                            {% set bl = states('sensor.rmo_nx1_battery_level') | int %}
                                            {% if bl < 10 %} red
                                            {% elif bl < 20 %} red
                                            {% elif bl < 30 %} red
                                            {% elif bl < 40 %} orange
                                            {% elif bl < 50 %} orange
                                            {% elif bl < 60 %} green
                                            {% elif bl < 70 %} green
                                            {% elif bl < 80 %} green
                                            {% elif bl < 90 %} green
                                            {% elif bl < 100 %} green
                                            {% elif bl == 100 %} green
                                            {% else %} grey
                                            {% endif %}
                                content: >
                                  {% set bl =
                                  states('sensor.rmo_nx1_battery_level') | int
                                  %}

                                  {% if bl < 100 %} 

                                  {{ states('sensor.rmo_nx1_battery_level') |
                                  int }}%

                                  {% endif %}
                                tap_action:
                                  action: more-info
                                card_mod:
                                  style: |
                                    ha-card {
                                      padding: 0;
                                      --chip-border-width: 0px;
                                      --chip-box-shadow: none;
                                      --chip-background: none;
                                      padding-top: 0px;
                                    margin-top: -30px;
                                    padding-bottom: 0px;
                                    padding-left: 0px;
                                    padding-right: 0px;
                                    }
                                    hui-vertical-stack-card $: |
                                      div#root > * {
                                      margin: 0px !important;
                                    }
                            alignment: center
                      - type: custom:stack-in-card
                        mode: vertical
                        cards:
                          - type: custom:button-card
                            entity: person.axelle
                            show_name: false
                            show_icon: false
                            aspect_ratio: 4/2
                            size: 50px
                            styles:
                              card:
                                - padding: 4%
                              custom_fields:
                                name:
                                  - font-size: 20px;
                                  - position: absolute
                                  - left: 4%
                                  - top: 12%
                                  - color: '#ffffff'
                                steps:
                                  - font-size: 15px;
                                  - align-self: left
                                  - position: absolute
                                  - left: 4%
                                  - top: 35%
                                  - color: '#ffffff'
                                today:
                                  - font-size: 15px;
                                  - align-self: left
                                  - position: absolute
                                  - left: 4%
                                  - top: 55%
                                  - color: '#ffffff'
                                tomorrow:
                                  - font-size: 15px;
                                  - align-self: left
                                  - position: absolute
                                  - left: 4%
                                  - top: 75%
                                  - color: '#ffffff'
                            custom_fields:
                              name: |
                                [[[ return '<span> Lucie </span>'
                                ]]]
                              steps: |
                                [[[
                                  return `<ha-icon
                                    icon="mdi:school"
                                    style="width: 20px; height: 20px;"></ha-icon
                                    <span> ${states['sensor.moyenne_lucie'].state}/20</span>`
                                ]]]
                              today: |
                                [[[
                                  if (states['sensor.debut_des_cours_de_lucie_aujourd_hui'].state == "Pas cours")
                                    return `<ha-icon
                                      icon="mdi:calendar-account-outline"
                                      style="width: 22px; height: 22px;">
                                      </ha-icon>
                                      <span> Pas cours </span>`
                                  else 
                                    return `<ha-icon
                                      icon="mdi:calendar-account-outline"
                                      style="width: 22px; height: 22px;">
                                      </ha-icon>
                                      <span> ${states['sensor.debut_des_cours_de_lucie_aujourd_hui'].state} - ${states['sensor.fin_des_cours_de_lucie_aujourd_hui'].state}</span>`
                                ]]]
                              tomorrow: |
                                [[[
                                  if (states['sensor.debut_des_cours_de_lucie_demain'].state == "Pas cours")
                                    return `<ha-icon
                                      icon="mdi:calendar-account-outline"
                                      style="width: 22px; height: 22px;">
                                      </ha-icon>
                                      <span> Pas cours </span>`
                                  else 
                                    return `<ha-icon
                                      icon="mdi:calendar-account-outline"
                                      style="width: 22px; height: 22px;">
                                      </ha-icon>
                                      <span> ${states['sensor.debut_des_cours_de_lucie_demain'].state} - ${states['sensor.fin_des_cours_de_lucie_demain'].state}</span>`
                                ]]]
                            card_mod:
                              style: |
                                ha-card { 
                                  background-color: rgba(0,0,0,0);
                                  box-shadow: none;
                                  font-color: white;
                                  font-size: 15;
                                }
          - type: markdown
            content: '<ha-icon icon="mdi:radiator"></ha-icon> Chauffages '
            card_mod:
              style: |
                ha-card {
                  margin-bottom: -3px; 
                  text-shadow: 0px 5px 5px rgba(0,0,0,1);
                  font-size: 20px;
                  color : #E7E7E7;
                  text-align: left;
                  --mdc-icon-size: 20px;
                  'background: url('https://raw.githubusercontent.com/Axelle78/test/master/test_fond5.jpg');
                  'background-size: 100% 400px;
                  'border-radius: 0px;
                  border-width: 0px !important;
                  background: none
                }
          - type: vertical-stack
            cards:
              - type: custom:simple-thermostat
                entity: climate.chauffage_salon
                layout:
                  mode:
                    names: false
                    icons: true
                    headings: false
                  step: row
                control:
                  hvac: true
                card_mod:
                  style: |
                    ha-card {
                    --st-font-size-xl: 20px;
                    --st-font-size-m: 16px;
                    --st-font-size-title: 20px;
                    --st-font-size-sensors: 14px;
                    --st-spacing: 3px;
                    }
              - type: custom:simple-thermostat
                entity: climate.chauffage_chloe
                layout:
                  mode:
                    names: false
                    icons: true
                    headings: false
                  step: row
                control:
                  hvac: true
                sensors:
                  - entity: sensor.chauffage_chloe_power
                    name: Power
                  - entity: sensor.kwh_chloe_quotidien
                    name: Conso
                card_mod:
                  style: |
                    ha-card {
                     --st-font-size-xl: 20px;
                     --st-font-size-m: 16px;
                     --st-font-size-title: 20px;
                     --st-font-size-sensors: 14px;
                     --st-spacing: 3px;
                     }
              - type: custom:simple-thermostat
                entity: climate.chauffage_lucie
                layout:
                  mode:
                    names: false
                    icons: true
                    headings: false
                  step: row
                control:
                  hvac: true
                sensors:
                  - entity: sensor.chauffage_lucie_power
                    name: Power
                  - entity: sensor.kwh_lucie_quotidien
                    name: Conso
                card_mod:
                  style: |
                    ha-card {
                     --st-font-size-xl: 20px;
                     --st-font-size-m: 16px;
                     --st-font-size-title: 20px;
                     --st-font-size-sensors: 14px;
                     --st-spacing: 3px;
                     }
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:simple-clock-card
                use_military: true
                hide_seconds: false
                font_size: 6em
                paddingLeft_size: 30px
                paddingRight_size: 40px
                paddingTop_size: 40px
                paddingBottom_size: 40px
                card_mod:
                  style: |
                    ha-card {
                      margin-bottom : -5px;

                      }
          - type: entities
            entities:
              - entity: input_select.camera
          - type: markdown
            content: '<ha-icon icon="mdi:weather-partly-rainy"></ha-icon> Météo '
            card_mod:
              style: |
                ha-card {
                  text-shadow: 0px 5px 5px rgba(0,0,0,1);
                  margin-bottom: -3px; 
                  font-size: 20px;
                  color : #E7E7E7;
                  text-align: left;
                  --mdc-icon-size: 20px;
                  'background: url('https://raw.githubusercontent.com/Axelle78/test/master/test_fond5.jpg');
                  'background-size: 100% 400px;
                  'border-radius: 0px;
                  border-width: 0px !important;
                  background: none
                }
          - show_current: true
            show_forecast: true
            type: weather-forecast
            entity: weather.mantes_la_jolie
            forecast_type: daily
            secondary_info_attribute: humidity
          - type: markdown
            content: >-
              <ha-icon icon="mdi:solar-power-variant-outline"></ha-icon>
              Panneaux solaires
            card_mod:
              style: |
                ha-card {
                  margin-bottom: -3px;
                  text-shadow: 0px 5px 5px rgba(0,0,0,1);
                  font-size: 20px;
                  color : #E7E7E7;
                  text-align: left;
                  --mdc-icon-size: 20px;
                  'background: url('https://raw.githubusercontent.com/Axelle78/test/master/test_fond5.jpg');
                  'background-size: 100% 400px;
                  'border-radius: 0px;
                  border-width: 0px !important;
                  background: none
                }
          - type: custom:power-distribution-card
            entities:
              - decimals: '0'
                display_abs: true
                name: solar
                unit_of_display: W
                icon: mdi:solar-power
                producer: true
                entity: sensor.envoy_122250004672_current_power_production
                preset: solar
                icon_color:
                  bigger: green
                  equal: gray
                  smaller: red
              - decimals: '0'
                display_abs: true
                name: Export
                unit_of_display: W
                icon: mdi:lightning-bolt-outline
                producer: true
                entity: sensor.energy_exporting
                preset: producer
                icon_color:
                  bigger: green
                  equal: gray
                  smaller: red
                calc_excluded: true
              - decimals: '0'
                display_abs: true
                name: conso
                unit_of_display: W
                consumer: true
                icon: mdi:home
                entity: sensor.envoy_122250004672_current_power_consumption
                preset: consumer
                icon_color:
                  bigger: red
                  equal: green
                  smaller: red
                invert_value: true
              - decimals: '0'
                display_abs: true
                name: Import
                unit_of_display: W
                icon: mdi:transmission-tower
                entity: sensor.energy_importing
                preset: grid
                icon_color:
                  bigger: red
                  equal: gray
                  smaller: red
                invert_value: true
            center:
              type: bars
              content:
                - preset: ratio
                  name: use
                  bar_color: green
                  bar_bg_color: ''
                  entity: ''
                  invert_value: false
                - preset: autarky
                  name: indep
                  bar_color: blue
            animation: flash
            card_mod:
              style: |
                ha-card .title {
                  font-size: 12px;
                }
          - type: custom:power-distribution-card
            entities:
              - decimals: '1'
                display_abs: true
                name: solar
                unit_of_display: kWh
                icon: mdi:solar-power
                producer: true
                entity: sensor.envoy_122250004672_today_s_energy_production
                preset: solar
                icon_color:
                  bigger: green
                  equal: gray
                  smaller: red
                invert_value: false
                hide_arrows: true
              - decimals: '1'
                display_abs: true
                name: Export
                unit_of_display: kWh
                icon: mdi:lightning-bolt-outline
                producer: true
                entity: sensor.daily_energy_export
                preset: producer
                icon_color:
                  bigger: green
                  equal: gray
                  smaller: red
                calc_excluded: true
                invert_value: false
                hide_arrows: true
              - decimals: '1'
                display_abs: true
                name: conso
                unit_of_display: kWh
                consumer: true
                icon: mdi:home
                entity: sensor.envoy_122250004672_today_s_energy_consumption
                preset: consumer
                icon_color:
                  bigger: red
                  equal: green
                  smaller: red
                invert_value: true
                hide_arrows: true
              - decimals: '1'
                display_abs: true
                name: Import
                unit_of_display: kWh
                icon: mdi:transmission-tower
                entity: sensor.daily_energy_import
                preset: grid
                icon_color:
                  bigger: red
                  equal: gray
                  smaller: green
                invert_value: true
                hide_arrows: true
            center:
              type: bars
              content:
                - preset: ratio
                  name: use
                  bar_color: green
                  bar_bg_color: ''
                  entity: ''
                  invert_value: false
                - preset: autarky
                  name: indep
                  bar_color: yellow
            animation: flash
      - type: vertical-stack
        cards:
          - type: markdown
            content: <ha-icon icon="mdi:home-lightning-bolt"></ha-icon> Tempo EDF
            card_mod:
              style: |
                ha-card {
                  margin-bottom: -3px; 
                  text-shadow: 0px 5px 5px rgba(0,0,0,1);
                  font-size: 20px;
                  color : #E7E7E7;
                  text-align: left;
                  --mdc-icon-size: 20px;
                  'background: url('https://raw.githubusercontent.com/Axelle78/test/master/test_fond5.jpg');
                  'background-size: 100% 400px;
                  'border-radius: 0px;
                  border-width: 0px !important;
                  background: none
                }
          - type: horizontal-stack
            cards:
              - type: horizontal-stack
                cards:
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: sensor.rte_tempo_couleur_actuelle
                        state: Rouge
                    card:
                      type: markdown
                      content: >-
                        Aujourd'hui  <br/> <img
                        src="https://raw.githubusercontent.com/Axelle78/test/master/panneau.png"
                        width=15% height=10% > <br/> {{
                        (states('sensor.edf_tempo_prix_actuel')| float / 100
                        )|round(3)}} €
                      card_mod:
                        style: |
                          ha-markdown {
                           padding: 10 0 -5 0 !important;
                          }
                          ha-card {
                           margin-bottom: -4px;
                           font-size: 15px;
                           color : #E7E7E7;
                           text-align: center;
                           --mdc-icon-size: 20px;
                           background: url('https://raw.githubusercontent.com/Axelle78/test/master/rouge.png');
                           background-size: 100% 400px;
                           border-radius:10px;
                          }
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: sensor.rte_tempo_couleur_actuelle
                        state: Blanc
                    card:
                      type: markdown
                      content: >-
                        Aujourd'hui  <br/> <img
                        src="https://raw.githubusercontent.com/Axelle78/test/master/OK.png"
                        width=15% height=10% > <br/> {{
                        (states('sensor.edf_tempo_prix_actuel')| float / 100
                        )|round(3)}} €
                      card_mod:
                        style: |
                          ha-markdown {
                           padding: 10 0 -5 0 !important;
                          }
                          ha-card {
                           margin-bottom: -10px;
                           font-size: 15px;
                           color : #000000;
                           text-align: center;
                           --mdc-icon-size: 20px;
                           background: url('https://raw.githubusercontent.com/Axelle78/test/master/blanc.png');
                           background-size: 100% 400px;
                           border-radius:10px;
                          }
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: sensor.rte_tempo_couleur_actuelle
                        state: Bleu
                    card:
                      type: markdown
                      content: >-
                        Aujourd'hui  <br/> <img
                        src="https://raw.githubusercontent.com/Axelle78/test/master/OK.png"
                        width=15% height=10% > <br/> {{
                        (states('sensor.edf_tempo_prix_actuel')| float / 100
                        )|round(3)}} €
                      card_mod:
                        style: |
                          ha-markdown {
                           padding: 10 0 -5 0 !important;
                          }
                          ha-card {
                           margin-bottom: -10px;
                           font-size: 15px;
                           color : #E7E7E7;
                           text-align: center;
                           --mdc-icon-size: 20px;
                           background: url('https://raw.githubusercontent.com/Axelle78/test/master/bleu.png');
                           background-size: 100% 400px;
                           border-radius:10px;
                          }
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: sensor.rte_tempo_couleur_actuelle
                        state: inconnu
                    card:
                      type: markdown
                      content: >-
                        Aujourd'hui  <br/> <img
                        src="https://raw.githubusercontent.com/Axelle78/test/master/interrog.png"
                        width=15% height=10% > <br/> {{
                        (states('sensor.edf_tempo_prix_actuel')| float / 100
                        )|round(3)}} €
                      card_mod:
                        style: |
                          ha-markdown {
                           padding: 10 0 -5 0 !important;
                          }
                          ha-card {
                           margin-bottom: -10px;
                           font-size: 15px;
                           color : #E7E7E7;
                           text-align: center;
                           --mdc-icon-size: 20px;
                           background-size: 100% 400px;
                           border-radius:10px;
                          }
              - type: horizontal-stack
                cards:
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: sensor.rte_tempo_prochaine_couleur
                        state: Rouge
                    card:
                      type: markdown
                      content: >-
                        Demain  <br/> <img
                        src="https://raw.githubusercontent.com/Axelle78/test/master/panneau.png"
                        width=15% height=10% > <br/> HP  {{
                        (states('input_number.tarif_edf_tempo_rouge_hp')| float
                        / 1 )|round(3)}} € <br/> HC {{
                        (states('input_number.tarif_edf_tempo_rouge_hc')| float
                        / 1 )|round(3)}} €
                      card_mod:
                        style: |
                          ha-markdown {
                           padding: 10 0 -5 0 !important;
                          }
                          ha-card {
                           margin-bottom: -10px;
                           font-size: 15px;
                           color : #E7E7E7;
                           text-align: center;
                           --mdc-icon-size: 20px;
                           background: url('https://raw.githubusercontent.com/Axelle78/test/master/rouge.png');
                           background-size: 100% 400px;
                           border-radius:10px;
                          }
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: sensor.rte_tempo_prochaine_couleur
                        state: Blanc
                    card:
                      type: markdown
                      content: >-
                        Demain  <br/> <img
                        src="https://raw.githubusercontent.com/Axelle78/test/master/OK.png"
                        width=15% height=10% > <br/> HP  {{
                        (states('input_number.tarif_edf_tempo_blanc_hp')| float
                        / 1 )|round(3)}} € <br/> HC {{
                        (states('input_number.tarif_edf_tempo_blanc_hc')| float
                        / 1 )|round(3)}} €
                      card_mod:
                        style: |
                          ha-markdown {
                           padding: 10 0 -5 0 !important;
                          }
                          ha-card {
                           margin-bottom: -10px;
                           font-size: 15px;
                           color : #000000;
                           text-align: center;
                           --mdc-icon-size: 20px;
                           background: url('https://raw.githubusercontent.com/Axelle78/test/master/blanc.png');
                           background-size: 100% 400px;
                           border-radius:10px;
                          }
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: sensor.rte_tempo_prochaine_couleur
                        state: Bleu
                    card:
                      type: markdown
                      content: >-
                        Demain  <br/> <img
                        src="https://raw.githubusercontent.com/Axelle78/test/master/OK.png"
                        width=15% height=10% > <br/> HP  {{
                        (states('input_number.tarif_edf_tempo_bleu_hp')| float /
                        1 )|round(3)}} € <br/> HC {{
                        (states('input_number.tarif_edf_tempo_bleu_hc')| float /
                        1 )|round(3)}} €
                      card_mod:
                        style: |
                          ha-markdown {
                           padding: 10 0 -5 0 !important;
                          }
                          ha-card {
                           margin-bottom: -10px;
                           font-size: 15px;
                           color : #E7E7E7;
                           text-align: center;
                           --mdc-icon-size: 20px;
                           background: url('https://raw.githubusercontent.com/Axelle78/test/master/bleu.png');
                           background-size: 100% 400px;
                           border-radius:10px;
                          }
                  - type: conditional
                    conditions:
                      - condition: state
                        entity: sensor.rte_tempo_prochaine_couleur
                        state: inconnu
                    card:
                      type: markdown
                      content: >-
                        Demain  <br/> <img
                        src="https://raw.githubusercontent.com/Axelle78/test/master/interrog.png"
                        width=15% height=10% > <br/> 
                      card_mod:
                        style: |
                          ha-card {
                           margin-bottom: -10px;
                           font-size: 15px;
                           color : #000000;
                           text-align: center;
                           --mdc-icon-size: 20px;
                           background-size: 100% 400px;
                           border-radius:10px;
                          }
          - type: horizontal-stack
            cards:
              - type: markdown
                content: >-
                  <b>Rouge</b>  <br/> <br/>{{
                  states('sensor.rte_tempo_cycle_jours_restants_rouge') }} / {{
                  ( (states('sensor.rte_tempo_cycle_jours_restants_rouge') |
                  float(default=0) ) +
                  (states('sensor.rte_tempo_cycle_jours_deja_places_rouge') |
                  float(default=0) ) ) | round(0) }}
                     HP  {{
                        (states('input_number.tarif_edf_tempo_rouge_hp')| float / 1
                        )|round(3)}} € <br/> HC {{
                        (states('input_number.tarif_edf_tempo_rouge_hc')| float / 1
                        )|round(3)}} €
                card_mod:
                  style: |
                    ha-card {
                     margin-bottom: -10px;
                     font-size: 16px;
                     color : #000000;
                     text-align: center;
                     --mdc-icon-size: 18px;
                     background: url('https://raw.githubusercontent.com/Axelle78/test/master/rouge.png');
                     background-size: 100% 400px;
                     border-radius:5px;
                    }
              - type: markdown
                content: >-
                  <b>Blanc</b>  <br/> <br/>{{
                  states('sensor.rte_tempo_cycle_jours_restants_blanc') }} / {{
                  ( (states('sensor.rte_tempo_cycle_jours_restants_blanc') |
                  float(default=0) ) +
                  (states('sensor.rte_tempo_cycle_jours_deja_places_blanc') |
                  float(default=0) ) ) | round(0) }}
                     HP  {{
                        (states('input_number.tarif_edf_tempo_blanc_hp')| float / 1
                        )|round(3)}} € <br/> HC {{
                        (states('input_number.tarif_edf_tempo_blanc_hc')| float / 1
                        )|round(3)}} €
                card_mod:
                  style: |
                    ha-card {
                     margin-bottom: -10px;
                     font-size: 16px;
                     color : #000000;
                     text-align: center;
                     --mdc-icon-size: 18px;
                     background: url('https://raw.githubusercontent.com/Axelle78/test/master/blanc.png');
                     background-size: 100% 400px;
                     border-radius:5px;
                    }
              - type: markdown
                content: >-
                  <b>Bleu</b>  <br/> <br/>{{
                  states('sensor.rte_tempo_cycle_jours_restants_bleu') }} / {{ (
                  (states('sensor.rte_tempo_cycle_jours_restants_bleu') |
                  float(default=0) ) +
                  (states('sensor.rte_tempo_cycle_jours_deja_places_bleu') |
                  float(default=0) ) ) | round(0) }}
                     HP  {{
                        (states('input_number.tarif_edf_tempo_bleu_hp')| float / 1
                        )|round(3)}} € <br/> HC {{
                        (states('input_number.tarif_edf_tempo_bleu_hc')| float / 1
                        )|round(3)}} €
                card_mod:
                  style: |
                    ha-card {
                     margin-bottom: -10px;
                     font-size: 16px;
                     color : #E7E7E7;
                     text-align: center;
                     --mdc-icon-size: 18px;
                     background: url('https://raw.githubusercontent.com/Axelle78/test/master/bleu.png');
                     background-size: 100% 400px;
                     border-radius:5px;
                    }
          - type: markdown
            content: >-
              <ha-icon icon="mdi:lightning-bolt-circle"></ha-icon> Données
              Ecojoko du jour
            card_mod:
              style: |
                ha-card {
                  margin-bottom: -3px; 
                  text-shadow: 0px 5px 5px rgba(0,0,0,1);
                  font-size: 20px;
                  color : #E7E7E7;
                  text-align: left;
                  --mdc-icon-size: 20px;
                  'background: url('https://raw.githubusercontent.com/Axelle78/test/master/test_fond5.jpg');
                  'background-size: 100% 400px;
                  'border-radius: 0px;
                  border-width: 0px !important;
                  background: none
                }
          - type: horizontal-stack
            cards:
              - type: horizontal-stack
                cards:
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.evol_cout_hier
                        above: 0
                    card:
                      type: custom:button-card
                      entity: sensor.cout_tempo_jour_total
                      label: |
                        [[[
                           var label = ""
                            label = '<b>Coûts</b><hr width="400" size="1" align=center color ="#FFFFFF"></hr>' + states['sensor.cout_tempo_jour_total'].state + ' € <br>' + states['sensor.evol_cout_hier'].state + ' % <br><br>' + '<img src="https://raw.githubusercontent.com/Axelle78/test/master/fleche_rouge_aug.png" width=20% height=20% >'
                            return label;
                        ]]]
                      show_label: true
                      show_icon: false
                      show_state: false
                      show_name: false
                      tap_action:
                        action: fire-dom-event
                        browser_mod:
                          service: browser_mod.popup
                          data:
                            browser_id: THIS
                            size: normal
                            title: Suivi des coûts sur 24h
                            content:
                              type: custom:config-template-card
                              entities:
                                - sensor.cout_tempo_jour_total
                              card:
                                type: custom:mini-graph-card
                                animate: true
                                name: Côuts EDF
                                entities:
                                  - sensor.cout_tempo_jour_total
                                labels: true
                                font_size: 60
                                line_color: green
                                points_per_hour: 6
                                hours_to_show: >-
                                  ${

                                  var date = new Date();

                                  var curHour = date.getHours() +
                                  (date.getMinutes()/60.0)-1 +
                                  date.getSeconds()/3600.0;

                                  curHour

                                  }
                                height: 100
                                show:
                                  labels: true
                      card_mod:
                        style: |
                          ha-card {
                           border-radius:10px; 
                           padding-top: 5px;
                           box-shadow: 
                           {%- set couleur= states('sensor.rte_tempo_couleur_actuelle') %}
                           {%- if couleur=='Bleu' %} 0px 0px 10px 3px rgba(50,130,246)  
                           {%- elif couleur=='Blanc' %} 0px 0px 10px 3px rgba(246,246,246)
                           {%- elif couleur=='Rouge' %} 0px 0px 10px 3px rgba(246,47,8)
                           {%- else %} 0px 0px 10px 3px rgba(195,195,195)
                           {%- endif %}
                          } 
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.evol_cout_hier
                        below: 0
                    card:
                      type: custom:button-card
                      entity: sensor.cout_tempo_jour_total
                      label: |
                        [[[
                           var label = ""
                            label = '<b>Coûts</b><hr width="400" size="1" align=center color ="#FFFFFF"></hr>' + states['sensor.cout_tempo_jour_total'].state + ' € <br>' + states['sensor.evol_cout_hier'].state + ' % <br><br>' + '<img src="https://raw.githubusercontent.com/Axelle78/test/master/fleche_vert_dim.png" width=20% height=20% >'
                            return label;
                        ]]]
                      show_label: true
                      show_icon: false
                      show_state: false
                      show_name: false
                      tap_action:
                        action: fire-dom-event
                        browser_mod:
                          service: browser_mod.popup
                          data:
                            browser_id: THIS
                            size: normal
                            title: Suivi des coûts sur 24h
                            content:
                              type: custom:config-template-card
                              entities:
                                - sensor.cout_tempo_jour_total
                              card:
                                type: custom:mini-graph-card
                                animate: true
                                name: Côuts EDF
                                entities:
                                  - sensor.cout_tempo_jour_total
                                labels: true
                                font_size: 60
                                line_color: green
                                points_per_hour: 6
                                hours_to_show: >-
                                  ${

                                  var date = new Date();

                                  var curHour = date.getHours() +
                                  (date.getMinutes()/60.0)-1 +
                                  date.getSeconds()/3600.0;

                                  curHour

                                  }
                                height: 100
                                show:
                                  labels: true
                      card_mod:
                        style: |
                          ha-card {
                           border-radius:10px; 
                           box-shadow: 
                           {%- set couleur= states('sensor.rte_tempo_couleur_actuelle') %}
                           {%- if couleur=='Bleu' %} 0px 0px 10px 3px rgba(50,130,246)  
                           {%- elif couleur=='Blanc' %} 0px 0px 10px 3px rgba(246,246,246)
                           {%- elif couleur=='Rouge' %} 0px 0px 10px 3px rgba(246,47,8)
                           {%- else %} 0px 0px 10px 3px rgba(195,195,195)
                           {%- endif %}
                          } 
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.evol_conso_hier
                        above: 0
                    card:
                      type: custom:button-card
                      entity: sensor.conso_tempo_jour_total
                      label: |
                        [[[
                           var label = ""
                            label = '<b>Conso</b><hr width="400" size="1" align=center color ="#FFFFFF"></hr>' + states['sensor.conso_tempo_jour_total'].state + ' kWh <br>' + states['sensor.evol_conso_hier'].state + ' % <br><br>' + '<img src="https://raw.githubusercontent.com/Axelle78/test/master/fleche_rouge_aug.png" width=20% height=20% >'
                            return label;
                        ]]]
                      show_label: true
                      show_icon: false
                      show_state: false
                      show_name: false
                      tap_action:
                        action: fire-dom-event
                        browser_mod:
                          service: browser_mod.popup
                          data:
                            browser_id: THIS
                            size: normal
                            title: Suivi de la consommation
                            content:
                              type: custom:config-template-card
                              entities:
                                - sensor.conso_tempo_jour_total
                              card:
                                type: custom:mini-graph-card
                                animate: true
                                name: Conso EDF
                                entities:
                                  - sensor.conso_tempo_jour_total
                                labels: true
                                font_size: 60
                                line_color: green
                                points_per_hour: 6
                                hours_to_show: >-
                                  ${

                                  var date = new Date();

                                  var curHour = date.getHours() +
                                  (date.getMinutes()/60.0)-1 +
                                  date.getSeconds()/3600.0;

                                  curHour

                                  }
                                height: 100
                                show:
                                  labels: true
                      card_mod:
                        style: |
                          ha-card {
                           border-radius:10px; 
                           box-shadow: 
                           {%- set couleur= states('sensor.rte_tempo_couleur_actuelle') %}
                           {%- if couleur=='Bleu' %} 0px 0px 10px 3px rgba(50,130,246)  
                           {%- elif couleur=='Blanc' %} 0px 0px 10px 3px rgba(246,246,246)
                           {%- elif couleur=='Rouge' %} 0px 0px 10px 3px rgba(246,47,8)
                           {%- else %} 0px 0px 10px 3px rgba(195,195,195)
                           {%- endif %}
                          } 
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.evol_conso_hier
                        below: 0
                    card:
                      type: custom:button-card
                      entity: sensor.conso_tempo_jour_total
                      label: |
                        [[[
                           var label = ""
                            label = '<b>Conso</b><hr width="400" size="1" align=center color ="#FFFFFF"></hr>' + states['sensor.conso_tempo_jour_total'].state + ' kWh <br>' + states['sensor.evol_conso_hier'].state + ' % <br><br>' + '<img src="https://raw.githubusercontent.com/Axelle78/test/master/fleche_vert_dim.png" width=20% height=20% >'
                            return label;
                        ]]]
                      show_label: true
                      show_icon: false
                      show_state: false
                      show_name: false
                      tap_action:
                        action: fire-dom-event
                        browser_mod:
                          service: browser_mod.popup
                          data:
                            browser_id: THIS
                            size: normal
                            title: Suivi de la consommation
                            content:
                              type: custom:config-template-card
                              entities:
                                - sensor.conso_tempo_jour_total
                              card:
                                type: custom:mini-graph-card
                                animate: true
                                name: Conso EDF
                                entities:
                                  - sensor.conso_tempo_jour_total
                                labels: true
                                font_size: 60
                                line_color: green
                                points_per_hour: 6
                                hours_to_show: >-
                                  ${

                                  var date = new Date();

                                  var curHour = date.getHours() +
                                  (date.getMinutes()/60.0)-1 +
                                  date.getSeconds()/3600.0;

                                  curHour

                                  }
                                height: 100
                                show:
                                  labels: true
                      card_mod:
                        style: |
                          ha-card {
                           border-radius:10px; 
                           box-shadow: 
                           {%- set couleur= states('sensor.rte_tempo_couleur_actuelle') %}
                           {%- if couleur=='Bleu' %} 0px 0px 10px 3px rgba(50,130,246)  
                           {%- elif couleur=='Blanc' %} 0px 0px 10px 3px rgba(246,246,246)
                           {%- elif couleur=='Rouge' %} 0px 0px 10px 3px rgba(246,47,8)
                           {%- else %} 0px 0px 10px 3px rgba(195,195,195)
                           {%- endif %}
                          } 
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.evol_production_hier
                        above: 0.01
                    card:
                      type: custom:button-card
                      entity: sensor.prodution_kwh
                      label: |
                        [[[
                           var label = ""
                            label = '<b>Production</b><hr width="400" size="1" align=center color ="#FFFFFF"></hr>' + states['sensor.prodution_kwh'].state + ' kWh <br>' + states['sensor.evol_production_hier'].state + ' % <br><br>' + '<img src="https://raw.githubusercontent.com/Axelle78/test/master/fleche_vert_aug.png" width=20% height=20% >'
                            return label;
                        ]]]
                      show_label: true
                      show_icon: false
                      show_state: false
                      show_name: false
                      tap_action:
                        action: fire-dom-event
                        browser_mod:
                          service: browser_mod.popup
                          data:
                            browser_id: THIS
                            size: normal
                            title: Suivi de la production
                            content:
                              type: custom:config-template-card
                              entities:
                                - sensor.prodution_kwh
                              card:
                                type: custom:mini-graph-card
                                animate: true
                                name: Production Panneaux
                                entities:
                                  - sensor.prodution_kwh
                                labels: true
                                font_size: 60
                                line_color: green
                                points_per_hour: 6
                                hours_to_show: >-
                                  ${

                                  var date = new Date();

                                  var curHour = date.getHours() +
                                  (date.getMinutes()/60.0)-1 +
                                  date.getSeconds()/3600.0;

                                  curHour

                                  }
                                height: 100
                                show:
                                  labels: true
                      card_mod:
                        style: |
                          ha-card {
                           border-radius:10px; 
                           box-shadow: 
                           {%- set couleur= states('sensor.rte_tempo_couleur_actuelle') %}
                           {%- if couleur=='Bleu' %} 0px 0px 10px 3px rgba(50,130,246)  
                           {%- elif couleur=='Blanc' %} 0px 0px 10px 3px rgba(246,246,246)
                           {%- elif couleur=='Rouge' %} 0px 0px 10px 3px rgba(246,47,8)
                           {%- else %} 0px 0px 10px 3px rgba(195,195,195)
                           {%- endif %}
                          } 
                  - type: conditional
                    conditions:
                      - condition: numeric_state
                        entity: sensor.evol_production_hier
                        below: 0
                    card:
                      type: custom:button-card
                      entity: sensor.prodution_kwh
                      label: |
                        [[[
                           var label = ""
                            label = '<b>Production</b><hr width="400" size="1" align=center color ="#FFFFFF"></hr>' + states['sensor.prodution_kwh'].state + ' kWh <br>' + states['sensor.evol_production_hier'].state + ' % <br><br>' + '<img src="https://raw.githubusercontent.com/Axelle78/test/master/fleche_rouge_dim.png" width=20% height=20% >'
                            return label;
                        ]]]
                      show_label: true
                      show_icon: false
                      show_state: false
                      show_name: false
                      tap_action:
                        action: fire-dom-event
                        browser_mod:
                          service: browser_mod.popup
                          data:
                            browser_id: THIS
                            size: normal
                            title: Suivi de la production
                            content:
                              type: custom:config-template-card
                              entities:
                                - sensor.prodution_kwh
                              card:
                                type: custom:mini-graph-card
                                animate: true
                                name: Production Panneaux
                                entities:
                                  - sensor.prodution_kwh
                                labels: true
                                font_size: 60
                                line_color: green
                                points_per_hour: 6
                                hours_to_show: >-
                                  ${

                                  var date = new Date();

                                  var curHour = date.getHours() +
                                  (date.getMinutes()/60.0)-1 +
                                  date.getSeconds()/3600.0;

                                  curHour

                                  }
                                height: 100
                                show:
                                  labels: true
                      card_mod:
                        style: |
                          ha-card {
                           border-radius:10px; 
                           box-shadow: 
                           {%- set couleur= states('sensor.rte_tempo_couleur_actuelle') %}
                           {%- if couleur=='Bleu' %} 0px 0px 10px 3px rgba(50,130,246)  
                           {%- elif couleur=='Blanc' %} 0px 0px 10px 3px rgba(246,246,246)
                           {%- elif couleur=='Rouge' %} 0px 0px 10px 3px rgba(246,47,8)
                           {%- else %} 0px 0px 10px 3px rgba(195,195,195)
                           {%- endif %}
                          } 
                  - type: custom:button-card
                    entity: sensor.ecojoko_surplus_de_production
                    label: |
                      [[[
                         var label = ""
                          label = '<b>Export</b><hr width="400" size="1" align=center color ="#FFFFFF"></hr>' + states['sensor.ecojoko_surplus_de_production'].state + ' kWh <br>' + states['sensor.surplus_edf'].state + ' € <br><br><br>' 
                          return label;
                      ]]]
                    show_label: true
                    show_icon: false
                    show_state: false
                    show_name: false
                    tap_action:
                      action: fire-dom-event
                      browser_mod:
                        service: browser_mod.popup
                        data:
                          browser_id: THIS
                          size: normal
                          title: Suivi du surplus de production
                          content:
                            type: custom:config-template-card
                            entities:
                              - sensor.ecojoko_surplus_de_production
                            card:
                              type: custom:mini-graph-card
                              animate: true
                              name: Surplus Panneaux
                              entities:
                                - sensor.ecojoko_surplus_de_production
                              labels: true
                              font_size: 60
                              line_color: green
                              points_per_hour: 6
                              hours_to_show: >-
                                ${

                                var date = new Date();

                                var curHour = date.getHours() +
                                (date.getMinutes()/60.0)-1 +
                                date.getSeconds()/3600.0;

                                curHour

                                }
                              height: 100
                              show:
                                labels: true
                    card_mod:
                      style: |
                        ha-card {
                         border-radius:10px; 
                         box-shadow: 
                         {%- set couleur= states('sensor.rte_tempo_couleur_actuelle') %}
                         {%- if couleur=='Bleu' %} 0px 0px 10px 3px rgba(50,130,246)  
                         {%- elif couleur=='Blanc' %} 0px 0px 10px 3px rgba(246,246,246)
                         {%- elif couleur=='Rouge' %} 0px 0px 10px 3px rgba(246,47,8)
                         {%- else %} 0px 0px 10px 3px rgba(195,195,195)
                         {%- endif %}
                        } 
          - type: custom:apexcharts-card
            stacked: true
            graph_span: 7d
            span:
              end: day
            header:
              show: true
              title: Suivi Couts électricité (abonnement non inclus)
            apex_config:
              legend:
                show: false
              chart:
                height: 120px
            series:
              - entity: sensor.cout_tempo_jour_blanc_hc
                type: column
                color: rgb(170,170,170)
                group_by:
                  func: last
                  duration: 1d
              - entity: sensor.cout_tempo_jour_blanc_hp
                type: column
                color: rgb(128,128,128)
                group_by:
                  func: last
                  duration: 1d
                show:
                  datalabels: total
              - entity: sensor.cout_tempo_jour_rouge_hp
                type: column
                color: rgb(255,0,0)
                group_by:
                  func: last
                  duration: 1d
                show:
                  datalabels: total
              - entity: sensor.cout_tempo_jour_rouge_hc
                type: column
                color: rgb(255,141,126)
                group_by:
                  func: last
                  duration: 1d
              - entity: sensor.cout_tempo_jour_bleu_hp
                type: column
                color: rgb(63,72,204)
                group_by:
                  func: last
                  duration: 1d
                show:
                  datalabels: total
              - entity: sensor.cout_tempo_jour_bleu_hc
                type: column
                color: rgb(113,155,255)
                group_by:
                  func: last
                  duration: 1d
          - type: markdown
            content: >-
              <ha-icon icon="mdi:home-lightning-bolt"></ha-icon> Consommation
              appareils
            card_mod:
              style: |
                ha-card {
                  margin-bottom: -3px; 
                  text-shadow: 0px 5px 5px rgba(0,0,0,1);
                  font-size: 20px;
                  color : #E7E7E7;
                  text-align: left;
                  --mdc-icon-size: 20px;
                  'background: url('https://raw.githubusercontent.com/Axelle78/test/master/test_fond5.jpg');
                  'background-size: 100% 400px;
                  'border-radius: 0px;
                  border-width: 0px !important;
                  background: none
                }
          - type: horizontal-stack
            cards:
              - type: custom:mini-graph-card
                height: 60
                entities:
                  - entity: sensor.garage_mss310_power_w_main_channel
                  - entity: sensor.garage_mss310_energy_kwh_main_channel
                    show_state: true
                    show_graph: false
                font_size: 50
                icon: mdi:fridge
                show:
                  fill: fade
                name: Frigo
                line_width: 2
                lower_bound: 0
                min_bound_range: 100
                points_per_hour: 10
                line_color: '#2592FF'
              - type: custom:mini-graph-card
                height: 60
                entities:
                  - entity: sensor.garage_2_mss310_power_w_main_channel
                  - entity: sensor.garage_2_mss310_energy_kwh_main_channel
                    show_state: true
                    show_graph: false
                font_size: 50
                icon: mdi:nas
                show:
                  fill: fade
                name: NAS
                line_width: 2
                lower_bound: 0
                min_bound_range: 100
                points_per_hour: 10
                line_color: '#2592FF'
          - type: horizontal-stack
            cards:
              - type: custom:mini-graph-card
                height: 60
                entities:
                  - entity: sensor.tv_mss310_power_w_main_channel
                  - entity: sensor.tv_mss310_energy_kwh_main_channel
                    show_state: true
                    show_graph: false
                font_size: 50
                icon: mdi:television
                show:
                  fill: fade
                name: TV
                line_width: 2
                lower_bound: 0
                min_bound_range: 100
                points_per_hour: 10
                line_color: '#2592FF'
              - type: custom:mini-graph-card
                height: 60
                entities:
                  - entity: sensor.tablette_mss310_power_w_main_channel
                  - entity: sensor.tablette_mss310_energy_kwh_main_channel
                    show_state: true
                    show_graph: false
                font_size: 50
                icon: mdi:tablet
                show:
                  fill: fade
                name: Tablette
                line_width: 2
                lower_bound: 0
                min_bound_range: 100
                points_per_hour: 10
                line_color: '#2592FF'
              - type: custom:mini-graph-card
                height: 60
                entities:
                  - entity: sensor.prise_bureau_power
                  - entity: sensor.prise_bureau
                    show_state: true
                    show_graph: false
                font_size: 50
                icon: mdi:desk
                show:
                  fill: fade
                name: Bureau
                line_width: 2
                lower_bound: 0
                min_bound_range: 100
                points_per_hour: 10
                line_color: '#2592FF'
  - icon: mdi:lightbulb
    cards:
      - type: horizontal-stack
        cards:
          - type: vertical-stack
            cards:
              - type: custom:mushroom-light-card
                entity: light.0x0017880106f8a2fa
                fill_container: true
                use_light_color: true
                show_brightness_control: true
                show_color_temp_control: true
                show_color_control: true
                collapsible_controls: true
              - type: custom:mushroom-light-card
                entity: light.0x0017880106564fff
                fill_container: false
                use_light_color: true
                show_brightness_control: true
                show_color_temp_control: true
                show_color_control: false
                collapsible_controls: true
          - type: vertical-stack
            cards:
              - type: custom:mushroom-light-card
                entity: light.lampe
                fill_container: true
                show_brightness_control: true
                show_color_control: true
                show_color_temp_control: true
                use_light_color: true
                collapsible_controls: true
              - type: custom:mushroom-light-card
                entity: light.couloir
                fill_container: false
                use_light_color: true
                show_brightness_control: true
                show_color_temp_control: true
                show_color_control: true
                collapsible_controls: true
      - type: vertical-stack
        cards:
          - type: custom:mushroom-light-card
            fill_container: true
            entity: light.0x54ef4410008c07f2
            use_light_color: true
            show_brightness_control: true
            show_color_temp_control: true
            show_color_control: true
            collapsible_controls: true
            name: LED Chloé
          - type: entities
            entities:
              - entity: switch.0x54ef4410008c07f2_audio
              - entity: select.0x54ef4410008c07f2_audio_effect
              - entity: select.0x54ef4410008c07f2_audio_sensitivity
              - entity: input_number.mode_led_chloe
              - entity: number.0x54ef4410008c07f2_speed
      - type: horizontal-stack
        cards:
          - type: vertical-stack
            cards:
              - type: custom:mushroom-light-card
                fill_container: true
                entity: light.led
                use_light_color: true
                show_brightness_control: true
                show_color_temp_control: true
                show_color_control: true
                collapsible_controls: true
                name: LED Lucie
              - type: entities
                entities:
                  - entity: switch.led_audio
                  - entity: select.led_audio_effect
                  - entity: select.led_audio_sensitivity
                  - entity: input_number.mode_led_lucie
                  - entity: number.led_speed
      - type: vertical-stack
        cards:
          - type: custom:mushroom-light-card
            fill_container: true
            entity: light.led_lucie
            use_light_color: true
            show_brightness_control: true
            show_color_temp_control: true
            show_color_control: true
            collapsible_controls: true
            name: LED Lit Lucie
          - type: entities
            entities:
              - entity: switch.led_lucie_audio
              - entity: select.led_lucie_audio_effect
              - entity: select.led_lucie_audio_sensitivity
              - entity: input_number.mode_led_lit
              - entity: number.led_lucie_speed
    type: custom:horizontal-layout
  - title: courses
    path: testkk
    icon: mdi:shopping
    badges: []
    cards:
      - type: todo-list
        entity: todo.liste_dachats
        title: Liste des courses
  - icon: mdi:thermometer-lines
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:stack-in-card
                cards:
                  - type: custom:apexcharts-card
                    chart_type: radialBar
                    series:
                      - entity: sensor.indoor_temperature
                        color: rgb(0, 87, 34)
                        max: 50
                        show:
                          legend_value: false
                    apex_config:
                      plotOptions:
                        radialBar:
                          offsetY: 0
                          startAngle: -108
                          endAngle: 108
                          hollow:
                            size: 70%
                          dataLabels:
                            name:
                              show: false
                            value:
                              show: false
                          track:
                            strokeWidth: 80%
                            margin: 0
                      fill:
                        type: gradient
                        gradient:
                          shade: light
                          type: horizontal
                          shadeIntensity: 0.3
                          inverseColors: false
                          opacityFrom: 1
                          opacityTo: 1
                          stops:
                            - 0
                            - 20
                            - 30
                            - 40
                      legend:
                        show: false
                      chart:
                        height: 240
                  - type: custom:mushroom-entity-card
                    entity: sensor.indoor_temperature
                    primary_info: state
                    secondary_info: name
                    name: Salon
                    icon_color: green
                    layout: vertical
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -90px;
                          width: 140px;
                          margin-left: auto;
                          margin-right: auto;
                        }
              - type: custom:stack-in-card
                cards:
                  - type: custom:apexcharts-card
                    chart_type: radialBar
                    series:
                      - entity: sensor.indoor_humidity
                        color: blue
                        max: 100
                        show:
                          legend_value: false
                    apex_config:
                      plotOptions:
                        radialBar:
                          offsetY: 0
                          startAngle: -108
                          endAngle: 108
                          hollow:
                            size: 70%
                          dataLabels:
                            name:
                              show: false
                            value:
                              show: false
                          track:
                            strokeWidth: 80%
                            margin: 0
                      fill:
                        type: gradient
                        gradient:
                          shade: light
                          type: horizontal
                          shadeIntensity: 0.3
                          inverseColors: false
                          opacityFrom: 1
                          opacityTo: 1
                          stops:
                            - 0
                            - 20
                            - 30
                            - 40
                      legend:
                        show: false
                      chart:
                        height: 240
                  - type: custom:mushroom-entity-card
                    entity: sensor.indoor_humidity
                    primary_info: state
                    secondary_info: name
                    name: Salon
                    icon_color: blue
                    layout: vertical
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -90px;
                          width: 140px;
                          margin-left: auto;
                          margin-right: auto;
                        }
          - animate: true
            color_thresholds:
              - color: '#1baefd'
                value: 15
              - color: '#1bfd85'
                value: 18
              - color: '#f3fd1b'
                value: 20
              - color: '#f6fd1b'
                value: 22
              - color: '#fdd01b'
                value: 24
              - color: '#fda41b'
                value: 26
              - color: '#fd361b'
                value: 30
            entities:
              - sensor.indoor_temperature
            labels: true
            line_color: green
            points_per_hour: 6
            show:
              labels: true
              state: false
            name: °C
            type: custom:mini-graph-card
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:stack-in-card
                cards:
                  - type: custom:apexcharts-card
                    chart_type: radialBar
                    series:
                      - entity: sensor.indoor_exterieur_temperature
                        color: rgb(0, 87, 34)
                        max: 50
                        show:
                          legend_value: false
                    apex_config:
                      plotOptions:
                        radialBar:
                          offsetY: 0
                          startAngle: -108
                          endAngle: 108
                          hollow:
                            size: 70%
                          dataLabels:
                            name:
                              show: false
                            value:
                              show: false
                          track:
                            strokeWidth: 80%
                            margin: 0
                      fill:
                        type: gradient
                        gradient:
                          shade: light
                          type: horizontal
                          shadeIntensity: 0.3
                          inverseColors: false
                          opacityFrom: 1
                          opacityTo: 1
                          stops:
                            - 0
                            - 20
                            - 30
                            - 40
                      legend:
                        show: false
                      chart:
                        height: 240
                  - type: custom:mushroom-entity-card
                    entity: sensor.indoor_exterieur_temperature
                    primary_info: state
                    secondary_info: name
                    name: Dehors
                    icon_color: green
                    layout: vertical
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -90px;
                          width: 140px;
                          margin-left: auto;
                          margin-right: auto;
                        }
              - type: custom:stack-in-card
                cards:
                  - type: custom:apexcharts-card
                    chart_type: radialBar
                    series:
                      - entity: sensor.indoor_exterieur_humidity
                        color: blue
                        max: 100
                        show:
                          legend_value: false
                    apex_config:
                      plotOptions:
                        radialBar:
                          offsetY: 0
                          startAngle: -108
                          endAngle: 108
                          hollow:
                            size: 70%
                          dataLabels:
                            name:
                              show: false
                            value:
                              show: false
                          track:
                            strokeWidth: 80%
                            margin: 0
                      fill:
                        type: gradient
                        gradient:
                          shade: light
                          type: horizontal
                          shadeIntensity: 0.3
                          inverseColors: false
                          opacityFrom: 1
                          opacityTo: 1
                          stops:
                            - 0
                            - 20
                            - 30
                            - 40
                      legend:
                        show: false
                      chart:
                        height: 240
                  - type: custom:mushroom-entity-card
                    entity: sensor.indoor_exterieur_humidity
                    primary_info: state
                    secondary_info: name
                    name: Dehors
                    icon_color: blue
                    layout: vertical
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -90px;
                          width: 140px;
                          margin-left: auto;
                          margin-right: auto;
                        }
          - animate: true
            color_thresholds:
              - color: '#1baefd'
                value: 15
              - color: '#1bfd85'
                value: 18
              - color: '#f3fd1b'
                value: 20
              - color: '#f6fd1b'
                value: 22
              - color: '#fdd01b'
                value: 24
              - color: '#fda41b'
                value: 26
              - color: '#fd361b'
                value: 30
            entities:
              - sensor.indoor_exterieur_temperature
            line_color: green
            points_per_hour: 6
            show:
              labels: true
              state: false
            name: °C
            type: custom:mini-graph-card
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:stack-in-card
                cards:
                  - type: custom:apexcharts-card
                    chart_type: radialBar
                    series:
                      - entity: sensor.ble_temperature_temperature_garage
                        color: rgb(0, 87, 34)
                        max: 50
                        show:
                          legend_value: false
                    apex_config:
                      plotOptions:
                        radialBar:
                          offsetY: 0
                          startAngle: -108
                          endAngle: 108
                          hollow:
                            size: 70%
                          dataLabels:
                            name:
                              show: false
                            value:
                              show: false
                          track:
                            strokeWidth: 80%
                            margin: 0
                      fill:
                        type: gradient
                        gradient:
                          shade: light
                          type: horizontal
                          shadeIntensity: 0.3
                          inverseColors: false
                          opacityFrom: 1
                          opacityTo: 1
                          stops:
                            - 0
                            - 20
                            - 30
                            - 40
                      legend:
                        show: false
                      chart:
                        height: 240
                  - type: custom:mushroom-entity-card
                    entity: sensor.ble_temperature_temperature_garage
                    primary_info: state
                    secondary_info: name
                    name: Terrasse
                    icon_color: green
                    layout: vertical
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -90px;
                          width: 140px;
                          margin-left: auto;
                          margin-right: auto;
                        }
              - type: custom:stack-in-card
                cards:
                  - type: custom:apexcharts-card
                    chart_type: radialBar
                    series:
                      - entity: sensor.ble_humidity_temperature_garage
                        color: blue
                        max: 100
                        show:
                          legend_value: false
                    apex_config:
                      plotOptions:
                        radialBar:
                          offsetY: 0
                          startAngle: -108
                          endAngle: 108
                          hollow:
                            size: 70%
                          dataLabels:
                            name:
                              show: false
                            value:
                              show: false
                          track:
                            strokeWidth: 80%
                            margin: 0
                      fill:
                        type: gradient
                        gradient:
                          shade: light
                          type: horizontal
                          shadeIntensity: 0.3
                          inverseColors: false
                          opacityFrom: 1
                          opacityTo: 1
                          stops:
                            - 0
                            - 20
                            - 30
                            - 40
                      legend:
                        show: false
                      chart:
                        height: 240
                  - type: custom:mushroom-entity-card
                    entity: sensor.ble_humidity_temperature_garage
                    primary_info: state
                    secondary_info: name
                    name: Terrasse
                    icon_color: blue
                    layout: vertical
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -90px;
                          width: 140px;
                          margin-left: auto;
                          margin-right: auto;
                        }
          - animate: true
            color_thresholds:
              - color: '#1baefd'
                value: 15
              - color: '#1bfd85'
                value: 18
              - color: '#f3fd1b'
                value: 20
              - color: '#f6fd1b'
                value: 22
              - color: '#fdd01b'
                value: 24
              - color: '#fda41b'
                value: 26
              - color: '#fd361b'
                value: 30
            entities:
              - sensor.ble_temperature_temperature_garage
            labels: true
            line_color: green
            points_per_hour: 6
            show:
              labels: true
              state: false
            name: °C
            type: custom:mini-graph-card
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:stack-in-card
                cards:
                  - type: custom:apexcharts-card
                    chart_type: radialBar
                    series:
                      - entity: sensor.ble_temperature_temperature_sdb
                        color: rgb(0, 87, 34)
                        max: 50
                        show:
                          legend_value: false
                    apex_config:
                      plotOptions:
                        radialBar:
                          offsetY: 0
                          startAngle: -108
                          endAngle: 108
                          hollow:
                            size: 70%
                          dataLabels:
                            name:
                              show: false
                            value:
                              show: false
                          track:
                            strokeWidth: 80%
                            margin: 0
                      fill:
                        type: gradient
                        gradient:
                          shade: light
                          type: horizontal
                          shadeIntensity: 0.3
                          inverseColors: false
                          opacityFrom: 1
                          opacityTo: 1
                          stops:
                            - 0
                            - 20
                            - 30
                            - 40
                      legend:
                        show: false
                      chart:
                        height: 240
                  - type: custom:mushroom-entity-card
                    entity: sensor.ble_temperature_temperature_sdb
                    primary_info: state
                    secondary_info: name
                    name: Salle de bain
                    icon_color: green
                    layout: vertical
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -90px;
                          width: 140px;
                          margin-left: auto;
                          margin-right: auto;
                        }
              - type: custom:stack-in-card
                cards:
                  - type: custom:apexcharts-card
                    chart_type: radialBar
                    series:
                      - entity: sensor.ble_humidity_temperature_sdb
                        color: blue
                        max: 100
                        show:
                          legend_value: false
                    apex_config:
                      plotOptions:
                        radialBar:
                          offsetY: 0
                          startAngle: -108
                          endAngle: 108
                          hollow:
                            size: 70%
                          dataLabels:
                            name:
                              show: false
                            value:
                              show: false
                          track:
                            strokeWidth: 80%
                            margin: 0
                      fill:
                        type: gradient
                        gradient:
                          shade: light
                          type: horizontal
                          shadeIntensity: 0.3
                          inverseColors: false
                          opacityFrom: 1
                          opacityTo: 1
                          stops:
                            - 0
                            - 20
                            - 30
                            - 40
                      legend:
                        show: false
                      chart:
                        height: 240
                  - type: custom:mushroom-entity-card
                    entity: sensor.ble_humidity_temperature_sdb
                    primary_info: state
                    secondary_info: name
                    name: Salle de bain
                    icon_color: blue
                    layout: vertical
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -90px;
                          width: 140px;
                          margin-left: auto;
                          margin-right: auto;
                        }
          - animate: true
            color_thresholds:
              - color: '#1baefd'
                value: 15
              - color: '#1bfd85'
                value: 18
              - color: '#f3fd1b'
                value: 20
              - color: '#f6fd1b'
                value: 22
              - color: '#fdd01b'
                value: 24
              - color: '#fda41b'
                value: 26
              - color: '#fd361b'
                value: 30
            entities:
              - sensor.ble_temperature_temperature_sdb
            line_color: green
            points_per_hour: 6
            show:
              labels: true
              state: false
            name: °C
            type: custom:mini-graph-card
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:stack-in-card
                cards:
                  - type: custom:apexcharts-card
                    chart_type: radialBar
                    series:
                      - entity: sensor.ble_temperature_temperature_chambre
                        color: rgb(0, 87, 34)
                        max: 50
                        show:
                          legend_value: false
                    apex_config:
                      plotOptions:
                        radialBar:
                          offsetY: 0
                          startAngle: -108
                          endAngle: 108
                          hollow:
                            size: 70%
                          dataLabels:
                            name:
                              show: false
                            value:
                              show: false
                          track:
                            strokeWidth: 80%
                            margin: 0
                      fill:
                        type: gradient
                        gradient:
                          shade: light
                          type: horizontal
                          shadeIntensity: 0.3
                          inverseColors: false
                          opacityFrom: 1
                          opacityTo: 1
                          stops:
                            - 0
                            - 20
                            - 30
                            - 40
                      legend:
                        show: false
                      chart:
                        height: 240
                  - type: custom:mushroom-entity-card
                    entity: sensor.ble_temperature_temperature_chambre
                    primary_info: state
                    secondary_info: name
                    name: Chambre
                    icon_color: green
                    layout: vertical
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -90px;
                          width: 140px;
                          margin-left: auto;
                          margin-right: auto;
                        }
              - type: custom:stack-in-card
                cards:
                  - type: custom:apexcharts-card
                    chart_type: radialBar
                    series:
                      - entity: sensor.ble_humidity_temperature_chambre
                        color: blue
                        max: 100
                        show:
                          legend_value: false
                    apex_config:
                      plotOptions:
                        radialBar:
                          offsetY: 0
                          startAngle: -108
                          endAngle: 108
                          hollow:
                            size: 70%
                          dataLabels:
                            name:
                              show: false
                            value:
                              show: false
                          track:
                            strokeWidth: 80%
                            margin: 0
                      fill:
                        type: gradient
                        gradient:
                          shade: light
                          type: horizontal
                          shadeIntensity: 0.3
                          inverseColors: false
                          opacityFrom: 1
                          opacityTo: 1
                          stops:
                            - 0
                            - 20
                            - 30
                            - 40
                      legend:
                        show: false
                      chart:
                        height: 240
                  - type: custom:mushroom-entity-card
                    entity: sensor.ble_humidity_temperature_chambre
                    primary_info: state
                    secondary_info: name
                    name: Chambre
                    icon_color: blue
                    layout: vertical
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -90px;
                          width: 140px;
                          margin-left: auto;
                          margin-right: auto;
                        }
          - animate: true
            color_thresholds:
              - color: '#1baefd'
                value: 15
              - color: '#1bfd85'
                value: 18
              - color: '#f3fd1b'
                value: 20
              - color: '#f6fd1b'
                value: 22
              - color: '#fdd01b'
                value: 24
              - color: '#fda41b'
                value: 26
              - color: '#fd361b'
                value: 30
            entities:
              - sensor.ble_temperature_temperature_chambre
            line_color: green
            points_per_hour: 6
            show:
              labels: true
              state: false
            name: °C
            type: custom:mini-graph-card
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:stack-in-card
                cards:
                  - type: custom:apexcharts-card
                    chart_type: radialBar
                    series:
                      - entity: sensor.temp2_temperature
                        color: rgb(0, 87, 34)
                        max: 50
                        show:
                          legend_value: false
                    apex_config:
                      plotOptions:
                        radialBar:
                          offsetY: 0
                          startAngle: -108
                          endAngle: 108
                          hollow:
                            size: 70%
                          dataLabels:
                            name:
                              show: false
                            value:
                              show: false
                          track:
                            strokeWidth: 80%
                            margin: 0
                      fill:
                        type: gradient
                        gradient:
                          shade: light
                          type: horizontal
                          shadeIntensity: 0.3
                          inverseColors: false
                          opacityFrom: 1
                          opacityTo: 1
                          stops:
                            - 0
                            - 20
                            - 30
                            - 40
                      legend:
                        show: false
                      chart:
                        height: 240
                  - type: custom:mushroom-entity-card
                    entity: sensor.temp2_temperature
                    primary_info: state
                    secondary_info: name
                    name: Lucie
                    icon_color: green
                    layout: vertical
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -90px;
                          width: 140px;
                          margin-left: auto;
                          margin-right: auto;
                        }
              - type: custom:stack-in-card
                cards:
                  - type: custom:apexcharts-card
                    chart_type: radialBar
                    series:
                      - entity: sensor.temp2_humidity
                        color: blue
                        max: 100
                        show:
                          legend_value: false
                    apex_config:
                      plotOptions:
                        radialBar:
                          offsetY: 0
                          startAngle: -108
                          endAngle: 108
                          hollow:
                            size: 70%
                          dataLabels:
                            name:
                              show: false
                            value:
                              show: false
                          track:
                            strokeWidth: 80%
                            margin: 0
                      fill:
                        type: gradient
                        gradient:
                          shade: light
                          type: horizontal
                          shadeIntensity: 0.3
                          inverseColors: false
                          opacityFrom: 1
                          opacityTo: 1
                          stops:
                            - 0
                            - 20
                            - 30
                            - 40
                      legend:
                        show: false
                      chart:
                        height: 240
                  - type: custom:mushroom-entity-card
                    entity: sensor.temp2_humidity
                    primary_info: state
                    secondary_info: name
                    name: Lucie
                    icon_color: blue
                    layout: vertical
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -90px;
                          width: 140px;
                          margin-left: auto;
                          margin-right: auto;
                        }
          - animate: true
            color_thresholds:
              - color: '#1baefd'
                value: 15
              - color: '#1bfd85'
                value: 18
              - color: '#f3fd1b'
                value: 20
              - color: '#f6fd1b'
                value: 22
              - color: '#fdd01b'
                value: 24
              - color: '#fda41b'
                value: 26
              - color: '#fd361b'
                value: 30
            entities:
              - sensor.temp2_temperature
            line_color: green
            points_per_hour: 6
            show:
              labels: true
              state: false
            name: °C
            type: custom:mini-graph-card
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:stack-in-card
                cards:
                  - type: custom:apexcharts-card
                    chart_type: radialBar
                    series:
                      - entity: sensor.ble_temperature_temperature_chambre_chloe
                        color: rgb(0, 87, 34)
                        max: 50
                        show:
                          legend_value: false
                    apex_config:
                      plotOptions:
                        radialBar:
                          offsetY: 0
                          startAngle: -108
                          endAngle: 108
                          hollow:
                            size: 70%
                          dataLabels:
                            name:
                              show: false
                            value:
                              show: false
                          track:
                            strokeWidth: 80%
                            margin: 0
                      fill:
                        type: gradient
                        gradient:
                          shade: light
                          type: horizontal
                          shadeIntensity: 0.3
                          inverseColors: false
                          opacityFrom: 1
                          opacityTo: 1
                          stops:
                            - 0
                            - 20
                            - 30
                            - 40
                      legend:
                        show: false
                      chart:
                        height: 240
                  - type: custom:mushroom-entity-card
                    entity: sensor.ble_temperature_temperature_chambre_chloe
                    primary_info: state
                    secondary_info: name
                    name: Chloé
                    icon_color: green
                    layout: vertical
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -90px;
                          width: 140px;
                          margin-left: auto;
                          margin-right: auto;
                        }
              - type: custom:stack-in-card
                cards:
                  - type: custom:apexcharts-card
                    chart_type: radialBar
                    series:
                      - entity: sensor.ble_humidity_temperature_chambre_chloe
                        color: blue
                        max: 100
                        show:
                          legend_value: false
                    apex_config:
                      plotOptions:
                        radialBar:
                          offsetY: 0
                          startAngle: -108
                          endAngle: 108
                          hollow:
                            size: 70%
                          dataLabels:
                            name:
                              show: false
                            value:
                              show: false
                          track:
                            strokeWidth: 80%
                            margin: 0
                      fill:
                        type: gradient
                        gradient:
                          shade: light
                          type: horizontal
                          shadeIntensity: 0.3
                          inverseColors: false
                          opacityFrom: 1
                          opacityTo: 1
                          stops:
                            - 0
                            - 20
                            - 30
                            - 40
                      legend:
                        show: false
                      chart:
                        height: 240
                  - type: custom:mushroom-entity-card
                    entity: sensor.ble_humidity_temperature_chambre_chloe
                    primary_info: state
                    secondary_info: name
                    name: Chloé
                    icon_color: blue
                    layout: vertical
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -90px;
                          width: 140px;
                          margin-left: auto;
                          margin-right: auto;
                        }
          - animate: true
            color_thresholds:
              - color: '#1baefd'
                value: 15
              - color: '#1bfd85'
                value: 18
              - color: '#f3fd1b'
                value: 20
              - color: '#f6fd1b'
                value: 22
              - color: '#fdd01b'
                value: 24
              - color: '#fda41b'
                value: 26
              - color: '#fd361b'
                value: 30
            entities:
              - sensor.ble_temperature_temperature_chambre_chloe
            line_color: green
            points_per_hour: 6
            show:
              labels: true
              state: false
            name: °C
            type: custom:mini-graph-card
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:stack-in-card
                cards:
                  - type: custom:apexcharts-card
                    chart_type: radialBar
                    series:
                      - entity: sensor.temp1_temperature
                        color: rgb(0, 87, 34)
                        max: 50
                        show:
                          legend_value: false
                    apex_config:
                      plotOptions:
                        radialBar:
                          offsetY: 0
                          startAngle: -108
                          endAngle: 108
                          hollow:
                            size: 70%
                          dataLabels:
                            name:
                              show: false
                            value:
                              show: false
                          track:
                            strokeWidth: 80%
                            margin: 0
                      fill:
                        type: gradient
                        gradient:
                          shade: light
                          type: horizontal
                          shadeIntensity: 0.3
                          inverseColors: false
                          opacityFrom: 1
                          opacityTo: 1
                          stops:
                            - 0
                            - 20
                            - 30
                            - 40
                      legend:
                        show: false
                      chart:
                        height: 240
                  - type: custom:mushroom-entity-card
                    entity: sensor.temp1_temperature
                    primary_info: state
                    secondary_info: name
                    name: Garage
                    icon_color: green
                    layout: vertical
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -90px;
                          width: 140px;
                          margin-left: auto;
                          margin-right: auto;
                        }
              - type: custom:stack-in-card
                cards:
                  - type: custom:apexcharts-card
                    chart_type: radialBar
                    series:
                      - entity: sensor.temp1_humidity
                        color: blue
                        max: 100
                        show:
                          legend_value: false
                    apex_config:
                      plotOptions:
                        radialBar:
                          offsetY: 0
                          startAngle: -108
                          endAngle: 108
                          hollow:
                            size: 70%
                          dataLabels:
                            name:
                              show: false
                            value:
                              show: false
                          track:
                            strokeWidth: 80%
                            margin: 0
                      fill:
                        type: gradient
                        gradient:
                          shade: light
                          type: horizontal
                          shadeIntensity: 0.3
                          inverseColors: false
                          opacityFrom: 1
                          opacityTo: 1
                          stops:
                            - 0
                            - 20
                            - 30
                            - 40
                      legend:
                        show: false
                      chart:
                        height: 240
                  - type: custom:mushroom-entity-card
                    entity: sensor.temp1_humidity
                    primary_info: state
                    secondary_info: name
                    name: Garage
                    icon_color: blue
                    layout: vertical
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -90px;
                          width: 140px;
                          margin-left: auto;
                          margin-right: auto;
                        }
          - animate: true
            color_thresholds:
              - color: '#1baefd'
                value: 15
              - color: '#1bfd85'
                value: 18
              - color: '#f3fd1b'
                value: 20
              - color: '#f6fd1b'
                value: 22
              - color: '#fdd01b'
                value: 24
              - color: '#fda41b'
                value: 26
              - color: '#fd361b'
                value: 30
            entities:
              - sensor.temp1_temperature
            line_color: green
            points_per_hour: 6
            show:
              labels: true
              state: false
            name: °C
            type: custom:mini-graph-card
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:stack-in-card
                cards:
                  - type: custom:apexcharts-card
                    chart_type: radialBar
                    series:
                      - entity: sensor.tortue_temperature
                        color: rgb(0, 87, 34)
                        max: 50
                        show:
                          legend_value: false
                    apex_config:
                      plotOptions:
                        radialBar:
                          offsetY: 0
                          startAngle: -108
                          endAngle: 108
                          hollow:
                            size: 70%
                          dataLabels:
                            name:
                              show: false
                            value:
                              show: false
                          track:
                            strokeWidth: 80%
                            margin: 0
                      fill:
                        type: gradient
                        gradient:
                          shade: light
                          type: horizontal
                          shadeIntensity: 0.3
                          inverseColors: false
                          opacityFrom: 1
                          opacityTo: 1
                          stops:
                            - 0
                            - 20
                            - 30
                            - 40
                      legend:
                        show: false
                      chart:
                        height: 240
                  - type: custom:mushroom-entity-card
                    entity: sensor.tortue_temperature
                    primary_info: state
                    secondary_info: name
                    name: Tortue
                    icon_color: green
                    layout: vertical
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -90px;
                          width: 140px;
                          margin-left: auto;
                          margin-right: auto;
                        }
              - type: custom:stack-in-card
                cards:
                  - type: custom:apexcharts-card
                    chart_type: radialBar
                    series:
                      - entity: sensor.tortue_humidity
                        color: blue
                        max: 100
                        show:
                          legend_value: false
                    apex_config:
                      plotOptions:
                        radialBar:
                          offsetY: 0
                          startAngle: -108
                          endAngle: 108
                          hollow:
                            size: 70%
                          dataLabels:
                            name:
                              show: false
                            value:
                              show: false
                          track:
                            strokeWidth: 80%
                            margin: 0
                      fill:
                        type: gradient
                        gradient:
                          shade: light
                          type: horizontal
                          shadeIntensity: 0.3
                          inverseColors: false
                          opacityFrom: 1
                          opacityTo: 1
                          stops:
                            - 0
                            - 20
                            - 30
                            - 40
                      legend:
                        show: false
                      chart:
                        height: 240
                  - type: custom:mushroom-entity-card
                    entity: sensor.tortue_humidity
                    primary_info: state
                    secondary_info: name
                    name: Tortue
                    icon_color: blue
                    layout: vertical
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -90px;
                          width: 140px;
                          margin-left: auto;
                          margin-right: auto;
                        }
          - animate: true
            color_thresholds:
              - color: '#1baefd'
                value: 15
              - color: '#1bfd85'
                value: 18
              - color: '#f3fd1b'
                value: 20
              - color: '#f6fd1b'
                value: 22
              - color: '#fdd01b'
                value: 24
              - color: '#fda41b'
                value: 26
              - color: '#fd361b'
                value: 30
            entities:
              - sensor.tortue_temperature
            line_color: green
            points_per_hour: 6
            show:
              labels: true
              state: false
            name: °C
            type: custom:mini-graph-card
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:stack-in-card
                cards:
                  - type: custom:apexcharts-card
                    chart_type: radialBar
                    series:
                      - entity: sensor.temp3_temperature
                        color: rgb(0, 87, 34)
                        max: 50
                        show:
                          legend_value: false
                    apex_config:
                      plotOptions:
                        radialBar:
                          offsetY: 0
                          startAngle: -108
                          endAngle: 108
                          hollow:
                            size: 70%
                          dataLabels:
                            name:
                              show: false
                            value:
                              show: false
                          track:
                            strokeWidth: 80%
                            margin: 0
                      fill:
                        type: gradient
                        gradient:
                          shade: light
                          type: horizontal
                          shadeIntensity: 0.3
                          inverseColors: false
                          opacityFrom: 1
                          opacityTo: 1
                          stops:
                            - 0
                            - 20
                            - 30
                            - 40
                      legend:
                        show: false
                      chart:
                        height: 240
                  - type: custom:mushroom-entity-card
                    entity: sensor.temp3_temperature
                    primary_info: state
                    secondary_info: name
                    name: Grenier
                    icon_color: green
                    layout: vertical
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -90px;
                          width: 140px;
                          margin-left: auto;
                          margin-right: auto;
                        }
              - type: custom:stack-in-card
                cards:
                  - type: custom:apexcharts-card
                    chart_type: radialBar
                    series:
                      - entity: sensor.temp3_humidity
                        color: blue
                        max: 100
                        show:
                          legend_value: false
                    apex_config:
                      plotOptions:
                        radialBar:
                          offsetY: 0
                          startAngle: -108
                          endAngle: 108
                          hollow:
                            size: 70%
                          dataLabels:
                            name:
                              show: false
                            value:
                              show: false
                          track:
                            strokeWidth: 80%
                            margin: 0
                      fill:
                        type: gradient
                        gradient:
                          shade: light
                          type: horizontal
                          shadeIntensity: 0.3
                          inverseColors: false
                          opacityFrom: 1
                          opacityTo: 1
                          stops:
                            - 0
                            - 20
                            - 30
                            - 40
                      legend:
                        show: false
                      chart:
                        height: 240
                  - type: custom:mushroom-entity-card
                    entity: sensor.temp3_humidity
                    primary_info: state
                    secondary_info: name
                    name: Grenier
                    icon_color: blue
                    layout: vertical
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -90px;
                          width: 140px;
                          margin-left: auto;
                          margin-right: auto;
                        }
          - animate: true
            color_thresholds:
              - color: '#1baefd'
                value: 15
              - color: '#1bfd85'
                value: 18
              - color: '#f3fd1b'
                value: 20
              - color: '#f6fd1b'
                value: 22
              - color: '#fdd01b'
                value: 24
              - color: '#fda41b'
                value: 26
              - color: '#fd361b'
                value: 30
            entities:
              - sensor.temp3_temperature
            line_color: green
            points_per_hour: 6
            show:
              labels: true
              state: false
            name: °C
            type: custom:mini-graph-card
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:stack-in-card
                cards:
                  - type: custom:apexcharts-card
                    chart_type: radialBar
                    series:
                      - entity: sensor.sol_temperature
                        color: rgb(0, 87, 34)
                        max: 50
                        show:
                          legend_value: false
                    apex_config:
                      plotOptions:
                        radialBar:
                          offsetY: 0
                          startAngle: -108
                          endAngle: 108
                          hollow:
                            size: 70%
                          dataLabels:
                            name:
                              show: false
                            value:
                              show: false
                          track:
                            strokeWidth: 80%
                            margin: 0
                      fill:
                        type: gradient
                        gradient:
                          shade: light
                          type: horizontal
                          shadeIntensity: 0.3
                          inverseColors: false
                          opacityFrom: 1
                          opacityTo: 1
                          stops:
                            - 0
                            - 20
                            - 30
                            - 40
                      legend:
                        show: false
                      chart:
                        height: 240
                  - type: custom:mushroom-entity-card
                    entity: sensor.sol_temperature
                    primary_info: state
                    secondary_info: name
                    name: Cerisier
                    icon_color: green
                    layout: vertical
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -90px;
                          width: 140px;
                          margin-left: auto;
                          margin-right: auto;
                        }
              - type: custom:stack-in-card
                cards:
                  - type: custom:apexcharts-card
                    chart_type: radialBar
                    series:
                      - entity: sensor.sol_soil_moisture
                        color: blue
                        max: 100
                        show:
                          legend_value: false
                    apex_config:
                      plotOptions:
                        radialBar:
                          offsetY: 0
                          startAngle: -108
                          endAngle: 108
                          hollow:
                            size: 70%
                          dataLabels:
                            name:
                              show: false
                            value:
                              show: false
                          track:
                            strokeWidth: 80%
                            margin: 0
                      fill:
                        type: gradient
                        gradient:
                          shade: light
                          type: horizontal
                          shadeIntensity: 0.3
                          inverseColors: false
                          opacityFrom: 1
                          opacityTo: 1
                          stops:
                            - 0
                            - 20
                            - 30
                            - 40
                      legend:
                        show: false
                      chart:
                        height: 240
                  - type: custom:mushroom-entity-card
                    entity: sensor.sol_soil_moisture
                    primary_info: state
                    secondary_info: name
                    name: Cerisier
                    icon_color: blue
                    layout: vertical
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -90px;
                          width: 140px;
                          margin-left: auto;
                          margin-right: auto;
                        }
          - animate: true
            entities:
              - entity: sensor.sol_temperature
                color: yellow
              - entity: sensor.sol_soil_moisture
                y_axis: secondary
                color: blue
            line_color: green
            points_per_hour: 6
            show:
              labels: true
              state: false
              labels_secondary: true
            name: °C
            type: custom:mini-graph-card
  - icon: mdi:solar-power-variant
    type: panel
    badges: []
    cards:
      - type: horizontal-stack
        cards:
          - type: vertical-stack
            cards:
              - type: custom:horizon-card
                title: Soleil
                moon: false
                refresh_period: 60
                fields:
                  sunrise: true
                  sunset: true
                  dawn: true
                  noon: true
                  dusk: true
                southern_flip: false
                moon_phase_rotation: -10
                language: fr
                time_format: language
                number_format: language
                latitude: 48.96294403076172
                longitude: 1.714561104774475
                elevation: 1500
                debug_level: 0
              - type: custom:apexcharts-card
                graph_span: 1d
                span:
                  start: day
                header:
                  show: true
                  show_states: true
                  colorize_states: true
                apex_config:
                  legend:
                    show: false
                  chart:
                    height: 200px
                now:
                  show: true
                  label: Now
                series:
                  - entity: sensor.prodution_kwh
                    name: Production réelle
                    min: 0
                    group_by:
                      func: last
                      duration: 1h
                  - entity: sensor.cumul_production_estime
                    unit: kWh
                    transform: return x / 1000;
                    min: 0
                    name: Production prévisionnelle
                    group_by:
                      func: last
                      duration: 1h
                yaxis:
                  - min: 0
          - type: vertical-stack
            cards:
              - type: horizontal-stack
                cards:
                  - type: custom:mushroom-entity-card
                    entity: sensor.power_highest_peak_time_today
                    name: Top Production
                    layout: horizontal
                  - type: custom:mushroom-entity-card
                    entity: sensor.energy_production_today
                    name: Production estimée aujourd'hui
                  - type: custom:mushroom-entity-card
                    entity: sensor.energy_production_tomorrow
                    name: Production estimée demain
              - type: horizontal-stack
                cards:
                  - type: custom:power-distribution-card
                    entities:
                      - decimals: '0'
                        display_abs: true
                        name: solar
                        unit_of_display: W
                        icon: mdi:solar-power
                        producer: true
                        entity: sensor.envoy_122250004672_current_power_production
                        preset: solar
                        icon_color:
                          bigger: green
                          equal: gray
                          smaller: red
                      - decimals: '0'
                        display_abs: true
                        name: Export
                        unit_of_display: W
                        icon: mdi:lightning-bolt-outline
                        producer: true
                        entity: sensor.energy_exporting
                        preset: producer
                        icon_color:
                          bigger: green
                          equal: gray
                          smaller: red
                        calc_excluded: true
                      - decimals: '0'
                        display_abs: true
                        name: conso
                        unit_of_display: W
                        consumer: true
                        icon: mdi:home
                        entity: sensor.envoy_122250004672_current_power_consumption
                        preset: consumer
                        icon_color:
                          bigger: red
                          equal: green
                          smaller: red
                        invert_value: true
                      - decimals: '0'
                        display_abs: true
                        name: Import
                        unit_of_display: W
                        icon: mdi:transmission-tower
                        entity: sensor.energy_importing
                        preset: grid
                        icon_color:
                          bigger: red
                          equal: gray
                          smaller: red
                        invert_value: true
                    center:
                      type: bars
                      content:
                        - preset: ratio
                          name: use
                          bar_color: green
                          bar_bg_color: ''
                          entity: ''
                          invert_value: false
                        - preset: autarky
                          name: indep
                          bar_color: blue
                    animation: flash
                  - type: custom:power-flow-card
                    entities:
                      grid:
                        consumption: sensor.consommation_kwh
                        production: sensor.daily_energy_export
                      solar: sensor.prodution_kwh
  - title: Lucie
    path: lucie
    type: custom:horizontal-layout
    icon: ''
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: markdown
            content: Emploi du temps
            card_mod:
              style: |
                ha-card {
                  margin-bottom: -4px;    font-family: Arial Narrow, sans-serif;
                  font-size: 20px;
                  font-weight: 100;
                  color : #E7E7E7;
                  text-align: center;
                  --mdc-icon-size: 20px;
                  background: url('https://raw.githubusercontent.com/Axelle78/test/master/test_fond5.jpg');
                  background-size: 100% 400px;
                  border-radius: 10px;
                }
          - type: custom:pronote-timetable-card
            entity: sensor.pronote_jeanne_lucie_timetable_today
            display_header: false
            display_lunch_break: true
            display_classroom: true
            display_teacher: true
            display_day_hours: true
            dim_ended_lessons: true
            max_days: null
            current_week_only: false
          - type: custom:pronote-timetable-card
            entity: sensor.pronote_jeanne_lucie_timetable_next_day
            display_header: false
            display_lunch_break: true
            display_classroom: true
            display_teacher: true
            display_day_hours: true
            dim_ended_lessons: true
            max_days: null
            current_week_only: false
      - type: vertical-stack
        cards:
          - type: markdown
            content: Devoirs
            card_mod:
              style: |
                ha-card {
                  margin-bottom: -4px;    font-family: Arial Narrow, sans-serif;
                  font-size: 20px;
                  font-weight: 100;
                  color : #E7E7E7;
                  text-align: center;
                  --mdc-icon-size: 20px;
                  background: url('https://raw.githubusercontent.com/Axelle78/test/master/test_fond5.jpg');
                  background-size: 100% 400px;
                  border-radius: 10px;
                }
          - type: custom:pronote-homework-card
            entity: sensor.pronote_jeanne_lucie_homework
            display_header: false
            display_done_homework: true
            reduce_done_homework: true
            current_week_only: false
          - type: markdown
            content: Absence
            card_mod:
              style: |
                ha-card {
                  margin-bottom: -4px;    font-family: Arial Narrow, sans-serif;
                  font-size: 20px;
                  font-weight: 100;
                  color : #E7E7E7;
                  text-align: center;
                  --mdc-icon-size: 20px;
                  background: url('https://raw.githubusercontent.com/Axelle78/test/master/test_fond5.jpg');
                  background-size: 100% 400px;
                  border-radius: 10px;
                }
          - type: custom:pronote-absences-card
            entity: sensor.pronote_jeanne_lucie_absences
            max_absences: null
            child_name: null
      - type: vertical-stack
        cards:
          - type: markdown
            content: Dernières notes
            card_mod:
              style: |
                ha-card {
                  margin-bottom: -4px;    font-family: Arial Narrow, sans-serif;
                  font-size: 20px;
                  font-weight: 100;
                  color : #E7E7E7;
                  text-align: center;
                  --mdc-icon-size: 20px;
                  background: url('https://raw.githubusercontent.com/Axelle78/test/master/test_fond5.jpg');
                  background-size: 100% 400px;
                  border-radius: 10px;
                }
          - type: custom:pronote-grades-card
            entity: sensor.pronote_jeanne_lucie_grades
            grade_format: full
            display_header: false
            display_date: true
            display_comment: true
            display_class_average: true
            compare_with_class_average: true
            compare_with_ratio: null
            display_coefficient: true
            display_class_min: true
            display_class_max: true
            display_new_grade_notice: true
            max_grades: null
      - type: vertical-stack
        cards:
          - type: markdown
            content: >-
              Moyenne : {{ (states('sensor.moyenne_lucie') |float)|round(2)}} /
              20
            card_mod:
              style: |
                ha-card {
                  margin-bottom: -4px;    font-family: Arial Narrow, sans-serif;
                  font-size: 20px;
                  font-weight: 100;
                  color : #E7E7E7;
                  text-align: center;
                  --mdc-icon-size: 20px;
                  background: url('https://raw.githubusercontent.com/Axelle78/test/master/test_fond5.jpg');
                  background-size: 100% 400px;
                  border-radius: 10px;
                }
          - type: custom:pronote-averages-card
            entity: sensor.pronote_jeanne_lucie_averages
            average_format: full
            display_header: false
            compare_with_class_average: true
            compare_with_ratio: null
            display_class_average: true
            display_class_min: true
            display_class_max: true
  - title: Chloé
    path: chloe
    type: custom:horizontal-layout
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: markdown
            content: Emploi du temps
            card_mod:
              style: |
                ha-card {
                  margin-bottom: -4px;    font-family: Arial Narrow, sans-serif;
                  font-size: 20px;
                  font-weight: 100;
                  color : #E7E7E7;
                  text-align: center;
                  --mdc-icon-size: 20px;
                  background: url('https://raw.githubusercontent.com/Axelle78/test/master/test_fond5.jpg');
                  background-size: 100% 400px;
                  border-radius: 10px;
                }
          - type: custom:pronote-timetable-card
            entity: sensor.pronote_jeanne_chlo_timetable_today
            display_header: false
            display_lunch_break: true
            display_classroom: true
            display_teacher: true
            display_day_hours: true
            dim_ended_lessons: true
            max_days: null
            current_week_only: false
          - type: custom:pronote-timetable-card
            entity: sensor.pronote_jeanne_chlo_timetable_next_day
            display_header: false
            display_lunch_break: true
            display_classroom: true
            display_teacher: true
            display_day_hours: true
            dim_ended_lessons: true
            max_days: null
            current_week_only: false
      - type: vertical-stack
        cards:
          - type: markdown
            content: Devoirs
            card_mod:
              style: |
                ha-card {
                  margin-bottom: -4px;    font-family: Arial Narrow, sans-serif;
                  font-size: 20px;
                  font-weight: 100;
                  color : #E7E7E7;
                  text-align: center;
                  --mdc-icon-size: 20px;
                  background: url('https://raw.githubusercontent.com/Axelle78/test/master/test_fond5.jpg');
                  background-size: 100% 400px;
                  border-radius: 10px;
                }
          - type: custom:pronote-homework-card
            entity: sensor.pronote_jeanne_chlo_homework
            display_header: false
            display_done_homework: true
            reduce_done_homework: true
            current_week_only: false
          - type: markdown
            content: Absences
            card_mod:
              style: |
                ha-card {
                  margin-bottom: -4px;    font-family: Arial Narrow, sans-serif;
                  font-size: 20px;
                  font-weight: 100;
                  color : #E7E7E7;
                  text-align: center;
                  --mdc-icon-size: 20px;
                  background: url('https://raw.githubusercontent.com/Axelle78/test/master/test_fond5.jpg');
                  background-size: 100% 400px;
                  border-radius: 10px;
                }
          - type: custom:pronote-absences-card
            entity: sensor.pronote_jeanne_chlo_absences
            max_absences: null
            child_name: null
      - type: vertical-stack
        cards:
          - type: markdown
            content: Dernières notes
            card_mod:
              style: |
                ha-card {
                  margin-bottom: -4px;    font-family: Arial Narrow, sans-serif;
                  font-size: 20px;
                  font-weight: 100;
                  color : #E7E7E7;
                  text-align: center;
                  --mdc-icon-size: 20px;
                  background: url('https://raw.githubusercontent.com/Axelle78/test/master/test_fond5.jpg');
                  background-size: 100% 400px;
                  border-radius: 10px;
                }
          - type: custom:pronote-grades-card
            entity: sensor.pronote_jeanne_chlo_grades
            grade_format: full
            display_header: false
            display_date: true
            display_comment: true
            display_class_average: true
            compare_with_class_average: true
            compare_with_ratio: null
            display_coefficient: true
            display_class_min: true
            display_class_max: true
            display_new_grade_notice: true
            max_grades: null
      - type: vertical-stack
        cards:
          - type: markdown
            content: >-
              Moyenne : {{ (states('sensor.chloe_moyenne')|float)|round(2) }} /
              20
            card_mod:
              style: |
                ha-card {
                  margin-bottom: -4px;    font-family: Arial Narrow, sans-serif;
                  font-size: 20px;
                  font-weight: 100;
                  color : #E7E7E7;
                  text-align: center;
                  --mdc-icon-size: 20px;
                  background: url('https://raw.githubusercontent.com/Axelle78/test/master/test_fond5.jpg');
                  background-size: 100% 400px;
                  border-radius: 10px;
                }
          - type: custom:pronote-averages-card
            entity: sensor.pronote_jeanne_chlo_averages
            average_format: full
            display_header: false
            compare_with_class_average: true
            compare_with_ratio: null
            display_class_average: true
            display_class_min: true
            display_class_max: true
  - badges: []
    cards:
      - cards:
          - camera_view: live
            aspect_ratio: 0%
            camera_image: camera.jardin_hd_stream
            entities:
              - entity: camera.jardin_hd_stream
            image: https://demo.home-assistant.io/stub_config/kitchen.png
            title: Jardin
            type: picture-glance
          - camera_view: live
            aspect_ratio: 0%
            camera_image: camera.terrasse_hd_stream
            entities:
              - entity: camera.terrasse_hd_stream
            image: https://demo.home-assistant.io/stub_config/kitchen.png
            title: Terrasse
            type: picture-glance
        type: horizontal-stack
    icon: mdi:webcam
    panel: true
    path: cameras
    title: Caméras
  - badges: []
    cards:
      - type: custom:stack-in-card
        mode: vertical
        keep:
          box_shadow: true
          margin: true
          border_radius: true
          background: true
          outer_padding: false
        cards:
          - type: vertical-stack
            cards:
              - type: picture
                image: https://raw.githubusercontent.com/Axelle78/test/master/rpi.png
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 0px;
                      border: none;
                      background: none;
                    }
              - type: entities
                entities:
                  - entity: sensor.system_monitor_ipv4_address_lo
                    type: custom:multiple-entity-row
                    name: IP
                    show_state: false
                    entities:
                      - entity: sensor.system_monitor_ipv4_address_lo
                        name: Interne
                card_mod:
                  style: |
                    .card-content div {
                      margin-top: -15px !important;
                      margin-left: -15px !important;
                      margin-bottom: 0px  !important;
                    }
                    :host {
                      font-size: 15px;
                      background: none;
                    }
                    ha-card {
                      --mdc-icon-size: 28px;
                      border: none;
                      background: none;
                    }
              - type: entities
                entities:
                  - entity: sensor.system_monitor_last_boot
                    type: custom:multiple-entity-row
                    show_state: false
                    entities:
                      - entity: sensor.system_monitor_last_boot
                        name: Last boot
                        format: total
                    name: Uptime
                    icon: phu:raspberry-pi
                card_mod:
                  style: |
                    .card-content div {
                      margin-top: -40px !important;
                      margin-left: -15px !important;
                      margin-bottom: 25px  !important;
                    }
                    :host {
                      font-size: 15px;
                      background: none;
                    }
                    ha-card {
                      --mdc-icon-size: 28px;
                      background: none;
                      border: none;
                    }
          - type: vertical-stack
            cards:
              - type: horizontal-stack
                cards:
                  - type: custom:bar-card
                    entities:
                      - entity: sensor.processor_use
                        name: CPU Use
                        icon: phu:intel-cpu
                        color: rgb(68, 115, 158)
                        height: 27px
                        min: '0'
                        max: '100'
                        target: '90'
                        positions:
                          name: inside
                          indicator: 'off'
                    card_mod:
                      style: |
                        ha-card {
                          top: -31px;
                          margin-top: -20px;
                          margin-left: -15px;
                          margin-right: -5px;
                          border: none;
                          background: none;
                        }
                        bar-card-currentbar, bar-card-backgroundbar {
                          border-radius: 4px;
                        }
                        ha-icon {
                          --mdc-icon-size: 30px;
                        }
                        bar-card-name {
                          margin: 2px;
                        }
                  - type: custom:bar-card
                    entities:
                      - entity: sensor.processor_temperature
                        name: CPU Temp
                        icon: mdi:thermometer
                        height: 27px
                        color: orange
                        min: '1'
                        max: '80'
                        target: '65'
                        positions:
                          name: inside
                          indicator: 'off'
                    card_mod:
                      style: |
                        ha-card {
                          top: -31px;
                          margin-top: -20px;
                          margin-left: -15px;
                          margin-right: -5px;
                          background: none;
                          border: none;
                          background: none;
                        }
                        bar-card-currentbar, bar-card-backgroundbar {
                          border-radius: 4px;
                        }
                        ha-icon {
                          --mdc-icon-size: 28px;
                        }
                        bar-card-name {
                          margin: 2px;
                        }
          - type: vertical-stack
            cards:
              - type: horizontal-stack
                cards:
                  - type: custom:bar-card
                    entities:
                      - entity: sensor.system_monitor_memory_use_percent
                        name: RAM Use
                        icon: phu:ram-memory
                        height: 27px
                        color: red
                        min: '0'
                        max: '100'
                        target: '90'
                        positions:
                          name: inside
                          indicator: 'off'
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -62px;
                          margin-left: -15px;
                          margin-right: -5px;
                          border: none;
                          background: none;
                        }
                        ha-icon {
                          --mdc-icon-size: 30px;
                        }
                        bar-card-currentbar, bar-card-backgroundbar {
                          border-radius: 4px;
                        }
                        bar-card-name {
                          margin: 2px;
                        }
                  - type: custom:bar-card
                    entities:
                      - entity: sensor.memory_free
                        name: RAM Free
                        icon: phu:ram-memory
                        color: rgb(31, 111, 235)
                        height: 27px
                        min: '1'
                        max: '3700'
                        target: '300'
                        positions:
                          name: inside
                          indicator: 'off'
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -62px;
                          margin-left: -15px;
                          margin-right: -5px;
                          border: none;
                          background: none;
                        }
                        ha-icon {
                          --mdc-icon-size: 30px;
                        }
                        bar-card-currentbar, bar-card-backgroundbar {
                          border-radius: 4px;
                        }
                        bar-card-name {
                          margin: 2px;
                        }
          - type: vertical-stack
            cards:
              - type: horizontal-stack
                cards:
                  - type: custom:bar-card
                    entities:
                      - entity: sensor.system_monitor_disk_use_percent
                        name: SD Card
                        icon: phu:seagate-ssd
                        height: 27px
                        color: grey
                        min: '0'
                        max: '100'
                        target: '75'
                        positions:
                          name: inside
                          indicator: 'off'
                    card_mod:
                      style: |
                        ha-card {
                          margin-top: -33px;
                          margin-left: -15px;
                          margin-right: -5px;
                          border: none;
                          background: none;
                        }
                        bar-card-currentbar, bar-card-backgroundbar {
                          border-radius: 4px;
                        }
                        ha-icon {
                          --mdc-icon-size: 28px;
                        }
                        bar-card-name {
                          margin: 2px;
                        }
          - type: custom:uptime-card
            entity: binary_sensor.rpi_power_status
            title_template: RPi4 Power
            ok: 'off'
            ko: 'on'
            bar:
              amount: 48
              round: 1
              height: 29
            hours_to_show: 48
            init:
              animation: raise
            color:
              title: rgb(68, 115, 158)
              ko: rgb(250, 0, 1)
              ok: green
            title_adaptive_color: false
            icon_adaptive_color: true
            tooltip_adaptive_color: true
            status_adaptive_color: true
            show:
              header: true
              title: true
              timeline: true
              footer: true
              average: true
            tooltip:
              hour24: true
              animation: true
            alias:
              ok: OK
              ko: Danger
            tap_action:
              action: more-info
            alignment:
              icon_first: true
              status: left
              tooltip_first: true
              header: spaced
            card_mod:
              style: |
                :host {
                  font-size: 15px;
                }
                ha-card {
                  top: -17px;
                  margin-left: -7px;
                  margin-bottom: -25px;
                  background: none;
                  border: none;
                }
      - type: glance
        entities:
          - entity: sensor.ups_etat
          - entity: sensor.ups_autonomie_de_la_batterie
      - type: horizontal-stack
        cards:
          - type: gauge
            min: 0
            max: 400
            entity: sensor.ups_puissance_reelle_actuelle
          - type: gauge
            min: 0
            max: 100
            entity: sensor.ups_charge_de_la_batterie
          - type: gauge
            min: 0
            max: 100
            entity: sensor.ups_charge
      - type: glance
        entities:
          - entity: sensor.eaton_ellipse_eco_650_etat
          - entity: sensor.eaton_ellipse_eco_650_autonomie_de_la_batterie
      - type: horizontal-stack
        cards:
          - type: gauge
            min: 0
            max: 400
            entity: sensor.eaton_ellipse_eco_650_puissance_reelle_actuelle
          - type: gauge
            min: 0
            max: 100
            entity: sensor.eaton_ellipse_eco_650_charge_de_la_batterie
          - type: gauge
            min: 0
            max: 100
            entity: sensor.eaton_ellipse_eco_650_charge
    icon: mdi:information-outline
  - theme: Backend-selected
    title: Carte
    path: carte
    icon: mdi:google-maps
    type: custom:vertical-layout
    badges:
      - entity: person.richard
      - entity: person.lucie
      - entity: person.chloe
      - entity: person.axelle
    cards:
      - type: horizontal-stack
        cards:
          - type: custom:stack-in-card
            mode: vertical
            cards:
              - type: custom:mushroom-person-card
                entity: person.axelle
                use_entity_picture: true
                hide_name: false
                layout: vertical
                card_mod:
                  style: |
                    ha-card {
                        border: none;
                        padding: 0;
                         }
                    :host {
                         --mush-icon-size: 75px;  
                         --chip-box-shadow: none;
                          --chip-background: none;
                         } 
                    hui-vertical-stack-card $: |
                      div#root > * {
                      margin: 0px !important;
                    }
              - type: custom:mushroom-chips-card
                chips:
                  - type: template
                    entity: calendar.axelle
                    icon: mdi:calendar-arrow-right
                    content: >
                      {{ (states('sensor.maison_distance_axelle') |float / 1000)
                      | round(2) }} km
                alignment: center
                card_mod:
                  style: |
                    ha-card {
                      padding: 0;
                      --chip-border-width: 0px;
                      background:none;
                      --chip-box-shadow: none;
                      --chip-background: none;
                      padding-top: 0px;
                      margin-top: -15px;
                      padding-bottom: 0px;
                      padding-left: 0px;
                      padding-right: 0px;

                    }
                    hui-vertical-stack-card $: |
                          div#root > * {
                          margin: 0px !important;
                        }
          - type: custom:stack-in-card
            mode: vertical
            cards:
              - type: custom:mushroom-person-card
                entity: person.richard
                use_entity_picture: true
                hide_name: false
                layout: vertical
                card_mod:
                  style: |
                    ha-card {
                        padding: 0;
                        border: none;
                         }
                    :host {
                         --mush-icon-size: 75px;  
                         --chip-box-shadow: none;
                          --chip-background: none;
                         } 
              - type: custom:mushroom-chips-card
                chips:
                  - type: template
                    entity: calendar.richard
                    icon: mdi:calendar-arrow-right
                    content: >

                      {{ (states('sensor.maison_distance_richard') |float /
                      1000) | round(2) }} km
                alignment: center
                card_mod:
                  style: |
                    ha-card {
                      --chip-border-width: 0px;
                      --chip-box-shadow: none;
                      --chip-background: none;
                      padding-top: 0px;
                      margin-top: -15px;
                      padding-bottom: 0px;
                      padding-left: 0px;
                      padding-right: 0px;

                    }
          - type: custom:stack-in-card
            mode: vertical
            cards:
              - type: custom:mushroom-person-card
                entity: person.chloe
                use_entity_picture: true
                hide_name: false
                layout: vertical
                card_mod:
                  style: |
                    ha-card {
                        border: none;
                         }
                    :host {
                         --mush-icon-size: 75px;  
                         --chip-box-shadow: none;
                          --chip-background: none;
                         } 
              - type: custom:mushroom-chips-card
                chips:
                  - type: template
                    entity: sensor.fin_des_cours_de_chloe_demain
                    icon: mdi:calendar-arrow-right
                    content: >
                      {{ (states('sensor.maison_distance_chloe') |float / 1000)
                      | round(2) }} km
                    tap_action:
                      action: navigate
                      navigation_path: /lovelace/chloe
                alignment: center
                card_mod:
                  style: |
                    ha-card {
                      --chip-border-width: 0px;
                      --chip-box-shadow: none;
                          --chip-background: none;
                        padding-top: 0px;
                      margin-top: -15px;
                      padding-bottom: 0px;
                      padding-left: 0px;
                      padding-right: 0px;

                    }
          - type: custom:stack-in-card
            mode: vertical
            cards:
              - type: custom:mushroom-person-card
                entity: person.lucie
                use_entity_picture: true
                hide_name: false
                layout: vertical
                card_mod:
                  style: |
                    ha-card {
                        border: none;
                         }
                    :host {
                         --mush-icon-size: 75px;  
                         --chip-box-shadow: none;
                          --chip-background: none;
                         } 
                       
              - type: custom:mushroom-chips-card
                chips:
                  - type: template
                    entity: sensor.fin_des_cours_de_lucie_demain
                    icon: mdi:calendar-arrow-right
                    content: >
                      {{ (states('sensor.maison_distance_lucie') |float / 1000)
                      | round(2) }} km
                    tap_action:
                      action: navigate
                      navigation_path: /lovelace/lucie
                alignment: center
                card_mod:
                  style: |
                    ha-card {
                      --chip-border-width: 0px;
                      --chip-box-shadow: none;
                          --chip-background: none;
                      padding-top: 0px;
                      margin-top: -15px;
                      padding-bottom: 0px;
                      padding-left: 0px;
                      padding-right: 0px;

                    }
      - type: map
        entities:
          - entity: person.chloe
          - entity: person.lucie
          - entity: person.axelle
          - entity: person.richard
        hours_to_show: 0
  - title: F1
    path: f1
    icon: mdi:flag-checkered
    badges: []
    cards:
      - type: custom:formulaone-card
        card_type: countdown
        f1_font: true
        show_raceinfo: false
        show_weather: false
        weather_options: {}
      - type: custom:formulaone-card
        card_type: next_race
        f1_font: true
        show_carnumber: false
        show_raceinfo: true
        show_lastyears_result: true
      - type: custom:formulaone-card
        card_type: driver_standings
        f1_font: true
        show_lastyears_result: false
        standings:
          show_flag: true
          show_team: true
          show_teamlogo: true
      - type: custom:formulaone-card
        card_type: constructor_standings
        standings:
          show_team: true
          show_flag: false
        f1_font: true
  - type: custom:horizontal-layout
    title: test
    path: test
    icon: mdi:weather-partly-rainy
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: custom:hourly-weather
            entity: weather.mantes_la_jolie
            num_segments: 18
            name: Next 18 hours
          - type: custom:weather-chart-card
            entity: weather.mantes_la_jolie
            show_time: true
            show_day: true
            show_date: true
            animated_icons: true
            icon_style: style1
            forecast:
              precipitation_type: ''
            units:
              pressure: ''
              speed: ''
          - type: custom:meteoalarm-card
            integration: meteoalarm
            entities: binary_sensor.meteoalarm
            override_headline: false
      - type: iframe
        url: >-
          https://embed.windy.com/embed.html?type=map&location=coordinates&metricRain=default&metricTemp=default&metricWind=default&zoom=8&overlay=wind&product=ecmwf&level=surface&lat=49.214&lon=1.906
        aspect_ratio: 100%
      - type: custom:mini-graph-card
        name: Débit de la Seine (Limay)
        height: 120
        hours_to_show: 48
        points_per_hour: 4
        hour24: true
        line_width: 2
        line_color: rgb(68, 115, 158)
        decimals: 1
        entities:
          - entity: sensor.debit_seine_limay
            name: Débit (Poissy)
            show_line: true
            show_points: true
            show_legend: true
            y_axis: secondary
          - entity: sensor.hauteur_seine_limay
            name: Hauteur (Limay)
            show_legend: true
            show_state: true
        show:
          fill: true
          graph: line
          icon: true
          name: true
          state: true
          labels: true
          extrema: true
          average: true
          icon_adaptive_color: false
          labels_secondary: true
        align_icon: right
        align_state: left
      - type: vertical-stack
        cards:
          - type: glance
            entities:
              - entity: sensor.lune
              - entity: sun.sun
              - entity: sensor.season
          - type: custom:list2bars-card
            entity: sensor.alertepollens
            title: Alerte Pollens
            attribute: risks
            oject_key: pollenNam
            oject_value: level
            object_key: pollenName
            object_value: level
            severity:
              - from: '0'
                to: '0'
                hide: true
              - from: '1'
                to: '1'
                color: '#DBDF00'
              - from: '2'
                to: '2'
                color: orange
              - from: '3'
                to: '3'
                color: red
            background: true
            color_background: true
            limit_value: false
            positions:
              name: 'on'
              value: 'on'
              icon: 'on'
            icon: mdi:flower-pollen
            complementary: false
            max: '3'
  - icon: mdi:calendar-account
    type: custom:masonry-layout
    badges: []
    cards:
      - initial_view: dayGridMonth
        type: calendar
        entities:
          - calendar.anniversaires
        title: Anniversaires
      - initial_view: listWeek
        type: calendar
        entities:
          - calendar.anniversaires
  - title: Chauffage
    path: chauffage
    cards:
      - type: custom:mini-graph-card
        entities:
          - entity: sensor.garage_mss310_power_w_main_channel
          - entity: sensor.garage_mss310_energy_kwh_main_channel
            show_state: true
            show_graph: false
        icon: mdi:fridge
        show:
          extrema: true
          legend: false
          average: true
          fill: fade
        name: Frigo/Congel
        line_width: 2
        lower_bound: 0
        min_bound_range: 100
        points_per_hour: 10
        line_color: '#fefefe'
      - type: custom:mini-graph-card
        entities:
          - entity: sensor.garage_2_mss310_power_w_main_channel
          - entity: sensor.garage_2_mss310_energy_kwh_main_channel
            show_state: true
            show_graph: false
        icon: mdi:nas
        show:
          extrema: true
          legend: false
          average: true
          fill: fade
        name: NAS/BOX
        line_width: 2
        lower_bound: 0
        min_bound_range: 100
        points_per_hour: 10
        line_color: '#fefefe'
      - type: custom:mini-graph-card
        entities:
          - entity: sensor.tablette_mss310_power_w_main_channel
          - entity: sensor.tablette_mss310_energy_kwh_main_channel
            show_state: true
            show_graph: false
        icon: mdi:tablet
        show:
          extrema: true
          legend: false
          average: true
          fill: fade
        name: Tablette
        line_width: 2
        lower_bound: 0
        min_bound_range: 100
        points_per_hour: 10
        line_color: '#fefefe'
      - type: custom:mini-graph-card
        entities:
          - entity: sensor.tv_mss310_power_w_main_channel
          - entity: sensor.tv_mss310_energy_kwh_main_channel
            show_state: true
            show_graph: false
        icon: mdi:television
        show:
          extrema: true
          legend: false
          average: true
          fill: fade
        name: TV
        line_width: 2
        lower_bound: 0
        min_bound_range: 100
        points_per_hour: 10
        line_color: '#fefefe'
      - type: custom:mini-graph-card
        entities:
          - entity: sensor.chauffage_chloe_power
          - entity: sensor.chauffage_chloe_energy
            show_state: true
            show_graph: false
        icon: mdi:radiator
        show:
          extrema: true
          legend: false
          average: true
          fill: fade
        name: Chauffage Chloé
        line_width: 2
        lower_bound: 0
        min_bound_range: 100
        points_per_hour: 10
        line_color: '#fefefe'
      - type: custom:mini-graph-card
        entities:
          - entity: sensor.chauffage_lucie_power
          - entity: sensor.chauffage_lucie_energy
            show_state: true
            show_graph: false
        icon: mdi:radiator
        show:
          extrema: true
          legend: false
          average: true
          fill: fade
        name: Chauffage Lucie
        line_width: 2
        lower_bound: 0
        min_bound_range: 100
        points_per_hour: 10
        line_color: '#fefefe'
      - type: custom:mini-graph-card
        entities:
          - entity: sensor.prise_bureau_power
          - entity: sensor.prise_bureau
            show_state: true
            show_graph: false
        icon: mdi:nas
        show:
          extrema: true
          legend: false
          average: true
          fill: fade
        name: Bureau Richard
        line_width: 2
        lower_bound: 0
        min_bound_range: 100
        points_per_hour: 10
        line_color: '#fefefe'
    icon: mdi:home-lightning-bolt
  - title: person card
    path: person-card
    cards:
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:swipe-card
                parameters:
                  effect: coverflow
                cards:
                  - type: custom:stack-in-card
                    mode: vertical
                    cards:
                      - type: custom:mushroom-person-card
                        entity: person.axelle
                        use_entity_picture: true
                        hide_name: false
                        layout: horizontal
                        card_mod:
                          style: |
                            ha-card {
                                border: none;
                                padding: 0;
                                 }
                            :host {
                                 --mush-icon-size: 80px;  
                                 --chip-box-shadow: none;
                                  --chip-background: none;
                                 } 
                            hui-vertical-stack-card $: |
                              div#root > * {
                              margin: 0px !important;
                            }
                      - type: custom:mushroom-chips-card
                        chips:
                          - type: template
                            icon_color: |2-
                                        {% set state=states('sensor.pixel_7a_battery_state') %}
                                        {% if state=='charging' %}
                                        green
                                        {% elif state=='discharging' %}
                                        #6f6f6f
                                       {% endif %}
                            entity: sensor.pixel_7a_battery_state
                            icon: mdi:power-plug
                            tap_action:
                              action: more-info
                            card_mod:
                              style: |
                                ha-card {
                                   padding: 0;
                                  --chip-border-width: 0px;
                                  --chip-box-shadow: none;
                                  --chip-background: none;
                                  margin-top: -30px;
                                padding-bottom: 0px;
                                padding-left: 0px;
                                padding-right: 0px;
                                }
                                hui-vertical-stack-card $: |
                                div#root > * {
                                margin: 0px !important;
                                }
                          - type: template
                            entity: sensor.pixel_7a_battery_level
                            icon: |2
                                        {% set bl = states('sensor.pixel_7a_battery_level') | int %}
                                        {% if bl < 10 %} mdi:battery-outline
                                        {% elif bl < 20 %} mdi:battery-10
                                        {% elif bl < 30 %} mdi:battery-20
                                        {% elif bl < 40 %} mdi:battery-30
                                        {% elif bl < 50 %} mdi:battery-40
                                        {% elif bl < 60 %} mdi:battery-50
                                        {% elif bl < 70 %} mdi:battery-60
                                        {% elif bl < 80 %} mdi:battery-70
                                        {% elif bl < 90 %} mdi:battery-80
                                        {% elif bl < 100 %} mdi:battery-90
                                        {% elif bl == 100 %} mdi:battery
                                        {% else %} mdi:battery-unknown
                                        {% endif %}
                            icon_color: |2-
                                        {% set bl = states('sensor.pixel_7a_battery_level') | int %}
                                        {% if bl < 10 %} red
                                        {% elif bl < 20 %} red
                                        {% elif bl < 30 %} red
                                        {% elif bl < 40 %} orange
                                        {% elif bl < 50 %} orange
                                        {% elif bl < 60 %} green
                                        {% elif bl < 70 %} green
                                        {% elif bl < 80 %} green
                                        {% elif bl < 90 %} green
                                        {% elif bl < 100 %} green
                                        {% elif bl == 100 %} green
                                        {% else %} grey
                                        {% endif %}
                            content: >
                              {% set bl =
                              states('sensor.pixel_7a_battery_level') | int %}

                              {% if bl < 100 %} 

                              {{ states('sensor.pixel_7a_battery_level') | int
                              }}%

                              {% endif %}
                            tap_action:
                              action: more-info
                            card_mod:
                              style: |
                                ha-card {
                                  padding: 0;
                                  --chip-border-width: 0px;
                                  --chip-box-shadow: none;
                                  --chip-background: none;
                                  padding-top: 0px;
                                margin-top: -30px;
                                padding-bottom: 0px;
                                padding-left: 0px;
                                padding-right: 0px;
                                }
                                hui-vertical-stack-card $: |
                                  div#root > * {
                                  margin: 0px !important;
                                }
                        alignment: center
                  - type: custom:stack-in-card
                    mode: vertical
                    cards:
                      - type: custom:button-card
                        entity: person.axelle
                        show_name: false
                        show_icon: false
                        aspect_ratio: 4/2
                        size: 50px
                        styles:
                          card:
                            - padding: 4%
                          custom_fields:
                            name:
                              - font-size: 20px;
                              - position: absolute
                              - left: 4%
                              - top: 12%
                              - color: '#ffffff'
                            steps:
                              - font-size: 15px;
                              - align-self: left
                              - position: absolute
                              - left: 4%
                              - top: 35%
                              - color: '#ffffff'
                            today:
                              - font-size: 15px;
                              - align-self: left
                              - position: absolute
                              - left: 4%
                              - top: 55%
                              - color: '#ffffff'
                            tomorrow:
                              - font-size: 15px;
                              - align-self: left
                              - position: absolute
                              - left: 4%
                              - top: 75%
                              - color: '#ffffff'
                        custom_fields:
                          name: |
                            [[[ return '<span> Richard </span>'
                            ]]]
                          steps: |
                            [[[
                              return `<ha-icon
                                icon="mdi:shoe-formal"
                                style="width: 20px; height: 20px;"></ha-icon
                                <span> ${states['sensor.total_steps_2'].state}</span>`
                            ]]]
                          today: |
                            [[[
                              if (states['calendar.axelle'].state == "on")
                                return `<ha-icon
                                  icon="mdi:calendar-account-outline"
                                  style="width: 22px; height: 22px;">
                                  </ha-icon>
                                  <span>${states['sensor.today_axelle'].state}  </span>`
                              else 
                                return `<ha-icon
                                  icon="mdi:calendar-account-outline"
                                  style="width: 22px; height: 22px;">
                                  </ha-icon>
                                  <span> A la maison</span>`
                            ]]]
                          tomorrow: |
                            [[[
                              if (states['input_text.agendaax'].state != "")
                                return `<ha-icon
                                  icon="mdi:calendar-clock"
                                  style="width: 22px; height: 22px;">
                                  </ha-icon>
                                  <span>${states['input_text.agendaax'].state}  </span>`
                              else 
                                return `<ha-icon
                                  icon="mdi:calendar-clock"
                                  style="width: 22px; height: 22px;">
                                  </ha-icon>
                                  <span>A la maison</span>`
                            ]]]
                        card_mod:
                          style: |
                            ha-card { 
                              background-color: rgba(0,0,0,0);
                              box-shadow: none;
                              font-color: white;
                              font-size: 15;
                            }
              - type: custom:swipe-card
                parameters:
                  effect: coverflow
                cards:
                  - type: custom:stack-in-card
                    mode: vertical
                    cards:
                      - type: custom:mushroom-person-card
                        entity: person.richard
                        use_entity_picture: true
                        hide_name: false
                        layout: horizontal
                        card_mod:
                          style: |
                            ha-card {
                                border: none;
                                padding: 0;
                                 }
                            :host {
                                 --mush-icon-size: 80px;  
                                 --chip-box-shadow: none;
                                  --chip-background: none;
                                 } 
                            hui-vertical-stack-card $: |
                              div#root > * {
                              margin: 0px !important;
                            }
                      - type: custom:mushroom-chips-card
                        chips:
                          - type: template
                            icon_color: |2-
                                        {% set state=states('sensor.samsung_a33_battery_state') %}
                                        {% if state=='charging' %}
                                        green
                                        {% elif state=='discharging' %}
                                        #6f6f6f
                                       {% endif %}
                            entity: sensor.pixel_7a_battery_state
                            icon: mdi:power-plug
                            tap_action:
                              action: more-info
                            card_mod:
                              style: |
                                ha-card {
                                   padding: 0;
                                  --chip-border-width: 0px;
                                  --chip-box-shadow: none;
                                  --chip-background: none;
                                  margin-top: -30px;
                                padding-bottom: 0px;
                                padding-left: 0px;
                                padding-right: 0px;
                                }
                                hui-vertical-stack-card $: |
                                div#root > * {
                                margin: 0px !important;
                                }
                          - type: template
                            entity: sensor.pixel_7a_battery_level
                            icon: |2
                                        {% set bl = states('sensor.samsung_a33_battery_level') | int %}
                                        {% if bl < 10 %} mdi:battery-outline
                                        {% elif bl < 20 %} mdi:battery-10
                                        {% elif bl < 30 %} mdi:battery-20
                                        {% elif bl < 40 %} mdi:battery-30
                                        {% elif bl < 50 %} mdi:battery-40
                                        {% elif bl < 60 %} mdi:battery-50
                                        {% elif bl < 70 %} mdi:battery-60
                                        {% elif bl < 80 %} mdi:battery-70
                                        {% elif bl < 90 %} mdi:battery-80
                                        {% elif bl < 100 %} mdi:battery-90
                                        {% elif bl == 100 %} mdi:battery
                                        {% else %} mdi:battery-unknown
                                        {% endif %}
                            icon_color: |2-
                                        {% set bl = states('sensor.samsung_a33_battery_level') | int %}
                                        {% if bl < 10 %} red
                                        {% elif bl < 20 %} red
                                        {% elif bl < 30 %} red
                                        {% elif bl < 40 %} orange
                                        {% elif bl < 50 %} orange
                                        {% elif bl < 60 %} green
                                        {% elif bl < 70 %} green
                                        {% elif bl < 80 %} green
                                        {% elif bl < 90 %} green
                                        {% elif bl < 100 %} green
                                        {% elif bl == 100 %} green
                                        {% else %} grey
                                        {% endif %}
                            content: >
                              {% set bl =
                              states('sensor.samsung_a33_battery_level') | int
                              %}

                              {% if bl < 100 %} 

                              {{ states('sensor.samsung_a33_battery_level') |
                              int }}%

                              {% endif %}
                            tap_action:
                              action: more-info
                            card_mod:
                              style: |
                                ha-card {
                                  padding: 0;
                                  --chip-border-width: 0px;
                                  --chip-box-shadow: none;
                                  --chip-background: none;
                                  padding-top: 0px;
                                margin-top: -30px;
                                padding-bottom: 0px;
                                padding-left: 0px;
                                padding-right: 0px;
                                }
                                hui-vertical-stack-card $: |
                                  div#root > * {
                                  margin: 0px !important;
                                }
                        alignment: center
                  - type: custom:stack-in-card
                    mode: vertical
                    cards:
                      - type: custom:button-card
                        entity: person.richard
                        show_name: false
                        show_icon: false
                        aspect_ratio: 4/2
                        size: 50px
                        styles:
                          card:
                            - padding: 4%
                          custom_fields:
                            name:
                              - font-size: 20px;
                              - position: absolute
                              - left: 4%
                              - top: 12%
                              - color: '#ffffff'
                            steps:
                              - font-size: 15px;
                              - align-self: left
                              - position: absolute
                              - left: 4%
                              - top: 35%
                              - color: '#ffffff'
                            today:
                              - font-size: 15px;
                              - align-self: left
                              - position: absolute
                              - left: 4%
                              - top: 55%
                              - color: '#ffffff'
                            tomorrow:
                              - font-size: 15px;
                              - align-self: left
                              - position: absolute
                              - left: 4%
                              - top: 75%
                              - color: '#ffffff'
                        custom_fields:
                          name: |
                            [[[ return '<span> Axelle </span>'
                            ]]]
                          steps: |
                            [[[
                              return `<ha-icon
                                icon="mdi:shoe-formal"
                                style="width: 20px; height: 20px;"></ha-icon
                                <span> ${states['sensor.total_steps'].state}</span>`
                            ]]]
                          today: |
                            [[[
                              if (states['calendar.richard'].state == "on")
                                return `<ha-icon
                                  icon="mdi:calendar-account-outline"
                                  style="width: 22px; height: 22px;">
                                  </ha-icon>
                                  <span>${states['sensor.today_richard'].state}  </span>`
                              else 
                                return `<ha-icon
                                  icon="mdi:calendar-account-outline"
                                  style="width: 22px; height: 22px;">
                                  </ha-icon>
                                  <span> A la maison</span>`
                            ]]]
                          tomorrow: |
                            [[[
                              if (states['input_text.agendaax'].state != "")
                                return `<ha-icon
                                  icon="mdi:calendar-clock"
                                  style="width: 22px; height: 22px;">
                                  </ha-icon>
                                  <span>${states['input_text.agendari'].state}  </span>`
                              else 
                                return `<ha-icon
                                  icon="mdi:calendar-clock"
                                  style="width: 22px; height: 22px;">
                                  </ha-icon>
                                  <span>A la maison</span>`
                            ]]]
                        card_mod:
                          style: |
                            ha-card { 
                              background-color: rgba(0,0,0,0);
                              box-shadow: none;
                              font-color: white;
                              font-size: 15;
                            }
          - type: horizontal-stack
            cards:
              - type: custom:swipe-card
                parameters:
                  effect: coverflow
                cards:
                  - type: custom:stack-in-card
                    mode: vertical
                    cards:
                      - type: custom:mushroom-person-card
                        entity: person.chloe
                        use_entity_picture: true
                        hide_name: false
                        layout: horizontal
                        card_mod:
                          style: |
                            ha-card {
                                border: none;
                                padding: 0;
                                 }
                            :host {
                                 --mush-icon-size: 80px;  
                                 --chip-box-shadow: none;
                                  --chip-background: none;
                                 } 
                            hui-vertical-stack-card $: |
                              div#root > * {
                              margin: 0px !important;
                            }
                      - type: custom:mushroom-chips-card
                        chips:
                          - type: template
                            icon_color: |2-
                                        {% set state=states('sensor.sm_a528b_battery_state') %}
                                        {% if state=='charging' %}
                                        green
                                        {% elif state=='discharging' %}
                                        #6f6f6f
                                       {% endif %}
                            entity: sensor.pixel_7a_battery_state
                            icon: mdi:power-plug
                            tap_action:
                              action: more-info
                            card_mod:
                              style: |
                                ha-card {
                                   padding: 0;
                                  --chip-border-width: 0px;
                                  --chip-box-shadow: none;
                                  --chip-background: none;
                                  margin-top: -30px;
                                padding-bottom: 0px;
                                padding-left: 0px;
                                padding-right: 0px;
                                }
                                hui-vertical-stack-card $: |
                                div#root > * {
                                margin: 0px !important;
                                }
                          - type: template
                            entity: sensor.pixel_7a_battery_level
                            icon: |2
                                        {% set bl = states('sensor.sm_a528b_battery_level') | int %}
                                        {% if bl < 10 %} mdi:battery-outline
                                        {% elif bl < 20 %} mdi:battery-10
                                        {% elif bl < 30 %} mdi:battery-20
                                        {% elif bl < 40 %} mdi:battery-30
                                        {% elif bl < 50 %} mdi:battery-40
                                        {% elif bl < 60 %} mdi:battery-50
                                        {% elif bl < 70 %} mdi:battery-60
                                        {% elif bl < 80 %} mdi:battery-70
                                        {% elif bl < 90 %} mdi:battery-80
                                        {% elif bl < 100 %} mdi:battery-90
                                        {% elif bl == 100 %} mdi:battery
                                        {% else %} mdi:battery-unknown
                                        {% endif %}
                            icon_color: |2-
                                        {% set bl = states('sensor.sm_a528b_battery_level') | int %}
                                        {% if bl < 10 %} red
                                        {% elif bl < 20 %} red
                                        {% elif bl < 30 %} red
                                        {% elif bl < 40 %} orange
                                        {% elif bl < 50 %} orange
                                        {% elif bl < 60 %} green
                                        {% elif bl < 70 %} green
                                        {% elif bl < 80 %} green
                                        {% elif bl < 90 %} green
                                        {% elif bl < 100 %} green
                                        {% elif bl == 100 %} green
                                        {% else %} grey
                                        {% endif %}
                            content: >
                              {% set bl =
                              states('sensor.sm_a528b_battery_level') | int %}

                              {% if bl < 100 %} 

                              {{ states('sensor.sm_a528b_battery_level') | int
                              }}%

                              {% endif %}
                            tap_action:
                              action: more-info
                            card_mod:
                              style: |
                                ha-card {
                                  padding: 0;
                                  --chip-border-width: 0px;
                                  --chip-box-shadow: none;
                                  --chip-background: none;
                                  padding-top: 0px;
                                margin-top: -30px;
                                padding-bottom: 0px;
                                padding-left: 0px;
                                padding-right: 0px;
                                }
                                hui-vertical-stack-card $: |
                                  div#root > * {
                                  margin: 0px !important;
                                }
                        alignment: center
                  - type: custom:stack-in-card
                    mode: vertical
                    cards:
                      - type: custom:button-card
                        entity: person.axelle
                        show_name: false
                        show_icon: false
                        aspect_ratio: 4/2
                        size: 50px
                        styles:
                          card:
                            - padding: 4%
                          custom_fields:
                            name:
                              - font-size: 20px;
                              - position: absolute
                              - left: 4%
                              - top: 12%
                              - color: '#ffffff'
                            steps:
                              - font-size: 15px;
                              - align-self: left
                              - position: absolute
                              - left: 4%
                              - top: 35%
                              - color: '#ffffff'
                            today:
                              - font-size: 15px;
                              - align-self: left
                              - position: absolute
                              - left: 4%
                              - top: 55%
                              - color: '#ffffff'
                            tomorrow:
                              - font-size: 15px;
                              - align-self: left
                              - position: absolute
                              - left: 4%
                              - top: 75%
                              - color: '#ffffff'
                        custom_fields:
                          name: |
                            [[[ return '<span> Chloé </span>'
                            ]]]
                          steps: |
                            [[[
                              return `<ha-icon
                                icon="mdi:school"
                                style="width: 20px; height: 20px;"></ha-icon
                                <span> ${states['sensor.chloe_moyenne'].state}/20</span>`
                            ]]]
                          today: |
                            [[[
                              if (states['sensor.debut_des_cours_de_chloe_aujourd_hui'].state == "Pas cours")
                                return `<ha-icon
                                  icon="mdi:calendar-account-outline"
                                  style="width: 22px; height: 22px;">
                                  </ha-icon>
                                  <span> Pas cours </span>`
                              else 
                                return `<ha-icon
                                  icon="mdi:calendar-account-outline"
                                  style="width: 22px; height: 22px;">
                                  </ha-icon>
                                  <span> ${states['sensor.debut_des_cours_de_chloe_aujourd_hui'].state} - ${states['sensor.fin_des_cours_de_chloe_aujourd_hui'].state}</span>`
                            ]]]
                          tomorrow: |
                            [[[
                              if (states['sensor.debut_des_cours_de_chloe_demain'].state == "Pas cours")
                                return `<ha-icon
                                  icon="mdi:calendar-account-outline"
                                  style="width: 22px; height: 22px;">
                                  </ha-icon>
                                  <span> Pas cours </span>`
                              else 
                                return `<ha-icon
                                  icon="mdi:calendar-account-outline"
                                  style="width: 22px; height: 22px;">
                                  </ha-icon>
                                  <span> ${states['sensor.debut_des_cours_de_chloe_demain'].state} - ${states['sensor.fin_des_cours_de_chloe_demain'].state}</span>`
                            ]]]
                        card_mod:
                          style: |
                            ha-card { 
                              background-color: rgba(0,0,0,0);
                              box-shadow: none;
                              font-color: white;
                              font-size: 15;
                            }
              - type: custom:swipe-card
                parameters:
                  effect: coverflow
                cards:
                  - type: custom:stack-in-card
                    mode: vertical
                    cards:
                      - type: custom:mushroom-person-card
                        entity: person.lucie
                        use_entity_picture: true
                        hide_name: false
                        layout: horizontal
                        card_mod:
                          style: |
                            ha-card {
                                border: none;
                                padding: 0;
                                 }
                            :host {
                                 --mush-icon-size: 80px;  
                                 --chip-box-shadow: none;
                                  --chip-background: none;
                                 } 
                            hui-vertical-stack-card $: |
                              div#root > * {
                              margin: 0px !important;
                            }
                      - type: custom:mushroom-chips-card
                        chips:
                          - type: template
                            icon_color: |2-
                                        {% set state=states('sensor.rmo_nx1_battery_state') %}
                                        {% if state=='charging' %}
                                        green
                                        {% elif state=='discharging' %}
                                        #6f6f6f
                                       {% endif %}
                            entity: sensor.pixel_7a_battery_state
                            icon: mdi:power-plug
                            tap_action:
                              action: more-info
                            card_mod:
                              style: |
                                ha-card {
                                   padding: 0;
                                  --chip-border-width: 0px;
                                  --chip-box-shadow: none;
                                  --chip-background: none;
                                  margin-top: -30px;
                                padding-bottom: 0px;
                                padding-left: 0px;
                                padding-right: 0px;
                                }
                                hui-vertical-stack-card $: |
                                div#root > * {
                                margin: 0px !important;
                                }
                          - type: template
                            entity: sensor.pixel_7a_battery_level
                            icon: |2
                                        {% set bl = states('sensor.rmo_nx1_battery_level') | int %}
                                        {% if bl < 10 %} mdi:battery-outline
                                        {% elif bl < 20 %} mdi:battery-10
                                        {% elif bl < 30 %} mdi:battery-20
                                        {% elif bl < 40 %} mdi:battery-30
                                        {% elif bl < 50 %} mdi:battery-40
                                        {% elif bl < 60 %} mdi:battery-50
                                        {% elif bl < 70 %} mdi:battery-60
                                        {% elif bl < 80 %} mdi:battery-70
                                        {% elif bl < 90 %} mdi:battery-80
                                        {% elif bl < 100 %} mdi:battery-90
                                        {% elif bl == 100 %} mdi:battery
                                        {% else %} mdi:battery-unknown
                                        {% endif %}
                            icon_color: |2-
                                        {% set bl = states('sensor.rmo_nx1_battery_level') | int %}
                                        {% if bl < 10 %} red
                                        {% elif bl < 20 %} red
                                        {% elif bl < 30 %} red
                                        {% elif bl < 40 %} orange
                                        {% elif bl < 50 %} orange
                                        {% elif bl < 60 %} green
                                        {% elif bl < 70 %} green
                                        {% elif bl < 80 %} green
                                        {% elif bl < 90 %} green
                                        {% elif bl < 100 %} green
                                        {% elif bl == 100 %} green
                                        {% else %} grey
                                        {% endif %}
                            content: >
                              {% set bl = states('sensor.rmo_nx1_battery_level')
                              | int %}

                              {% if bl < 100 %} 

                              {{ states('sensor.rmo_nx1_battery_level') | int
                              }}%

                              {% endif %}
                            tap_action:
                              action: more-info
                            card_mod:
                              style: |
                                ha-card {
                                  padding: 0;
                                  --chip-border-width: 0px;
                                  --chip-box-shadow: none;
                                  --chip-background: none;
                                  padding-top: 0px;
                                margin-top: -30px;
                                padding-bottom: 0px;
                                padding-left: 0px;
                                padding-right: 0px;
                                }
                                hui-vertical-stack-card $: |
                                  div#root > * {
                                  margin: 0px !important;
                                }
                        alignment: center
                  - type: custom:stack-in-card
                    mode: vertical
                    cards:
                      - type: custom:button-card
                        entity: person.axelle
                        show_name: false
                        show_icon: false
                        aspect_ratio: 4/2
                        size: 50px
                        styles:
                          card:
                            - padding: 4%
                          custom_fields:
                            name:
                              - font-size: 20px;
                              - position: absolute
                              - left: 4%
                              - top: 12%
                              - color: '#ffffff'
                            steps:
                              - font-size: 15px;
                              - align-self: left
                              - position: absolute
                              - left: 4%
                              - top: 35%
                              - color: '#ffffff'
                            today:
                              - font-size: 15px;
                              - align-self: left
                              - position: absolute
                              - left: 4%
                              - top: 55%
                              - color: '#ffffff'
                            tomorrow:
                              - font-size: 15px;
                              - align-self: left
                              - position: absolute
                              - left: 4%
                              - top: 75%
                              - color: '#ffffff'
                        custom_fields:
                          name: |
                            [[[ return '<span> Lucie </span>'
                            ]]]
                          steps: |
                            [[[
                              return `<ha-icon
                                icon="mdi:school"
                                style="width: 20px; height: 20px;"></ha-icon
                                <span> ${states['sensor.moyenne_lucie'].state}/20</span>`
                            ]]]
                          today: |
                            [[[
                              if (states['sensor.debut_des_cours_de_lucie_aujourd_hui'].state == "Pas cours")
                                return `<ha-icon
                                  icon="mdi:calendar-account-outline"
                                  style="width: 22px; height: 22px;">
                                  </ha-icon>
                                  <span> Pas cours </span>`
                              else 
                                return `<ha-icon
                                  icon="mdi:calendar-account-outline"
                                  style="width: 22px; height: 22px;">
                                  </ha-icon>
                                  <span> ${states['sensor.debut_des_cours_de_lucie_aujourd_hui'].state} - ${states['sensor.fin_des_cours_de_lucie_aujourd_hui'].state}</span>`
                            ]]]
                          tomorrow: |
                            [[[
                              if (states['sensor.debut_des_cours_de_lucie_demain'].state == "Pas cours")
                                return `<ha-icon
                                  icon="mdi:calendar-account-outline"
                                  style="width: 22px; height: 22px;">
                                  </ha-icon>
                                  <span> Pas cours </span>`
                              else 
                                return `<ha-icon
                                  icon="mdi:calendar-account-outline"
                                  style="width: 22px; height: 22px;">
                                  </ha-icon>
                                  <span> ${states['sensor.debut_des_cours_de_lucie_demain'].state} - ${states['sensor.fin_des_cours_de_lucie_demain'].state}</span>`
                            ]]]
                        card_mod:
                          style: |
                            ha-card { 
                              background-color: rgba(0,0,0,0);
                              box-shadow: none;
                              font-color: white;
                              font-size: 15;
                            }
      - type: horizontal-stack
        cards:
          - type: custom:stack-in-card
            mode: vertical
            cards:
              - type: custom:mushroom-person-card
                entity: person.axelle
                use_entity_picture: true
                hide_name: false
                layout: vertical
                card_mod:
                  style: |
                    ha-card {
                        border: none;
                        padding: 0;
                         }
                    :host {
                         --mush-icon-size: 75px;  
                         --chip-box-shadow: none;
                          --chip-background: none;
                         } 
                    hui-vertical-stack-card $: |
                      div#root > * {
                      margin: 0px !important;
                    }
              - type: custom:mushroom-chips-card
                chips:
                  - type: template
                    icon_color: |2-
                                {% set state=states('sensor.pixel_7a_battery_state') %}
                                {% if state=='charging' %}
                                green
                                {% elif state=='discharging' %}
                                #6f6f6f
                               {% endif %}
                    entity: sensor.pixel_7a_battery_state
                    icon: mdi:power-plug
                    tap_action:
                      action: more-info
                    card_mod:
                      style: |
                        ha-card {
                           padding: 0;
                          --chip-border-width: 0px;
                          --chip-box-shadow: none;
                          --chip-background: none;
                          margin-top: -15px;
                        padding-bottom: 0px;
                        padding-left: 0px;
                        padding-right: 0px;
                        }
                        hui-vertical-stack-card $: |
                        div#root > * {
                        margin: 0px !important;
                        }
                  - type: template
                    entity: sensor.pixel_7a_battery_level
                    icon: |2
                                {% set bl = states('sensor.pixel_7a_battery_level') | int %}
                                {% if bl < 10 %} mdi:battery-outline
                                {% elif bl < 20 %} mdi:battery-10
                                {% elif bl < 30 %} mdi:battery-20
                                {% elif bl < 40 %} mdi:battery-30
                                {% elif bl < 50 %} mdi:battery-40
                                {% elif bl < 60 %} mdi:battery-50
                                {% elif bl < 70 %} mdi:battery-60
                                {% elif bl < 80 %} mdi:battery-70
                                {% elif bl < 90 %} mdi:battery-80
                                {% elif bl < 100 %} mdi:battery-90
                                {% elif bl == 100 %} mdi:battery
                                {% else %} mdi:battery-unknown
                                {% endif %}
                    icon_color: |2-
                                {% set bl = states('sensor.pixel_7a_battery_level') | int %}
                                {% if bl < 10 %} red
                                {% elif bl < 20 %} red
                                {% elif bl < 30 %} red
                                {% elif bl < 40 %} orange
                                {% elif bl < 50 %} orange
                                {% elif bl < 60 %} green
                                {% elif bl < 70 %} green
                                {% elif bl < 80 %} green
                                {% elif bl < 90 %} green
                                {% elif bl < 100 %} green
                                {% elif bl == 100 %} green
                                {% else %} grey
                                {% endif %}
                    content: >
                      {% set bl = states('sensor.pixel_7a_battery_level') | int
                      %}

                      {% if bl < 100 %} 

                      {{ states('sensor.pixel_7a_battery_level') | int }}%

                      {% endif %}
                    tap_action:
                      action: more-info
                    card_mod:
                      style: |
                        ha-card {
                          padding: 0;
                          --chip-border-width: 0px;
                          --chip-box-shadow: none;
                          --chip-background: none;
                          padding-top: 0px;
                        margin-top: -15px;
                        padding-bottom: 0px;
                        padding-left: 0px;
                        padding-right: 0px;
                        }
                        hui-vertical-stack-card $: |
                          div#root > * {
                          margin: 0px !important;
                        }
                alignment: center
              - type: custom:mushroom-chips-card
                chips:
                  - type: template
                    entity: calendar.axelle
                    icon: mdi:calendar-today
                    content: |
                      {% if is_state('calendar.axelle', 'on') %}
                        {{ state_attr('calendar.axelle', 'message') }}
                        {% else %} 
                      Week-end   {% endif %} 
                alignment: center
                card_mod:
                  style: |
                    ha-card {
                      padding: 0;
                      --chip-border-width: 0px;
                      background:none;
                     --chip-box-shadow: none;
                      --chip-background: none;
                      padding-top: 0px;
                      margin-top: -15px;
                      padding-bottom: 0px;
                      padding-left: 0px;
                      padding-right: 0px;
                    }
                    hui-vertical-stack-card $: |
                          div#root > * {
                          margin: 0px !important;
                        }
              - type: custom:mushroom-chips-card
                chips:
                  - type: template
                    entity: calendar.axelle
                    icon: mdi:calendar-arrow-right
                    content: |
                      {% if states('input_text.agendaax') != '' %}
                        {{ states('input_text.agendaax') }}
                        {% else %} 
                        Week-end   {% endif %} 
                alignment: center
                card_mod:
                  style: |
                    ha-card {
                      padding: 0;
                      --chip-border-width: 0px;
                      background:none;
                      --chip-box-shadow: none;
                      --chip-background: none;
                      padding-top: 0px;
                      margin-top: -15px;
                      padding-bottom: 0px;
                      padding-left: 0px;
                      padding-right: 0px;

                    }
                    hui-vertical-stack-card $: |
                          div#root > * {
                          margin: 0px !important;
                        }
          - type: custom:stack-in-card
            mode: vertical
            cards:
              - type: custom:mushroom-person-card
                entity: person.richard
                use_entity_picture: true
                hide_name: false
                layout: vertical
                card_mod:
                  style: |
                    ha-card {
                        padding: 0;
                        border: none;
                         }
                    :host {
                         --mush-icon-size: 75px;  
                         --chip-box-shadow: none;
                          --chip-background: none;
                         } 
              - type: custom:mushroom-chips-card
                chips:
                  - type: template
                    icon_color: |2-
                                {% set state=states('sensor.samsung_a33_battery_state') %}
                                {% if state=='charging' %}
                                green
                                {% elif state=='discharging' %}
                                #6f6f6f
                               {% endif %}
                    entity: sensor.samsung_a33_battery_state
                    icon: mdi:power-plug
                    tap_action:
                      action: more-info
                    card_mod:
                      style: |
                        ha-card {
                          --chip-border-width: 0px;
                          --chip-box-shadow: none;
                          --chip-background: none;
                        margin-top: -15px;
                        padding-bottom: 0px;
                        padding-left: 0px;
                        padding-right: 0px;
                          
                        }
                  - type: template
                    entity: sensor.samsung_a33_battery_level
                    icon: |2
                                {% set bl = states('sensor.samsung_a33_battery_level') | int %}
                                {% if bl < 10 %} mdi:battery-outline
                                {% elif bl < 20 %} mdi:battery-10
                                {% elif bl < 30 %} mdi:battery-20
                                {% elif bl < 40 %} mdi:battery-30
                                {% elif bl < 50 %} mdi:battery-40
                                {% elif bl < 60 %} mdi:battery-50
                                {% elif bl < 70 %} mdi:battery-60
                                {% elif bl < 80 %} mdi:battery-70
                                {% elif bl < 90 %} mdi:battery-80
                                {% elif bl < 100 %} mdi:battery-90
                                {% elif bl == 100 %} mdi:battery
                                {% else %} mdi:battery-unknown
                                {% endif %}
                    icon_color: |2-
                                {% set bl = states('sensor.samsung_a33_battery_level') | int %}
                                {% if bl < 10 %} red
                                {% elif bl < 20 %} red
                                {% elif bl < 30 %} red
                                {% elif bl < 40 %} orange
                                {% elif bl < 50 %} orange
                                {% elif bl < 60 %} green
                                {% elif bl < 70 %} green
                                {% elif bl < 80 %} green
                                {% elif bl < 90 %} green
                                {% elif bl < 100 %} green
                                {% elif bl == 100 %} green
                                {% else %} grey
                                {% endif %}
                    content: >
                      {% set bl = states('sensor.samsung_a33_battery_level') |
                      int %}

                      {% if bl < 100 %} 

                      {{ states('sensor.samsung_a33_battery_level') | int }}%

                      {% endif %}
                    tap_action:
                      action: more-info
                    card_mod:
                      style: |
                        ha-card {
                          --chip-border-width: 0px;
                          --chip-box-shadow: none;
                          --chip-background: none;
                          margin-top: -15px;
                        padding-bottom: 0px;
                        padding-left: 0px;
                        padding-right: 0px;
                        }
                alignment: center
              - type: custom:mushroom-chips-card
                chips:
                  - type: template
                    entity: calendar.richard
                    icon: mdi:calendar-today
                    content: |
                      {% if is_state('calendar.richard', 'on') %}
                        {{ state_attr('calendar.richard', 'message') }}
                        {% else %} 
                      Week-end  {% endif %} 
                alignment: center
                card_mod:
                  style: |
                    ha-card {
                      --chip-border-width: 0px;
                      --chip-box-shadow: none;
                      --chip-background: none;
                      padding-top: 0px;
                      margin-top: -15px;
                      padding-bottom: 0px;
                      padding-left: 0px;
                      padding-right: 0px;

                    }
              - type: custom:mushroom-chips-card
                chips:
                  - type: template
                    entity: calendar.richard
                    icon: mdi:calendar-arrow-right
                    content: |
                      {% if states('input_text.agendari') != '' %}
                        {{ states('input_text.agendari') }}
                        {% else %} 
                        Week-end   {% endif %} 
                alignment: center
                card_mod:
                  style: |
                    ha-card {
                      --chip-border-width: 0px;
                      --chip-box-shadow: none;
                      --chip-background: none;
                      padding-top: 0px;
                      margin-top: -15px;
                      padding-bottom: 0px;
                      padding-left: 0px;
                      padding-right: 0px;

                    }
          - type: custom:stack-in-card
            mode: vertical
            cards:
              - type: custom:mushroom-person-card
                entity: person.chloe
                use_entity_picture: true
                hide_name: false
                layout: vertical
                card_mod:
                  style: |
                    ha-card {
                        border: none;
                         }
                    :host {
                         --mush-icon-size: 75px;  
                         --chip-box-shadow: none;
                          --chip-background: none;
                         } 
              - type: custom:mushroom-chips-card
                chips:
                  - type: template
                    icon_color: |2-
                                {% set state=states('sensor.sm_a528b_battery_state') %}
                                {% if state=='charging' %}
                                green
                                {% elif state=='discharging' %}
                                #6f6f6f
                               {% endif %}
                    entity: sensor.sm_a528b_battery_state
                    icon: mdi:power-plug
                    tap_action:
                      action: more-info
                    card_mod:
                      style: |
                        ha-card {
                          --chip-border-width: 0px;
                          --chip-box-shadow: none;
                          --chip-background: none;
                          margin-top: -15px;
                        padding-bottom: 0px;
                        padding-left: 0px;
                        padding-right: 0px;
                        }
                  - type: template
                    entity: sensor.sm_a528b_battery_level
                    icon: |2
                                {% set bl = states('sensor.sm_a528b_battery_level') | int %}
                                {% if bl < 10 %} mdi:battery-outline
                                {% elif bl < 20 %} mdi:battery-10
                                {% elif bl < 30 %} mdi:battery-20
                                {% elif bl < 40 %} mdi:battery-30
                                {% elif bl < 50 %} mdi:battery-40
                                {% elif bl < 60 %} mdi:battery-50
                                {% elif bl < 70 %} mdi:battery-60
                                {% elif bl < 80 %} mdi:battery-70
                                {% elif bl < 90 %} mdi:battery-80
                                {% elif bl < 100 %} mdi:battery-90
                                {% elif bl == 100 %} mdi:battery
                                {% else %} mdi:battery-unknown
                                {% endif %}
                    icon_color: |2-
                                {% set bl = states('sensor.sm_a528b_battery_level') | int %}
                                {% if bl < 10 %} red
                                {% elif bl < 20 %} red
                                {% elif bl < 30 %} red
                                {% elif bl < 40 %} orange
                                {% elif bl < 50 %} orange
                                {% elif bl < 60 %} green
                                {% elif bl < 70 %} green
                                {% elif bl < 80 %} green
                                {% elif bl < 90 %} green
                                {% elif bl < 100 %} green
                                {% elif bl == 100 %} green
                                {% else %} grey
                                {% endif %}
                    content: >
                      {% set bl = states('sensor.sm_a528b_battery_level') | int
                      %}

                      {% if bl < 100 %}

                      {{ states('sensor.sm_a528b_battery_level') | int }}%

                      {% endif %}
                    tap_action:
                      action: more-info
                    card_mod:
                      style: |
                        ha-card {
                          --chip-border-width: 0px;
                         --chip-box-shadow: none;
                          --chip-background: none;
                          margin-top: -15px;
                        padding-bottom: 0px;
                        padding-left: 0px;
                        padding-right: 0px;
                        }
                alignment: center
              - type: custom:mushroom-chips-card
                chips:
                  - type: template
                    entity: sensor.fin_des_cours_de_chloe_aujourd_hui
                    icon: mdi:calendar-today
                    content: >
                      {% if
                      states('sensor.debut_des_cours_de_chloe_aujourd_hui') ==
                      "Pas cours" %} {% else %} {{
                      states('sensor.debut_des_cours_de_chloe_aujourd_hui') }}
                      -  {% endif %} {{
                      states('sensor.fin_des_cours_de_chloe_aujourd_hui') }}
                    tap_action:
                      action: navigate
                      navigation_path: /lovelace/chloe
                alignment: center
                card_mod:
                  style: |
                    ha-card {
                      --chip-border-width: 0px;
                      --chip-box-shadow: none;
                      --chip-background: none;
                      padding-top: 0px;
                      margin-top: -15px;
                      padding-bottom: 0px;
                      padding-left: 0px;
                      padding-right: 0px;
                    }
              - type: custom:mushroom-chips-card
                chips:
                  - type: template
                    entity: sensor.fin_des_cours_de_chloe_demain
                    icon: mdi:calendar-arrow-right
                    content: >
                      {% if states('sensor.debut_des_cours_de_chloe_demain') ==
                      "Pas cours" %} {% else %} {{
                      states('sensor.debut_des_cours_de_chloe_demain') }} -  {%
                      endif %} {{ states('sensor.fin_des_cours_de_chloe_demain')
                      }}
                    tap_action:
                      action: navigate
                      navigation_path: /lovelace/chloe
                alignment: center
                card_mod:
                  style: |
                    ha-card {
                      --chip-border-width: 0px;
                      --chip-box-shadow: none;
                          --chip-background: none;
                        padding-top: 0px;
                      margin-top: -15px;
                      padding-bottom: 0px;
                      padding-left: 0px;
                      padding-right: 0px;

                    }
          - type: custom:stack-in-card
            mode: vertical
            cards:
              - type: custom:mushroom-person-card
                entity: person.lucie
                use_entity_picture: true
                hide_name: false
                layout: vertical
                card_mod:
                  style: |
                    ha-card {
                        border: none;
                         }
                    :host {
                         --mush-icon-size: 75px;  
                         --chip-box-shadow: none;
                          --chip-background: none;
                         } 
                       
              - type: custom:mushroom-chips-card
                chips:
                  - type: template
                    icon_color: |2-
                                {% set state=states('sensor.rmo_nx1_battery_state') %}
                                {% if state=='charging' %}
                                green
                                {% elif state=='discharging' %}
                                #6f6f6f
                               {% endif %}
                    entity: sensor.rmo_nx1_battery_state
                    icon: mdi:power-plug
                    tap_action:
                      action: more-info
                    card_mod:
                      style: |
                        ha-card {
                          --chip-border-width: 0px;
                          --chip-box-shadow: none;
                          --chip-background: none;
                          margin-top: -15px;
                        padding-bottom: 0px;
                        padding-left: 0px;
                        padding-right: 0px;
                        }
                  - type: template
                    entity: sensor.rmo_nx1_battery_level
                    icon: |2
                                {% set bl = states('sensor.rmo_nx1_battery_level') | int %}
                                {% if bl < 10 %} mdi:battery-outline
                                {% elif bl < 20 %} mdi:battery-10
                                {% elif bl < 30 %} mdi:battery-20
                                {% elif bl < 40 %} mdi:battery-30
                                {% elif bl < 50 %} mdi:battery-40
                                {% elif bl < 60 %} mdi:battery-50
                                {% elif bl < 70 %} mdi:battery-60
                                {% elif bl < 80 %} mdi:battery-70
                                {% elif bl < 90 %} mdi:battery-80
                                {% elif bl < 100 %} mdi:battery-90
                                {% elif bl == 100 %} mdi:battery
                                {% else %} mdi:battery-unknown
                                {% endif %}
                    icon_color: |2-
                                {% set bl = states('sensor.rmo_nx1_battery_level') | int %}
                                {% if bl < 10 %} red
                                {% elif bl < 20 %} red
                                {% elif bl < 30 %} red
                                {% elif bl < 40 %} orange
                                {% elif bl < 50 %} orange
                                {% elif bl < 60 %} green
                                {% elif bl < 70 %} green
                                {% elif bl < 80 %} green
                                {% elif bl < 90 %} green
                                {% elif bl < 100 %} green
                                {% elif bl == 100 %} green
                                {% else %} grey
                                {% endif %}
                    content: >
                      {% set bl = states('sensor.rmo_nx1_battery_level') | int
                      %}

                      {% if bl < 100 %} 

                      {{ states('sensor.rmo_nx1_battery_level') | int }}%

                      {% endif %}
                    tap_action:
                      action: more-info
                    card_mod:
                      style: |
                        ha-card {
                          --chip-border-width: 0px;
                          --chip-box-shadow: none;
                          --chip-background: none;
                          margin-top: -15px;
                        padding-bottom: 0px;
                        padding-left: 0px;
                        padding-right: 0px;

                        }
                alignment: center
              - type: custom:mushroom-chips-card
                chips:
                  - type: template
                    entity: sensor.fin_des_cours_de_lucie_aujourd_hui
                    icon: mdi:calendar-today
                    content: >
                      {% if
                      states('sensor.debut_des_cours_de_lucie_aujourd_hui') ==
                      "Pas cours" %} {% else %} {{
                      states('sensor.debut_des_cours_de_lucie_aujourd_hui') }}
                      -  {% endif %} {{
                      states('sensor.fin_des_cours_de_lucie_aujourd_hui') }}
                    tap_action:
                      action: navigate
                      navigation_path: /lovelace/lucie
                alignment: center
                card_mod:
                  style: |
                    ha-card {
                      --chip-border-width: 0px;
                      --chip-box-shadow: none;
                          --chip-background: none;
                      padding-top: 0px;
                      margin-top: -15px;
                      padding-bottom: 0px;
                      padding-left: 0px;
                      padding-right: 0px;

                    }
              - type: custom:mushroom-chips-card
                chips:
                  - type: template
                    entity: sensor.fin_des_cours_de_lucie_demain
                    icon: mdi:calendar-arrow-right
                    content: >
                      {% if states('sensor.debut_des_cours_de_lucie_demain') ==
                      "Pas cours" %} {% else %} {{
                      states('sensor.debut_des_cours_de_lucie_demain') }} -  {%
                      endif %} {{ states('sensor.fin_des_cours_de_lucie_demain')
                      }}
                    tap_action:
                      action: navigate
                      navigation_path: /lovelace/lucie
                alignment: center
                card_mod:
                  style: |
                    ha-card {
                      --chip-border-width: 0px;
                      --chip-box-shadow: none;
                          --chip-background: none;
                      padding-top: 0px;
                      margin-top: -15px;
                      padding-bottom: 0px;
                      padding-left: 0px;
                      padding-right: 0px;

                    }
